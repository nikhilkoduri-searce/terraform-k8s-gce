{
    "version": 3,
    "terraform_version": "0.11.13",
    "serial": 7,
    "lineage": "6e1d70be-2ff9-9262-9d41-d77026bbd896",
    "modules": [
        {
            "path": [
                "root"
            ],
            "outputs": {
                "external_ip": {
                    "sensitive": false,
                    "type": "string",
                    "value": "34.83.19.181"
                },
                "master_ip": {
                    "sensitive": false,
                    "type": "string",
                    "value": "10.138.0.2"
                }
            },
            "resources": {
                "data.template_file.cluster_autoscaler_deploy": {
                    "type": "template_file",
                    "depends_on": [
                        "local.ig_names"
                    ],
                    "primary": {
                        "id": "4adb628462d3810bf1b121300e00071997ee19142fc49e347fead39ebbec4dd9",
                        "attributes": {
                            "id": "4adb628462d3810bf1b121300e00071997ee19142fc49e347fead39ebbec4dd9",
                            "rendered": "apiVersion: extensions/v1beta1\nkind: Deployment\nmetadata:\n  name: cluster-autoscaler\n  namespace: kube-system\n  labels:\n    k8s-addon: cluster-autoscaler.addons.k8s.io\n    app: cluster-autoscaler\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      app: cluster-autoscaler\n  template:\n    metadata:\n      labels:\n        k8s-addon: cluster-autoscaler.addons.k8s.io\n        app: cluster-autoscaler\n      annotations:\n         # For 1.6, we keep the old tolerations in case of a downgrade to 1.5\n        scheduler.alpha.kubernetes.io/tolerations: '[{\"key\":\"dedicated\", \"value\":\"master\"}]'\n        prometheus.io/scrape: 'true'\n        prometheus.io/port: '8085'\n    spec:\n      tolerations:\n      - effect: NoSchedule\n        key: node-role.kubernetes.io/master\n      nodeSelector:\n        kubernetes.io/role: master\n      serviceAccountName: cluster-autoscaler\n      containers:\n        - name: cluster-autoscaler\n          image: k8s.gcr.io/cluster-autoscaler:v1.3.0\n          livenessProbe:\n            httpGet:\n              path: /health-check\n              port: 8085\n          readinessProbe:\n            httpGet:\n              path: /health-check\n              port: 8085\n          resources:\n            limits:\n              cpu: 100m\n              memory: 300Mi\n            requests:\n              cpu: 100m\n              memory: 300Mi\n          command:\n            - ./cluster-autoscaler\n            - --v=4\n            - --stderrthreshold=info\n            - --cloud-provider=gce\n            - --skip-nodes-with-local-storage=false\n            - --scale-down-delay-after-add=2m\n            - --scale-down-unneeded-time=5m\n            - --nodes=0:5:https://content.googleapis.com/compute/v1/projects/searce-playground/zones/us-west1-b/instanceGroups/k8s-nkv21-gcp-worker-core\n            - --nodes=0:5:https://content.googleapis.com/compute/v1/projects/searce-playground/zones/us-west1-b/instanceGroups/k8s-nkv21-gcp-worker-gpu\n          env:\n            - name: AWS_REGION\n              value:              ### Need to check this ###\n          volumeMounts:\n            - name: ssl-certs\n              mountPath: /etc/ssl/certs/ca-certificates.crt\n              readOnly: true\n      volumes:\n        - name: ssl-certs\n          hostPath:\n            path: /etc/ssl/certs/ca-certificates.crt\n      dnsPolicy: \"Default\"\n",
                            "template": "apiVersion: extensions/v1beta1\nkind: Deployment\nmetadata:\n  name: cluster-autoscaler\n  namespace: kube-system\n  labels:\n    k8s-addon: cluster-autoscaler.addons.k8s.io\n    app: cluster-autoscaler\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      app: cluster-autoscaler\n  template:\n    metadata:\n      labels:\n        k8s-addon: cluster-autoscaler.addons.k8s.io\n        app: cluster-autoscaler\n      annotations:\n         # For 1.6, we keep the old tolerations in case of a downgrade to 1.5\n        scheduler.alpha.kubernetes.io/tolerations: '[{\"key\":\"dedicated\", \"value\":\"master\"}]'\n        prometheus.io/scrape: 'true'\n        prometheus.io/port: '8085'\n    spec:\n      tolerations:\n      - effect: NoSchedule\n        key: node-role.kubernetes.io/master\n      nodeSelector:\n        kubernetes.io/role: master\n      serviceAccountName: cluster-autoscaler\n      containers:\n        - name: cluster-autoscaler\n          image: k8s.gcr.io/cluster-autoscaler:v1.3.0\n          livenessProbe:\n            httpGet:\n              path: /health-check\n              port: 8085\n          readinessProbe:\n            httpGet:\n              path: /health-check\n              port: 8085\n          resources:\n            limits:\n              cpu: 100m\n              memory: 300Mi\n            requests:\n              cpu: 100m\n              memory: 300Mi\n          command:\n            - ./cluster-autoscaler\n            - --v=4\n            - --stderrthreshold=info\n            - --cloud-provider=gce\n            - --skip-nodes-with-local-storage=false\n            - --scale-down-delay-after-add=2m\n            - --scale-down-unneeded-time=5m\n            ${ig_names}\n          env:\n            - name: AWS_REGION\n              value:              ### Need to check this ###\n          volumeMounts:\n            - name: ssl-certs\n              mountPath: /etc/ssl/certs/ca-certificates.crt\n              readOnly: true\n      volumes:\n        - name: ssl-certs\n          hostPath:\n            path: /etc/ssl/certs/ca-certificates.crt\n      dnsPolicy: \"Default\"\n",
                            "vars.%": "2",
                            "vars.ig_names": "- --nodes=0:5:https://content.googleapis.com/compute/v1/projects/searce-playground/zones/us-west1-b/instanceGroups/k8s-nkv21-gcp-worker-core\n            - --nodes=0:5:https://content.googleapis.com/compute/v1/projects/searce-playground/zones/us-west1-b/instanceGroups/k8s-nkv21-gcp-worker-gpu",
                            "vars.project_id": "searce-playground"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.template"
                },
                "google_compute_firewall.allow-http-https": {
                    "type": "google_compute_firewall",
                    "depends_on": [],
                    "primary": {
                        "id": "allow-http-https1",
                        "attributes": {
                            "allow.#": "1",
                            "allow.1250112605.ports.#": "2",
                            "allow.1250112605.ports.0": "80",
                            "allow.1250112605.ports.1": "443",
                            "allow.1250112605.protocol": "tcp",
                            "creation_timestamp": "2019-05-21T06:35:39.996-07:00",
                            "deny.#": "0",
                            "description": "",
                            "destination_ranges.#": "0",
                            "direction": "INGRESS",
                            "disabled": "false",
                            "id": "allow-http-https1",
                            "name": "allow-http-https1",
                            "network": "https://www.googleapis.com/compute/v1/projects/searce-playground/global/networks/default",
                            "priority": "1000",
                            "project": "searce-playground",
                            "self_link": "https://www.googleapis.com/compute/v1/projects/searce-playground/global/firewalls/allow-http-https1",
                            "source_ranges.#": "1",
                            "source_ranges.1080289494": "0.0.0.0/0",
                            "source_service_accounts.#": "0",
                            "source_tags.#": "0",
                            "target_service_accounts.#": "0",
                            "target_tags.#": "0"
                        },
                        "meta": {
                            "e2bfb730-ecaa-11e6-8f88-34363bc7c4c0": {
                                "create": 240000000000,
                                "delete": 240000000000,
                                "update": 240000000000
                            },
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.google"
                },
                "google_compute_firewall.default": {
                    "type": "google_compute_firewall",
                    "depends_on": [
                        "module.master-1"
                    ],
                    "primary": {
                        "id": "k8s-calico-ipip1",
                        "attributes": {
                            "allow.#": "1",
                            "allow.349804433.ports.#": "0",
                            "allow.349804433.protocol": "ipip",
                            "creation_timestamp": "2019-05-21T06:35:40.011-07:00",
                            "deny.#": "0",
                            "description": "",
                            "destination_ranges.#": "0",
                            "direction": "INGRESS",
                            "disabled": "false",
                            "id": "k8s-calico-ipip1",
                            "name": "k8s-calico-ipip1",
                            "network": "https://www.googleapis.com/compute/v1/projects/searce-playground/global/networks/default",
                            "priority": "1000",
                            "project": "searce-playground",
                            "self_link": "https://www.googleapis.com/compute/v1/projects/searce-playground/global/firewalls/k8s-calico-ipip1",
                            "source_ranges.#": "1",
                            "source_ranges.1569849063": "10.128.0.0/9",
                            "source_service_accounts.#": "0",
                            "source_tags.#": "0",
                            "target_service_accounts.#": "0",
                            "target_tags.#": "0"
                        },
                        "meta": {
                            "e2bfb730-ecaa-11e6-8f88-34363bc7c4c0": {
                                "create": 240000000000,
                                "delete": 240000000000,
                                "update": 240000000000
                            },
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.google"
                },
                "k8s_manifest.cluster_autoscaler_deploy": {
                    "type": "k8s_manifest",
                    "depends_on": [
                        "data.template_file.cluster_autoscaler_deploy",
                        "local_file.kubeconfig"
                    ],
                    "primary": {
                        "id": "Deployment/kube-system/cluster-autoscaler",
                        "attributes": {
                            "content": "apiVersion: extensions/v1beta1\nkind: Deployment\nmetadata:\n  name: cluster-autoscaler\n  namespace: kube-system\n  labels:\n    k8s-addon: cluster-autoscaler.addons.k8s.io\n    app: cluster-autoscaler\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      app: cluster-autoscaler\n  template:\n    metadata:\n      labels:\n        k8s-addon: cluster-autoscaler.addons.k8s.io\n        app: cluster-autoscaler\n      annotations:\n         # For 1.6, we keep the old tolerations in case of a downgrade to 1.5\n        scheduler.alpha.kubernetes.io/tolerations: '[{\"key\":\"dedicated\", \"value\":\"master\"}]'\n        prometheus.io/scrape: 'true'\n        prometheus.io/port: '8085'\n    spec:\n      tolerations:\n      - effect: NoSchedule\n        key: node-role.kubernetes.io/master\n      nodeSelector:\n        kubernetes.io/role: master\n      serviceAccountName: cluster-autoscaler\n      containers:\n        - name: cluster-autoscaler\n          image: k8s.gcr.io/cluster-autoscaler:v1.3.0\n          livenessProbe:\n            httpGet:\n              path: /health-check\n              port: 8085\n          readinessProbe:\n            httpGet:\n              path: /health-check\n              port: 8085\n          resources:\n            limits:\n              cpu: 100m\n              memory: 300Mi\n            requests:\n              cpu: 100m\n              memory: 300Mi\n          command:\n            - ./cluster-autoscaler\n            - --v=4\n            - --stderrthreshold=info\n            - --cloud-provider=gce\n            - --skip-nodes-with-local-storage=false\n            - --scale-down-delay-after-add=2m\n            - --scale-down-unneeded-time=5m\n            - --nodes=0:5:https://content.googleapis.com/compute/v1/projects/searce-playground/zones/us-west1-b/instanceGroups/k8s-nkv21-gcp-worker-core\n            - --nodes=0:5:https://content.googleapis.com/compute/v1/projects/searce-playground/zones/us-west1-b/instanceGroups/k8s-nkv21-gcp-worker-gpu\n          env:\n            - name: AWS_REGION\n              value:              ### Need to check this ###\n          volumeMounts:\n            - name: ssl-certs\n              mountPath: /etc/ssl/certs/ca-certificates.crt\n              readOnly: true\n      volumes:\n        - name: ssl-certs\n          hostPath:\n            path: /etc/ssl/certs/ca-certificates.crt\n      dnsPolicy: \"Default\"\n",
                            "id": "Deployment/kube-system/cluster-autoscaler",
                            "kind": "Deployment",
                            "name": "cluster-autoscaler",
                            "namespace": "kube-system",
                            "status": "/home/nikhilk/Onepanel/terraform-k8s-gce/generated/kubeconfig"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.k8s"
                },
                "local_file.kubeconfig": {
                    "type": "local_file",
                    "depends_on": [
                        "module.nat",
                        "null_resource.wait-for-cluster-availability"
                    ],
                    "primary": {
                        "id": "7b36aa87f9fbd60709777e7ed5a3170cc3567fbe",
                        "attributes": {
                            "content": "apiVersion: v1\nclusters:\n- cluster:\n    server: http://34.83.19.181:8080\n  name: kubernetes\ncontexts:\n- context:\n    cluster: kubernetes\n    user: kubernetes-admin\n  name: kubernetes-admin@kubernetes\ncurrent-context: kubernetes-admin@kubernetes\n",
                            "filename": "/home/nikhilk/Onepanel/terraform-k8s-gce/generated/kubeconfig",
                            "id": "7b36aa87f9fbd60709777e7ed5a3170cc3567fbe"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.local"
                },
                "null_resource.disk_cleanup": {
                    "type": "null_resource",
                    "depends_on": [],
                    "primary": {
                        "id": "132221667398456715",
                        "attributes": {
                            "id": "132221667398456715"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.null"
                },
                "null_resource.route_cleanup": {
                    "type": "null_resource",
                    "depends_on": [],
                    "primary": {
                        "id": "4399118748694105281",
                        "attributes": {
                            "id": "4399118748694105281"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.null"
                },
                "null_resource.wait-for-cluster-availability": {
                    "type": "null_resource",
                    "depends_on": [
                        "module.nat"
                    ],
                    "primary": {
                        "id": "8205507638924101537",
                        "attributes": {
                            "id": "8205507638924101537"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.null"
                },
                "random_id.cluster-uid": {
                    "type": "random_id",
                    "depends_on": [],
                    "primary": {
                        "id": "n5r0butN7wA",
                        "attributes": {
                            "b64": "n5r0butN7wA",
                            "b64_std": "n5r0butN7wA=",
                            "b64_url": "n5r0butN7wA",
                            "byte_length": "8",
                            "dec": "11500773355675315968",
                            "hex": "9f9af46eeb4def00",
                            "id": "n5r0butN7wA"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.random"
                },
                "random_id.token-part-1": {
                    "type": "random_id",
                    "depends_on": [],
                    "primary": {
                        "id": "aYio",
                        "attributes": {
                            "b64": "aYio",
                            "b64_std": "aYio",
                            "b64_url": "aYio",
                            "byte_length": "3",
                            "dec": "6916264",
                            "hex": "6988a8",
                            "id": "aYio"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.random"
                },
                "random_id.token-part-2": {
                    "type": "random_id",
                    "depends_on": [],
                    "primary": {
                        "id": "LE5TByZK2ME",
                        "attributes": {
                            "b64": "LE5TByZK2ME",
                            "b64_std": "LE5TByZK2ME=",
                            "b64_url": "LE5TByZK2ME",
                            "byte_length": "8",
                            "dec": "3192580476024576193",
                            "hex": "2c4e5307264ad8c1",
                            "id": "LE5TByZK2ME"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.random"
                },
                "tls_private_key.nat_key": {
                    "type": "tls_private_key",
                    "depends_on": [],
                    "primary": {
                        "id": "b002aa6ff48dcdb3c4cc6e42c2aa504dba92b4b9",
                        "attributes": {
                            "algorithm": "RSA",
                            "ecdsa_curve": "P224",
                            "id": "b002aa6ff48dcdb3c4cc6e42c2aa504dba92b4b9",
                            "private_key_pem": "-----BEGIN RSA PRIVATE KEY-----\nMIIEpAIBAAKCAQEA5yixXVDyvRwjdCC6DZEd+0A9k0KPZJ7+Xl8lwiO3yAtaMhWw\nJrJSJupmgZCA68hB+xdqoxXguPgpVtAE5nDq/mMEfKG0pxeWzIrUlEpBbAvO5zVO\nwBfjFkLTe5PNPW0kDZ5c7tfYLwhCW2XRFkO0BqFTWgZrdXjFy4pRFnxabYSwr9ya\nXzqDrrlaT8vSfFO/ImDuuRYH0pN/EWdBBD//ywhF1eFuzU1WMxYx3oKQSJZPb0/D\nndOxKrait6sViKBJZ/FCKc65HPmfnlp5T7ypVYU3F/7jo08P1SLIt0mFQ9C85XsY\nV+kRDmGzP5mq0gU4JI9GnJ2XPEf02xpp3Li//QIDAQABAoIBAQCgIfh8hI8jolKN\nJ/67V0RFwYLmeL2NHvdnuNIXY1b1Jagd+hhFNlLi0o6gQtKMg/XxU49z2rwKZx98\nHC7I1IB2KXH6RKs49YZpu+L3t1kK2ENEuBEN0X5m9XQ7r3AGlYzcQlBuxOfl7PrL\nBgWKPux/i1KKktfuUPP0xKTXxt1975SM3DIekpyQGQvanJRDoQHssxvbCTtzPPuW\nFbmhjbBWDXLyTrbQ3FysfycWsOKE3G21jTksF2I0sWMImQ76w/cLrfsz8g3s8FvE\nmrOYbim1D0Oi6+oA/dmrevrfLwcY5DRJW7r4WRgWWagJbdmnmsjNwkpt/AU6Wot+\nOwokyRqhAoGBAOoYEVob29NQA25hszRjuRcaKIXaEh4yhjAeoYJsrpjBLf3ruD99\nUr9TWbJUtg+q0xx6PLYIpvUXdEBaFsY5Q06UW2S2F5Iy18aSdXRaEaGL+ywam0L6\nMmmIHy2UdYyeqa1F2oRsOV2FC5rfJca79x+iwOXzhPX6hxzNT0Xsc+r/AoGBAPzK\nUCa3GIZm+rE4nZvLWInpVi3gp9nyYCMhDExglSLPlTYwEnzzCLkEesCk9I2qccLB\n256x0QkOJECRHf0B8AdS8rU/fk19Soh/NGl+Ejr4FmBqg1t6pjhzPcMi89+zHjxA\nTzhHatxdQP4mf4MRkGqmSGZArMxvuMgJELK2jgEDAoGBAJo9Y2l4w512sdwP2ZCi\nSDj1jk+rQJbO+WVJOWeDDoMtfY05u/txKo1PcOE0OYUXK+QukkPqbX89heZEtY7D\n+hoTXCh+Zgd5Inz+0Q7prYZAgi0sFrLJwV+RReG1WMJfZDL7vJ/V4vJAkEXp060e\n+hPJG8onaqrb+Bw9Fode5X2nAoGAN9JVMLdt6wACi+/8ndKhkpK8PRVG+5HSOO+r\nT5JkXHOKd5TWAFGKs5CRqsjCWCYzSNaWMM0DZASDbN6eyKgM4REoF24V7fak5s9w\nO3tjezIdft0GdMT4v65zDQxC3jsnihaJZ9wddNwC5hyKO989DM/7XNkbT2m8XC/k\nSBKX+RECgYAVWhPQRRZJdPykwVeOItvLOXWWr1A5Qx+1m88mqshn7AgBhE7igPXt\nIouQuLYnwOGFvKTJVfD8wAye2ZSCOu2DvepGot7dTCAYnCj48mypZ+biPWQmyECx\nqa+DY1w+p6CUWJiR3sYIAfaca+9Lm/5CrgkWYy9wJfHBLjyMFGhYzg==\n-----END RSA PRIVATE KEY-----\n",
                            "public_key_fingerprint_md5": "df:d0:e1:69:84:ba:ba:bb:73:11:25:fc:39:32:6d:38",
                            "public_key_openssh": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDnKLFdUPK9HCN0ILoNkR37QD2TQo9knv5eXyXCI7fIC1oyFbAmslIm6maBkIDryEH7F2qjFeC4+ClW0ATmcOr+YwR8obSnF5bMitSUSkFsC87nNU7AF+MWQtN7k809bSQNnlzu19gvCEJbZdEWQ7QGoVNaBmt1eMXLilEWfFpthLCv3JpfOoOuuVpPy9J8U78iYO65FgfSk38RZ0EEP//LCEXV4W7NTVYzFjHegpBIlk9vT8Od07EqtqK3qxWIoEln8UIpzrkc+Z+eWnlPvKlVhTcX/uOjTw/VIsi3SYVD0LzlexhX6REOYbM/marSBTgkj0acnZc8R/TbGmncuL/9\n",
                            "public_key_pem": "-----BEGIN PUBLIC KEY-----\nMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA5yixXVDyvRwjdCC6DZEd\n+0A9k0KPZJ7+Xl8lwiO3yAtaMhWwJrJSJupmgZCA68hB+xdqoxXguPgpVtAE5nDq\n/mMEfKG0pxeWzIrUlEpBbAvO5zVOwBfjFkLTe5PNPW0kDZ5c7tfYLwhCW2XRFkO0\nBqFTWgZrdXjFy4pRFnxabYSwr9yaXzqDrrlaT8vSfFO/ImDuuRYH0pN/EWdBBD//\nywhF1eFuzU1WMxYx3oKQSJZPb0/DndOxKrait6sViKBJZ/FCKc65HPmfnlp5T7yp\nVYU3F/7jo08P1SLIt0mFQ9C85XsYV+kRDmGzP5mq0gU4JI9GnJ2XPEf02xpp3Li/\n/QIDAQAB\n-----END PUBLIC KEY-----\n",
                            "rsa_bits": "2048"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.tls"
                }
            },
            "depends_on": []
        },
        {
            "path": [
                "root",
                "cluster-autoscalar"
            ],
            "outputs": {
                "kubeconfig_path": {
                    "sensitive": false,
                    "type": "string",
                    "value": "/home/nikhilk/Onepanel/terraform-k8s-gce/generated/kubeconfig"
                }
            },
            "resources": {
                "k8s_manifest.cluster_autoscaler_clusterrole": {
                    "type": "k8s_manifest",
                    "depends_on": [],
                    "primary": {
                        "id": "ClusterRole/kube-system/cluster-autoscaler",
                        "attributes": {
                            "content": "apiVersion: rbac.authorization.k8s.io/v1beta1\nkind: ClusterRole\nmetadata:\n  name: cluster-autoscaler\n  labels:\n    k8s-addon: cluster-autoscaler.addons.k8s.io\n    app: cluster-autoscaler\nrules:\n- apiGroups:\n  - \"\"\n  resources:\n  - events\n  - endpoints\n  verbs:\n  - create\n  - patch\n- apiGroups:\n  - \"\"\n  resources:\n  - pods/eviction\n  verbs:\n  - create\n- apiGroups:\n  - \"\"\n  resources:\n  - pods/status\n  verbs:\n  - update\n- apiGroups:\n  - \"\"\n  resources:\n  - endpoints\n  resourceNames:\n  - cluster-autoscaler\n  verbs:\n  - get\n  - update\n- apiGroups:\n  - \"\"\n  resources:\n  - nodes\n  verbs:\n  - watch\n  - list\n  - get\n  - update\n- apiGroups:\n  - \"\"\n  resources:\n  - pods\n  - services\n  - replicationcontrollers\n  - persistentvolumeclaims\n  - persistentvolumes\n  verbs:\n  - watch\n  - list\n  - get\n- apiGroups:\n  - extensions\n  resources:\n  - replicasets\n  - daemonsets\n  verbs:\n  - watch\n  - list\n  - get\n- apiGroups:\n  - policy\n  resources:\n  - poddisruptionbudgets\n  verbs:\n  - watch\n  - list\n- apiGroups:\n  - apps\n  resources:\n  - statefulsets\n  verbs:\n  - watch\n  - list\n  - get\n- apiGroups:\n  - storage.k8s.io\n  resources:\n  - storageclasses\n  verbs:\n  - watch\n  - list\n  - get",
                            "id": "ClusterRole/kube-system/cluster-autoscaler",
                            "kind": "ClusterRole",
                            "name": "cluster-autoscaler",
                            "namespace": "kube-system",
                            "status": "/home/nikhilk/Onepanel/terraform-k8s-gce/generated/kubeconfig"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.k8s"
                },
                "k8s_manifest.cluster_autoscaler_crb": {
                    "type": "k8s_manifest",
                    "depends_on": [
                        "k8s_manifest.cluster_autoscaler_clusterrole",
                        "k8s_manifest.cluster_autoscaler_sa"
                    ],
                    "primary": {
                        "id": "ClusterRoleBinding/kube-system/cluster-autoscaler",
                        "attributes": {
                            "content": "apiVersion: rbac.authorization.k8s.io/v1beta1\nkind: ClusterRoleBinding\nmetadata:\n  name: cluster-autoscaler\n  labels:\n    k8s-addon: cluster-autoscaler.addons.k8s.io\n    app: cluster-autoscaler\nroleRef:\n  apiGroup: rbac.authorization.k8s.io\n  kind: ClusterRole\n  name: cluster-autoscaler\nsubjects:\n  - kind: ServiceAccount\n    name: cluster-autoscaler\n    namespace: kube-system",
                            "id": "ClusterRoleBinding/kube-system/cluster-autoscaler",
                            "kind": "ClusterRoleBinding",
                            "name": "cluster-autoscaler",
                            "namespace": "kube-system",
                            "status": "/home/nikhilk/Onepanel/terraform-k8s-gce/generated/kubeconfig"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.k8s"
                },
                "k8s_manifest.cluster_autoscaler_role": {
                    "type": "k8s_manifest",
                    "depends_on": [],
                    "primary": {
                        "id": "Role/kube-system/cluster-autoscaler",
                        "attributes": {
                            "content": "apiVersion: rbac.authorization.k8s.io/v1beta1\nkind: Role\nmetadata:\n  name: cluster-autoscaler\n  namespace: kube-system\n  labels:\n    k8s-addon: cluster-autoscaler.addons.k8s.io\n    app: cluster-autoscaler\nrules:\n- apiGroups:\n  - \"\"\n  resources:\n  - configmaps\n  verbs:\n  - create\n- apiGroups:\n  - \"\"\n  resources:\n  - configmaps\n  resourceNames:\n  - cluster-autoscaler-status\n  verbs:\n  - delete\n  - get\n  - update",
                            "id": "Role/kube-system/cluster-autoscaler",
                            "kind": "Role",
                            "name": "cluster-autoscaler",
                            "namespace": "kube-system",
                            "status": "/home/nikhilk/Onepanel/terraform-k8s-gce/generated/kubeconfig"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.k8s"
                },
                "k8s_manifest.cluster_autoscaler_rolebinding": {
                    "type": "k8s_manifest",
                    "depends_on": [
                        "k8s_manifest.cluster_autoscaler_role",
                        "k8s_manifest.cluster_autoscaler_sa"
                    ],
                    "primary": {
                        "id": "RoleBinding/kube-system/cluster-autoscaler",
                        "attributes": {
                            "content": "apiVersion: rbac.authorization.k8s.io/v1beta1\nkind: RoleBinding\nmetadata:\n  name: cluster-autoscaler\n  namespace: kube-system\n  labels:\n    k8s-addon: cluster-autoscaler.addons.k8s.io\n    app: cluster-autoscaler\nroleRef:\n  apiGroup: rbac.authorization.k8s.io\n  kind: Role\n  name: cluster-autoscaler\nsubjects:\n  - kind: ServiceAccount\n    name: cluster-autoscaler\n    namespace: kube-system",
                            "id": "RoleBinding/kube-system/cluster-autoscaler",
                            "kind": "RoleBinding",
                            "name": "cluster-autoscaler",
                            "namespace": "kube-system",
                            "status": "/home/nikhilk/Onepanel/terraform-k8s-gce/generated/kubeconfig"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.k8s"
                },
                "k8s_manifest.cluster_autoscaler_sa": {
                    "type": "k8s_manifest",
                    "depends_on": [],
                    "primary": {
                        "id": "ServiceAccount/kube-system/cluster-autoscaler",
                        "attributes": {
                            "content": "apiVersion: v1\nkind: ServiceAccount\nmetadata:\n  labels:\n    k8s-addon: cluster-autoscaler.addons.k8s.io\n    app: cluster-autoscaler\n  name: cluster-autoscaler\n  namespace: kube-system",
                            "id": "ServiceAccount/kube-system/cluster-autoscaler",
                            "kind": "ServiceAccount",
                            "name": "cluster-autoscaler",
                            "namespace": "kube-system",
                            "status": "/home/nikhilk/Onepanel/terraform-k8s-gce/generated/kubeconfig"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.k8s"
                }
            },
            "depends_on": []
        },
        {
            "path": [
                "root",
                "gcp-worker-core"
            ],
            "outputs": {
                "worker_ca_max": {
                    "sensitive": false,
                    "type": "string",
                    "value": "5"
                },
                "worker_ca_min": {
                    "sensitive": false,
                    "type": "string",
                    "value": "0"
                },
                "worker_name": {
                    "sensitive": false,
                    "type": "string",
                    "value": "k8s-nkv21-gcp-worker-core"
                },
                "worker_zone": {
                    "sensitive": false,
                    "type": "string",
                    "value": "us-west1-b"
                }
            },
            "resources": {
                "data.google_client_config.current": {
                    "type": "google_client_config",
                    "depends_on": [],
                    "primary": {
                        "id": "2019-05-21 13:35:33.362313642 +0000 UTC",
                        "attributes": {
                            "access_token": "ya29.GlsQB6kcQEHQQ41NBcBZzVtEwQJrF_YoVF5815X-OyFMbFAUxP2-LQSGRrzW9rBd8WsGADn0jdf4l_UFRqLdcoLcbr1QRcOrAEJ5qAsgd5d1LfFNmntib_h_VAkk",
                            "id": "2019-05-21 13:35:33.362313642 +0000 UTC",
                            "project": "searce-playground",
                            "region": "us-west1"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.google-beta"
                },
                "data.template_cloudinit_config.node": {
                    "type": "template_cloudinit_config",
                    "depends_on": [
                        "data.template_file.core-init",
                        "data.template_file.iptables",
                        "data.template_file.node-bootstrap"
                    ],
                    "primary": {
                        "id": "3893707764",
                        "attributes": {
                            "base64_encode": "true",
                            "gzip": "true",
                            "id": "3893707764",
                            "part.#": "3",
                            "part.0.content": "#!/bin/bash -xe\n\ncurl --retry 5 -fsSL https://download.docker.com/linux/ubuntu/gpg | apt-key add -\ncurl -fsSL https://packages.cloud.google.com/apt/doc/apt-key.gpg | apt-key add -\n\ncat \u003c\u003cEOF \u003e /etc/apt/sources.list.d/kubernetes.list\ndeb http://apt.kubernetes.io/ kubernetes-xenial main\nEOF\n\nsudo add-apt-repository \\\n   \"deb [arch=amd64] https://download.docker.com/linux/ubuntu \\\n   $(lsb_release -cs) \\\n   stable\"\n\necho \"checkpoint-onepanel repository added\"\n\nsudo apt-get remove sshguard -y\nsudo apt-get remove --auto-remove sshguard -y\n\necho \"checkpoint-onepanel ssh-guard uninstalled\"\n\nsudo apt-get update\n\necho \"checkpoint-onepanel apt-get updated\"\n\nnetwork_plugin=kubenet\nif [ \"calico\" == \"calico\" ]; then\n  network_plugin=cni\nfi\n\necho \"checkpoint-onepanel network plugin set to cni\"\n\n# Drop in config for kubenet and cloud provider\nmkdir -p /etc/systemd/system/kubelet.service.d\ncat \u003e /etc/systemd/system/kubelet.service.d/20-gcenet.conf \u003c\u003cEOF\n[Service]\nEnvironment=\"KUBELET_NETWORK_ARGS=--network-plugin=${network_plugin} --cni-conf-dir=/etc/cni/net.d --cni-bin-dir=/opt/cni/bin\"\nEnvironment=\"KUBELET_DNS_ARGS=--cluster-dns=10.96.0.10 --cluster-domain=cluster.local\"\nEnvironment=\"KUBELET_EXTRA_ARGS=--cloud-provider=gce\"\nEOF\n\necho \"checkpoint-onepanel 20-gcenet.cong edited\"\n\nmkdir -p /etc/kubernetes\ncat \u003c\u003c'EOF' \u003e /etc/kubernetes/gce.conf\n[global]\nmultizone = true\nnode-tags = k8s-nkv21-gcp-worker-core\nnode-instance-prefix = k8s-nkv21-gcp-worker-core\nnetwork-project-id = searce-playground\nnetwork-name = default\nsubnetwork-name = default\n\nEOF\ncp /etc/kubernetes/gce.conf /etc/gce.conf\n\necho \"checkpoint-onepanel gce conf configured\"\n\n# kubeadm 1.8 workaround for https://github.com/kubernetes/release/issues/406\nmkdir -p /etc/kubernetes/pki\ncp /etc/kubernetes/gce.conf /etc/kubernetes/pki/gce.conf\n\n# for GLBC\ntouch /var/log/glbc.log\n\nsudo apt-get install -y \\\n  jq \\\n  nginx \\\n  docker-ce=17.03.2** \\\n  kubernetes-cni=0.6.0* \\\n  kubelet=1.11.8* \\\n  kubeadm=1.11.8* \\\n  kubectl=1.11.8* \\\n\necho \"checkpoint-onepanel docker kubelet kubeadm kubectl installed\"\n\ncat \u003e /etc/docker/daemon.json \u003c\u003cEOF\n{\n  \"storage-driver\": \"overlay2\"\n}\nEOF\n\necho \"checkpoint-onepanel docker storage-driver set to overlay2\"\nsystemctl restart docker\n\n\necho \"checkpoint-onepanel docker service restarted\"\n\nfor f in kubelet kubeadm kubectl; do\n  gsutil cp gs://kubernetes-release/release/v1.11.8/bin/linux/amd64/$f /usr/bin/$f\n  chmod +x /usr/bin/$f\ndone\n\necho \"KUBELET_EXTRA_ARGS= --cloud-provider=gce\" \u003e /etc/default/kubelet\necho \"KUBELET_EXTRA_ARGS= --cloud-provider=gce --node-labels=kubernetes.io/role=core,onepanel.io/machine-type=cpu\" \u003e /etc/default/kubelet\necho \"checkpoint-onepanel node labels added\"\n\nsystemctl daemon-reload\n",
                            "part.0.content_type": "text/x-shellscript",
                            "part.0.filename": "scripts/per-instance/10-k8s-core.sh",
                            "part.0.merge_type": "",
                            "part.1.content": "#!/bin/bash -xe\nkubeadm join --token=6988a8.2c4e5307264ad8c1 --discovery-token-unsafe-skip-ca-verification 10.138.0.2:6443\n",
                            "part.1.content_type": "text/x-shellscript",
                            "part.1.filename": "scripts/per-instance/20-node.sh",
                            "part.1.merge_type": "",
                            "part.2.content": "#!/bin/bash\n\n# Docker 1.13+ defaults FORWRD to DROP. Allow the cbr0 interface.\niptables -A FORWARD -i cbr0 -j ACCEPT\niptables -A FORWARD -o cbr0 -j ACCEPT",
                            "part.2.content_type": "text/x-shellscript",
                            "part.2.filename": "scripts/per-boot/10-iptables.sh",
                            "part.2.merge_type": "",
                            "rendered": "H4sIAAAAAAAA/7xX4W4jtxH+T8DvMN07IG1SciXZ8Sm+bADfWQ6K3J0D2WlauIbBJUcrWlxyS3J1UtO8e7HcXUuyZd8VaO+XvJyZb4Yzw2/Gb60JaAK9Wld4AmWtg6q4C2mpVihfQ25rI7lbZ8n7v7yfvLn45cPZ6fTvCWm+6F/ReWXNCQzZ4IAcEEq3lQ5Ij32mfGW9ClGXh8DFvEQTXsNMaTS8xCzxwqkq+LRCR5XxgRuB6XBAF2NPhXXI/DzZAF45bvwMHZ0YYaUyxQm8ylXYUoi3CbgK6Yr6OWrdOjgg71WJjwJ/8Yc0VybNuZ8DXSEhonYaKHUY3Bq+BTrzl+9gHkLlT9JU2o9GWy6ZtGKBjglbplqZepXWeW1CnRZVAf8GXgW6wDVwKYF2iDs4FRcLXqBnQttassLaQmNE41VIpRVpB8H2ARLBA3z//eTiHH6AFEPUTr2tnUDPtPKByXRR5+gMhu6ESMyj+5O00WZbYmVT2HzSFRrFNZRcGTK5OCfE19I2nmkThcNYT+vW8A8CAEmDe82dmGe8lMdHN5+dq9b+5R+1z28dauQegQr/p/bcB55rTAhBMbeQiDmKRWWVCdQarLhBDVuhcClRJn2oVaAFBnBY2iWC9/Oi5k4CXe+VU8rrYOke7Wd8ez+nrV5tYtNq/TiAupI84HMwu5oNgMHw0brFbaXrQpmsqYvBQNQMriERXCthE8iyzd83ryHM0RCAB6bCKDJTz3nvDKA1AI8BggVhVELICzhztgJlQFgzUwXMrIMuGuBGQuxcqJxdKomOlAupHNCq7Ue/9gFL2f3GXtQYmEe3VAKZjB38w+fppqMBLUTjlzWhtI1Pri9b+Q2ZmKVy1jS0kiU//fJm8m5ydfthcvXrxfSn29Ppj5cZpd1NaZeal7/t5up3oFQYRRt8KpXLYmDCqLTxKjtprkwrtFWIwlyZZL/7sw+XvWuhax/QUWl8Nhyw747ZgA0HsCWwzVPLuk+mreD6CdjJ366mpxtgW0vaFyArBCbte3264DuZLAClaptut3gbLuiI5qvJxflXfbk20rQQGEtCrgttc65vSBwi/7IGIYPgaiTGSqSBFx4yaAjdLJajIS1ERZv0o4sM32r13E8rhzO1et6gr6ezdygCVRIy8MhdY675unDN8LpXawYNZCBxxmsdiK/zJyQxgeJRHu5v2gru7/1MqguB8eV0z6d2MdEv4hPisoQhG0MTAY+RxtfVE2ehwrzOI19uhdBRZKq8r9GnR4PjJ8uWVgv16Vvs6m9d6kWM5sd3b96SYGsxh3TJXaptkRY6F0zb4gHPdQQItJ0Jd/+MP6ZQZhX/agcAFZgNX7HBIRt9/XU83xo6wqhswI7ZYCPRGLIhGw7ZeHPGZfnoTAS9dfZMSdoweuz7SnQYsE3jW/TUWqWSY2kNu/PWdAz0GwFIfLCOF0ilU0t0yQkkdolO8/UoIb9/6jl2Ae1i9DS8wWmJsQnRoQ/chc6QfA52y5K9ZbxcU91Zw+xPZOI1SEsACl8HpUFUUDRduVWsvhX732Wb/rhItRM+rgLpyxmktXfx/OWMAIh5aSV8s9o5ltbcz8g9RAd7me6+Ou3D7afGfwkDlEbq0TxH7bPdnchZjVnDNn/uk9qcllzMlUEa1hVmoqo/EcnesWslQutys7jc17httCbHlsv/w2Y9GsQ7f9mtuu+wO6sMUBrsAk12/N14zMdsJI7w28PBq9HxEZdjMQRKpfKi6f91q0lr4/kMqV+oigpOl+jUTAne3B2GAzY8HLMBG50cHx0d/u8yllsbmv9DVBVXUf/FMhaXr/b5Dtnw8Jt+Onk4v5j+Oj1r2OFsevEzg1Ot7cdm/QORuwEoE9DNuEBG+qCBnkar0+kZUNWq0Ts4fft28vPVfi37QOthQik9IP8JAAD//39wCj07DgAA"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.template"
                },
                "data.template_file.core-init": {
                    "type": "template_file",
                    "depends_on": [
                        "data.google_client_config.current",
                        "local.name"
                    ],
                    "primary": {
                        "id": "0a8c5dd5aa08190859c7889041d81e584041febd2b41643f0bb575201dde3055",
                        "attributes": {
                            "id": "0a8c5dd5aa08190859c7889041d81e584041febd2b41643f0bb575201dde3055",
                            "rendered": "#!/bin/bash -xe\n\ncurl --retry 5 -fsSL https://download.docker.com/linux/ubuntu/gpg | apt-key add -\ncurl -fsSL https://packages.cloud.google.com/apt/doc/apt-key.gpg | apt-key add -\n\ncat \u003c\u003cEOF \u003e /etc/apt/sources.list.d/kubernetes.list\ndeb http://apt.kubernetes.io/ kubernetes-xenial main\nEOF\n\nsudo add-apt-repository \\\n   \"deb [arch=amd64] https://download.docker.com/linux/ubuntu \\\n   $(lsb_release -cs) \\\n   stable\"\n\necho \"checkpoint-onepanel repository added\"\n\nsudo apt-get remove sshguard -y\nsudo apt-get remove --auto-remove sshguard -y\n\necho \"checkpoint-onepanel ssh-guard uninstalled\"\n\nsudo apt-get update\n\necho \"checkpoint-onepanel apt-get updated\"\n\nnetwork_plugin=kubenet\nif [ \"calico\" == \"calico\" ]; then\n  network_plugin=cni\nfi\n\necho \"checkpoint-onepanel network plugin set to cni\"\n\n# Drop in config for kubenet and cloud provider\nmkdir -p /etc/systemd/system/kubelet.service.d\ncat \u003e /etc/systemd/system/kubelet.service.d/20-gcenet.conf \u003c\u003cEOF\n[Service]\nEnvironment=\"KUBELET_NETWORK_ARGS=--network-plugin=${network_plugin} --cni-conf-dir=/etc/cni/net.d --cni-bin-dir=/opt/cni/bin\"\nEnvironment=\"KUBELET_DNS_ARGS=--cluster-dns=10.96.0.10 --cluster-domain=cluster.local\"\nEnvironment=\"KUBELET_EXTRA_ARGS=--cloud-provider=gce\"\nEOF\n\necho \"checkpoint-onepanel 20-gcenet.cong edited\"\n\nmkdir -p /etc/kubernetes\ncat \u003c\u003c'EOF' \u003e /etc/kubernetes/gce.conf\n[global]\nmultizone = true\nnode-tags = k8s-nkv21-gcp-worker-core\nnode-instance-prefix = k8s-nkv21-gcp-worker-core\nnetwork-project-id = searce-playground\nnetwork-name = default\nsubnetwork-name = default\n\nEOF\ncp /etc/kubernetes/gce.conf /etc/gce.conf\n\necho \"checkpoint-onepanel gce conf configured\"\n\n# kubeadm 1.8 workaround for https://github.com/kubernetes/release/issues/406\nmkdir -p /etc/kubernetes/pki\ncp /etc/kubernetes/gce.conf /etc/kubernetes/pki/gce.conf\n\n# for GLBC\ntouch /var/log/glbc.log\n\nsudo apt-get install -y \\\n  jq \\\n  nginx \\\n  docker-ce=17.03.2** \\\n  kubernetes-cni=0.6.0* \\\n  kubelet=1.11.8* \\\n  kubeadm=1.11.8* \\\n  kubectl=1.11.8* \\\n\necho \"checkpoint-onepanel docker kubelet kubeadm kubectl installed\"\n\ncat \u003e /etc/docker/daemon.json \u003c\u003cEOF\n{\n  \"storage-driver\": \"overlay2\"\n}\nEOF\n\necho \"checkpoint-onepanel docker storage-driver set to overlay2\"\nsystemctl restart docker\n\n\necho \"checkpoint-onepanel docker service restarted\"\n\nfor f in kubelet kubeadm kubectl; do\n  gsutil cp gs://kubernetes-release/release/v1.11.8/bin/linux/amd64/$f /usr/bin/$f\n  chmod +x /usr/bin/$f\ndone\n\necho \"KUBELET_EXTRA_ARGS= --cloud-provider=gce\" \u003e /etc/default/kubelet\necho \"KUBELET_EXTRA_ARGS= --cloud-provider=gce --node-labels=kubernetes.io/role=core,onepanel.io/machine-type=cpu\" \u003e /etc/default/kubelet\necho \"checkpoint-onepanel node labels added\"\n\nsystemctl daemon-reload\n",
                            "template": "#!/bin/bash -xe\n\ncurl --retry 5 -fsSL https://download.docker.com/linux/ubuntu/gpg | apt-key add -\ncurl -fsSL https://packages.cloud.google.com/apt/doc/apt-key.gpg | apt-key add -\n\ncat \u003c\u003cEOF \u003e /etc/apt/sources.list.d/kubernetes.list\ndeb http://apt.kubernetes.io/ kubernetes-xenial main\nEOF\n\nsudo add-apt-repository \\\n   \"deb [arch=amd64] https://download.docker.com/linux/ubuntu \\\n   $(lsb_release -cs) \\\n   stable\"\n\necho \"checkpoint-onepanel repository added\"\n\nsudo apt-get remove sshguard -y\nsudo apt-get remove --auto-remove sshguard -y\n\necho \"checkpoint-onepanel ssh-guard uninstalled\"\n\nsudo apt-get update\n\necho \"checkpoint-onepanel apt-get updated\"\n\nnetwork_plugin=kubenet\nif [ \"${pod_network_type}\" == \"calico\" ]; then\n  network_plugin=cni\nfi\n\necho \"checkpoint-onepanel network plugin set to cni\"\n\n# Drop in config for kubenet and cloud provider\nmkdir -p /etc/systemd/system/kubelet.service.d\ncat \u003e /etc/systemd/system/kubelet.service.d/20-gcenet.conf \u003c\u003cEOF\n[Service]\nEnvironment=\"KUBELET_NETWORK_ARGS=--network-plugin=$${network_plugin} --cni-conf-dir=/etc/cni/net.d --cni-bin-dir=/opt/cni/bin\"\nEnvironment=\"KUBELET_DNS_ARGS=--cluster-dns=${dns_ip} --cluster-domain=cluster.local\"\nEnvironment=\"KUBELET_EXTRA_ARGS=--cloud-provider=gce\"\nEOF\n\necho \"checkpoint-onepanel 20-gcenet.cong edited\"\n\nmkdir -p /etc/kubernetes\ncat \u003c\u003c'EOF' \u003e /etc/kubernetes/gce.conf\n[global]\nmultizone = true\nnode-tags = ${tags}\nnode-instance-prefix = ${instance_prefix}\nnetwork-project-id = ${project_id}\nnetwork-name = ${network_name}\nsubnetwork-name = ${subnetwork_name}\n${gce_conf_add}\nEOF\ncp /etc/kubernetes/gce.conf /etc/gce.conf\n\necho \"checkpoint-onepanel gce conf configured\"\n\n# kubeadm 1.8 workaround for https://github.com/kubernetes/release/issues/406\nmkdir -p /etc/kubernetes/pki\ncp /etc/kubernetes/gce.conf /etc/kubernetes/pki/gce.conf\n\n# for GLBC\ntouch /var/log/glbc.log\n\nsudo apt-get install -y \\\n  jq \\\n  nginx \\\n  docker-ce=${docker_version}* \\\n  kubernetes-cni=${cni_version}* \\\n  kubelet=${k8s_version}* \\\n  kubeadm=${k8s_version}* \\\n  kubectl=${k8s_version}* \\\n\necho \"checkpoint-onepanel docker kubelet kubeadm kubectl installed\"\n\ncat \u003e /etc/docker/daemon.json \u003c\u003cEOF\n{\n  \"storage-driver\": \"overlay2\"\n}\nEOF\n\necho \"checkpoint-onepanel docker storage-driver set to overlay2\"\nsystemctl restart docker\n\n\necho \"checkpoint-onepanel docker service restarted\"\n\nfor f in kubelet kubeadm kubectl; do\n  gsutil cp gs://kubernetes-release/release/v${k8s_version_override}/bin/linux/amd64/$f /usr/bin/$f\n  chmod +x /usr/bin/$f\ndone\n\necho \"KUBELET_EXTRA_ARGS= --cloud-provider=gce\" \u003e /etc/default/kubelet\necho \"KUBELET_EXTRA_ARGS= --cloud-provider=gce --node-labels=${add_labels}\" \u003e /etc/default/kubelet\necho \"checkpoint-onepanel node labels added\"\n\nsystemctl daemon-reload\n",
                            "vars.%": "13",
                            "vars.add_labels": "kubernetes.io/role=core,onepanel.io/machine-type=cpu",
                            "vars.cni_version": "0.6.0",
                            "vars.dns_ip": "10.96.0.10",
                            "vars.docker_version": "17.03.2*",
                            "vars.gce_conf_add": "",
                            "vars.instance_prefix": "k8s-nkv21-gcp-worker-core",
                            "vars.k8s_version": "1.11.8",
                            "vars.k8s_version_override": "1.11.8",
                            "vars.network_name": "default",
                            "vars.pod_network_type": "calico",
                            "vars.project_id": "searce-playground",
                            "vars.subnetwork_name": "default",
                            "vars.tags": "k8s-nkv21-gcp-worker-core"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.template"
                },
                "data.template_file.iptables": {
                    "type": "template_file",
                    "depends_on": [],
                    "primary": {
                        "id": "894d56565d8f7c2a53235e01facc371d82eedb1c259e80ec8245dc987e3e7f11",
                        "attributes": {
                            "id": "894d56565d8f7c2a53235e01facc371d82eedb1c259e80ec8245dc987e3e7f11",
                            "rendered": "#!/bin/bash\n\n# Docker 1.13+ defaults FORWRD to DROP. Allow the cbr0 interface.\niptables -A FORWARD -i cbr0 -j ACCEPT\niptables -A FORWARD -o cbr0 -j ACCEPT",
                            "template": "#!/bin/bash\n\n# Docker 1.13+ defaults FORWRD to DROP. Allow the cbr0 interface.\niptables -A FORWARD -i cbr0 -j ACCEPT\niptables -A FORWARD -o cbr0 -j ACCEPT"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.template"
                },
                "data.template_file.node-bootstrap": {
                    "type": "template_file",
                    "depends_on": [],
                    "primary": {
                        "id": "76c278a60f88c5368c030e082b5dfa714981300d9657d00821cfec2d94335c5b",
                        "attributes": {
                            "id": "76c278a60f88c5368c030e082b5dfa714981300d9657d00821cfec2d94335c5b",
                            "rendered": "#!/bin/bash -xe\nkubeadm join --token=6988a8.2c4e5307264ad8c1 --discovery-token-unsafe-skip-ca-verification 10.138.0.2:6443\n",
                            "template": "#!/bin/bash -xe\nkubeadm join --token=${token} --discovery-token-unsafe-skip-ca-verification ${master_ip}:6443\n",
                            "vars.%": "2",
                            "vars.master_ip": "10.138.0.2",
                            "vars.token": "6988a8.2c4e5307264ad8c1"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.template"
                },
                "data.template_file.shutdown-script": {
                    "type": "template_file",
                    "depends_on": [],
                    "primary": {
                        "id": "e302d1fd69b57060010e19b15d95e9db8c3065cd584ec4d7a5e8b3954a4c6516",
                        "attributes": {
                            "id": "e302d1fd69b57060010e19b15d95e9db8c3065cd584ec4d7a5e8b3954a4c6516",
                            "rendered": "#!/bin/bash\n# Shutdown script to remove node from the cluster.\n\nnode=$(hostname)\ncfg=\"--kubeconfig /etc/kubernetes/kubelet.conf\"\n\n# Drain and delete the node.\nkubectl $cfg drain $node --delete-local-data --force --ignore-daemonsets\nkubectl $cfg delete node $node\n\nkubeadm reset",
                            "template": "#!/bin/bash\n# Shutdown script to remove node from the cluster.\n\nnode=$(hostname)\ncfg=\"--kubeconfig /etc/kubernetes/kubelet.conf\"\n\n# Drain and delete the node.\nkubectl $cfg drain $node --delete-local-data --force --ignore-daemonsets\nkubectl $cfg delete node $node\n\nkubeadm reset"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.template"
                }
            },
            "depends_on": []
        },
        {
            "path": [
                "root",
                "gcp-worker-gpu"
            ],
            "outputs": {
                "worker_ca_max": {
                    "sensitive": false,
                    "type": "string",
                    "value": "5"
                },
                "worker_ca_min": {
                    "sensitive": false,
                    "type": "string",
                    "value": "0"
                },
                "worker_name": {
                    "sensitive": false,
                    "type": "string",
                    "value": "k8s-nkv21-gcp-worker-gpu"
                },
                "worker_zone": {
                    "sensitive": false,
                    "type": "string",
                    "value": "us-west1-b"
                }
            },
            "resources": {
                "data.google_client_config.current": {
                    "type": "google_client_config",
                    "depends_on": [],
                    "primary": {
                        "id": "2019-05-21 13:35:33.363077024 +0000 UTC",
                        "attributes": {
                            "access_token": "ya29.GlsQB6kcQEHQQ41NBcBZzVtEwQJrF_YoVF5815X-OyFMbFAUxP2-LQSGRrzW9rBd8WsGADn0jdf4l_UFRqLdcoLcbr1QRcOrAEJ5qAsgd5d1LfFNmntib_h_VAkk",
                            "id": "2019-05-21 13:35:33.363077024 +0000 UTC",
                            "project": "searce-playground",
                            "region": "us-west1"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.google-beta"
                },
                "data.template_cloudinit_config.node": {
                    "type": "template_cloudinit_config",
                    "depends_on": [
                        "data.template_file.core-init",
                        "data.template_file.iptables",
                        "data.template_file.node-bootstrap"
                    ],
                    "primary": {
                        "id": "2740483099",
                        "attributes": {
                            "base64_encode": "true",
                            "gzip": "true",
                            "id": "2740483099",
                            "part.#": "3",
                            "part.0.content": "#!/bin/bash -xe\n\ncurl --retry 5 -fsSL https://download.docker.com/linux/ubuntu/gpg | apt-key add -\ncurl -fsSL https://packages.cloud.google.com/apt/doc/apt-key.gpg | apt-key add -\n\ncat \u003c\u003cEOF \u003e /etc/apt/sources.list.d/kubernetes.list\ndeb http://apt.kubernetes.io/ kubernetes-xenial main\nEOF\n\nsudo add-apt-repository \\\n   \"deb [arch=amd64] https://download.docker.com/linux/ubuntu \\\n   $(lsb_release -cs) \\\n   stable\"\n\necho \"checkpoint-onepanel repository added\"\n\nsudo apt-get remove sshguard -y\nsudo apt-get remove --auto-remove sshguard -y\n\necho \"checkpoint-onepanel ssh-guard uninstalled\"\n\nsudo apt-get update\n\necho \"checkpoint-onepanel apt-get updated\"\n\nnetwork_plugin=kubenet\nif [ \"calico\" == \"calico\" ]; then\n  network_plugin=cni\nfi\n\necho \"checkpoint-onepanel network plugin set to cni\"\n\n# Drop in config for kubenet and cloud provider\nmkdir -p /etc/systemd/system/kubelet.service.d\ncat \u003e /etc/systemd/system/kubelet.service.d/20-gcenet.conf \u003c\u003cEOF\n[Service]\nEnvironment=\"KUBELET_NETWORK_ARGS=--network-plugin=${network_plugin} --cni-conf-dir=/etc/cni/net.d --cni-bin-dir=/opt/cni/bin\"\nEnvironment=\"KUBELET_DNS_ARGS=--cluster-dns=10.96.0.10 --cluster-domain=cluster.local\"\nEnvironment=\"KUBELET_EXTRA_ARGS=--cloud-provider=gce\"\nEOF\n\necho \"checkpoint-onepanel 20-gcenet.cong edited\"\n\nmkdir -p /etc/kubernetes\ncat \u003c\u003c'EOF' \u003e /etc/kubernetes/gce.conf\n[global]\nmultizone = true\nnode-tags = k8s-nkv21-gcp-worker-gpu\nnode-instance-prefix = k8s-nkv21-gcp-worker-gpu\nnetwork-project-id = searce-playground\nnetwork-name = default\nsubnetwork-name = default\n\nEOF\ncp /etc/kubernetes/gce.conf /etc/gce.conf\n\necho \"checkpoint-onepanel gce conf configured\"\n\n# kubeadm 1.8 workaround for https://github.com/kubernetes/release/issues/406\nmkdir -p /etc/kubernetes/pki\ncp /etc/kubernetes/gce.conf /etc/kubernetes/pki/gce.conf\n\n# for GLBC\ntouch /var/log/glbc.log\n\nsudo apt-get install -y \\\n  jq \\\n  nginx \\\n  docker-ce=17.03.2** \\\n  kubernetes-cni=0.6.0* \\\n  kubelet=1.11.8* \\\n  kubeadm=1.11.8* \\\n  kubectl=1.11.8* \\\n\necho \"checkpoint-onepanel docker kubelet kubeadm kubectl installed\"\n\ncat \u003e /etc/docker/daemon.json \u003c\u003cEOF\n{\n  \"storage-driver\": \"overlay2\"\n}\nEOF\n\necho \"checkpoint-onepanel docker storage-driver set to overlay2\"\nsystemctl restart docker\n\n\necho \"checkpoint-onepanel docker service restarted\"\n\nfor f in kubelet kubeadm kubectl; do\n  gsutil cp gs://kubernetes-release/release/v1.11.8/bin/linux/amd64/$f /usr/bin/$f\n  chmod +x /usr/bin/$f\ndone\n\necho \"KUBELET_EXTRA_ARGS= --cloud-provider=gce\" \u003e /etc/default/kubelet\necho \"KUBELET_EXTRA_ARGS= --cloud-provider=gce --node-labels=kubernetes.io/role=node,onepanel.io/machine-type=gpu\" \u003e /etc/default/kubelet\necho \"checkpoint-onepanel node labels added\"\n\nsystemctl daemon-reload\n",
                            "part.0.content_type": "text/x-shellscript",
                            "part.0.filename": "scripts/per-instance/10-k8s-core.sh",
                            "part.0.merge_type": "",
                            "part.1.content": "#!/bin/bash -xe\nkubeadm join --token=6988a8.2c4e5307264ad8c1 --discovery-token-unsafe-skip-ca-verification 10.138.0.2:6443\n",
                            "part.1.content_type": "text/x-shellscript",
                            "part.1.filename": "scripts/per-instance/20-node.sh",
                            "part.1.merge_type": "",
                            "part.2.content": "#!/bin/bash\n\n# Docker 1.13+ defaults FORWRD to DROP. Allow the cbr0 interface.\niptables -A FORWARD -i cbr0 -j ACCEPT\niptables -A FORWARD -o cbr0 -j ACCEPT",
                            "part.2.content_type": "text/x-shellscript",
                            "part.2.filename": "scripts/per-boot/10-iptables.sh",
                            "part.2.merge_type": "",
                            "rendered": "H4sIAAAAAAAA/7xXbW8jtxH+TsD/Ybp3QNqk5Eqy41N82QC+sxwUuTsHstO0cA2DS45WtLjkluTqpKb578Vydy3Jln1XoL1P8nKGzwzn5ZnxW2sCmkCv1hWeQFnroCruQlqqFcrXkNvaSO7WWfL+L+8nby5++XB2Ov17Qpov+ld0XllzAkM2OCAHhNJtpQPSY58pX1mvQtTlIXAxL9GE1zBTGg0vMUu8cKoKPq3QUWV84EZgOhzQxdhTYR0yP082gFeOGz9DRydGWKlMcQKvchW2FOJrAq5CuqJ+jlq3Bg7Ie1XiI8df/CHNlUlz7udAV0iIqJ0GSh0Gt4Zvgc785TuYh1D5kzSV9qPRlksmrVigY8KWqVamXqV1XptQp0VVwL+BV4EucA1cSqAd4g5OxcWCF+iZ0LaWrLC20BjReBVSaUXaQbB9gETwAN9/P7k4hx8gxRC1U29rJ9AzrXxgMl3UOTqDoTshEvNo/iRttNmWWNkUNp90hUZxDSVXhkwuzgnxtbSNZdp44TDm07o1/IMAQNLgXnMn5hkv5fHRzWfHqr3/8o/a57cONXKPQIX/U3vuA881JoSgmFtIxBzForLKBGoNVtyghi1XuJQok97VKtACAzgs7RLB+3lRcyeBrvfKKeV1sHSP9jO2vZ/TVq82sWi1fuxAXUke8DmYXc0GwGD4aN3ittJ1oUzW5MVgIGoG15AIrpWwCWTZ5u+b1xDmaAjAg6vCKDJTz1nvLkB7ATwGCBaEUQkhL+DM2QqUAWHNTBUwsw46b4AbCbFyoXJ2qSQ6Ui6kckCrth792gcsZfcba1FjYB7dUglkMlbwD5+nm44GtBCNXda40hY+ub5s5TdkYpbKWdPQSpb89MubybvJ1e2HydWvF9Ofbk+nP15mlHYvpV1oXv62G6vfgVJhFG3wqVQui44Jo9LGquykuTKt0FYhCnNlkv3mzz5c9qaFrn1AR6Xx2XDAvjtmAzYcwJbANq2WdZ9MW8H1E7CTv11NTzfAtpa0T0BWCEzafn064TuRLAClaotuN3kbLuiI5qvJxflXfbo20rQQGFNCrgttc65vSBwi/7IGIYPgaiTGSqSBFx4yaAjdLJajIS1ERZvwo6NFVbdKPfXTyuFMrZ7V77Pp7B2KQJWEDDxy19zWfF24ZnTdqzVjBjKQOOO1DsTX+ROSGD7xKAr372wF969+JtCFwNg3XfPULob5RWwgLksYsjE0HvDoaeytnjYLFeZ1Htlyy4WOIFPlfY0+PRocP5m0tFqoT79iV3/rUS+iNz++e/OWBFuLOaRL7lJti7TQuWDaFg9YrqM/oO1EuPtn/DGFMqv4V0v/VGA2fMUGh2z09dfxfGvkCKOyATtmg41EY8iGbDhk480Zl+WjMxH01tkzKWnd6LHvM9FhwDaJb5FTeyuVHEtr2J23puOf3whA4oN1vEAqnVqiS04gsUt0mq9HCfn9U83YObSL0ZPwBqelxcZFhz5wF7qL5HOwW47sb8bHNdmdNbz+RCReg7QEoPB1UBpEBUVTlVvJ6kux/1224Y9rVDvf4yKQvpxBWnsXz1/OCICYl1bCN6udY2nN/YTcQ3Owl+fus9M2bj8z/ksYoDQyj+Y5ap/tbkTOaswa8Z/7oDanJRdzZZCGdYVZUdWf8GTv0LUSoTW5WVvuc9wWWhNjy+X/Ya8eDeKbv+xO3VfYnVUGKA12gSY7/m485mM2Ekf47eHg1ej4iMuxGAKlUnnR1P+61aS18XyG1C9URQWnS3RqpgRv3g7DARsejtmAjU6Oj44O/3cRy60NzX8hqoqLqP9iEYurV9u+QzY8/KafTh7OL6a/Ts8adjibXvzM4FRr+7FZ/kDkbgDKBHQzLpCR3mmgp/HW6fQMqGrV6B2cvn07+flqv5Z9oPUwoJQekP8EAAD//5zBhaU5DgAA"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.template"
                },
                "data.template_file.core-init": {
                    "type": "template_file",
                    "depends_on": [
                        "data.google_client_config.current",
                        "local.name"
                    ],
                    "primary": {
                        "id": "37020a51d8371812159bbe249c9cca650e4281c2b5cfed6f2a058e9567383ed6",
                        "attributes": {
                            "id": "37020a51d8371812159bbe249c9cca650e4281c2b5cfed6f2a058e9567383ed6",
                            "rendered": "#!/bin/bash -xe\n\ncurl --retry 5 -fsSL https://download.docker.com/linux/ubuntu/gpg | apt-key add -\ncurl -fsSL https://packages.cloud.google.com/apt/doc/apt-key.gpg | apt-key add -\n\ncat \u003c\u003cEOF \u003e /etc/apt/sources.list.d/kubernetes.list\ndeb http://apt.kubernetes.io/ kubernetes-xenial main\nEOF\n\nsudo add-apt-repository \\\n   \"deb [arch=amd64] https://download.docker.com/linux/ubuntu \\\n   $(lsb_release -cs) \\\n   stable\"\n\necho \"checkpoint-onepanel repository added\"\n\nsudo apt-get remove sshguard -y\nsudo apt-get remove --auto-remove sshguard -y\n\necho \"checkpoint-onepanel ssh-guard uninstalled\"\n\nsudo apt-get update\n\necho \"checkpoint-onepanel apt-get updated\"\n\nnetwork_plugin=kubenet\nif [ \"calico\" == \"calico\" ]; then\n  network_plugin=cni\nfi\n\necho \"checkpoint-onepanel network plugin set to cni\"\n\n# Drop in config for kubenet and cloud provider\nmkdir -p /etc/systemd/system/kubelet.service.d\ncat \u003e /etc/systemd/system/kubelet.service.d/20-gcenet.conf \u003c\u003cEOF\n[Service]\nEnvironment=\"KUBELET_NETWORK_ARGS=--network-plugin=${network_plugin} --cni-conf-dir=/etc/cni/net.d --cni-bin-dir=/opt/cni/bin\"\nEnvironment=\"KUBELET_DNS_ARGS=--cluster-dns=10.96.0.10 --cluster-domain=cluster.local\"\nEnvironment=\"KUBELET_EXTRA_ARGS=--cloud-provider=gce\"\nEOF\n\necho \"checkpoint-onepanel 20-gcenet.cong edited\"\n\nmkdir -p /etc/kubernetes\ncat \u003c\u003c'EOF' \u003e /etc/kubernetes/gce.conf\n[global]\nmultizone = true\nnode-tags = k8s-nkv21-gcp-worker-gpu\nnode-instance-prefix = k8s-nkv21-gcp-worker-gpu\nnetwork-project-id = searce-playground\nnetwork-name = default\nsubnetwork-name = default\n\nEOF\ncp /etc/kubernetes/gce.conf /etc/gce.conf\n\necho \"checkpoint-onepanel gce conf configured\"\n\n# kubeadm 1.8 workaround for https://github.com/kubernetes/release/issues/406\nmkdir -p /etc/kubernetes/pki\ncp /etc/kubernetes/gce.conf /etc/kubernetes/pki/gce.conf\n\n# for GLBC\ntouch /var/log/glbc.log\n\nsudo apt-get install -y \\\n  jq \\\n  nginx \\\n  docker-ce=17.03.2** \\\n  kubernetes-cni=0.6.0* \\\n  kubelet=1.11.8* \\\n  kubeadm=1.11.8* \\\n  kubectl=1.11.8* \\\n\necho \"checkpoint-onepanel docker kubelet kubeadm kubectl installed\"\n\ncat \u003e /etc/docker/daemon.json \u003c\u003cEOF\n{\n  \"storage-driver\": \"overlay2\"\n}\nEOF\n\necho \"checkpoint-onepanel docker storage-driver set to overlay2\"\nsystemctl restart docker\n\n\necho \"checkpoint-onepanel docker service restarted\"\n\nfor f in kubelet kubeadm kubectl; do\n  gsutil cp gs://kubernetes-release/release/v1.11.8/bin/linux/amd64/$f /usr/bin/$f\n  chmod +x /usr/bin/$f\ndone\n\necho \"KUBELET_EXTRA_ARGS= --cloud-provider=gce\" \u003e /etc/default/kubelet\necho \"KUBELET_EXTRA_ARGS= --cloud-provider=gce --node-labels=kubernetes.io/role=node,onepanel.io/machine-type=gpu\" \u003e /etc/default/kubelet\necho \"checkpoint-onepanel node labels added\"\n\nsystemctl daemon-reload\n",
                            "template": "#!/bin/bash -xe\n\ncurl --retry 5 -fsSL https://download.docker.com/linux/ubuntu/gpg | apt-key add -\ncurl -fsSL https://packages.cloud.google.com/apt/doc/apt-key.gpg | apt-key add -\n\ncat \u003c\u003cEOF \u003e /etc/apt/sources.list.d/kubernetes.list\ndeb http://apt.kubernetes.io/ kubernetes-xenial main\nEOF\n\nsudo add-apt-repository \\\n   \"deb [arch=amd64] https://download.docker.com/linux/ubuntu \\\n   $(lsb_release -cs) \\\n   stable\"\n\necho \"checkpoint-onepanel repository added\"\n\nsudo apt-get remove sshguard -y\nsudo apt-get remove --auto-remove sshguard -y\n\necho \"checkpoint-onepanel ssh-guard uninstalled\"\n\nsudo apt-get update\n\necho \"checkpoint-onepanel apt-get updated\"\n\nnetwork_plugin=kubenet\nif [ \"${pod_network_type}\" == \"calico\" ]; then\n  network_plugin=cni\nfi\n\necho \"checkpoint-onepanel network plugin set to cni\"\n\n# Drop in config for kubenet and cloud provider\nmkdir -p /etc/systemd/system/kubelet.service.d\ncat \u003e /etc/systemd/system/kubelet.service.d/20-gcenet.conf \u003c\u003cEOF\n[Service]\nEnvironment=\"KUBELET_NETWORK_ARGS=--network-plugin=$${network_plugin} --cni-conf-dir=/etc/cni/net.d --cni-bin-dir=/opt/cni/bin\"\nEnvironment=\"KUBELET_DNS_ARGS=--cluster-dns=${dns_ip} --cluster-domain=cluster.local\"\nEnvironment=\"KUBELET_EXTRA_ARGS=--cloud-provider=gce\"\nEOF\n\necho \"checkpoint-onepanel 20-gcenet.cong edited\"\n\nmkdir -p /etc/kubernetes\ncat \u003c\u003c'EOF' \u003e /etc/kubernetes/gce.conf\n[global]\nmultizone = true\nnode-tags = ${tags}\nnode-instance-prefix = ${instance_prefix}\nnetwork-project-id = ${project_id}\nnetwork-name = ${network_name}\nsubnetwork-name = ${subnetwork_name}\n${gce_conf_add}\nEOF\ncp /etc/kubernetes/gce.conf /etc/gce.conf\n\necho \"checkpoint-onepanel gce conf configured\"\n\n# kubeadm 1.8 workaround for https://github.com/kubernetes/release/issues/406\nmkdir -p /etc/kubernetes/pki\ncp /etc/kubernetes/gce.conf /etc/kubernetes/pki/gce.conf\n\n# for GLBC\ntouch /var/log/glbc.log\n\nsudo apt-get install -y \\\n  jq \\\n  nginx \\\n  docker-ce=${docker_version}* \\\n  kubernetes-cni=${cni_version}* \\\n  kubelet=${k8s_version}* \\\n  kubeadm=${k8s_version}* \\\n  kubectl=${k8s_version}* \\\n\necho \"checkpoint-onepanel docker kubelet kubeadm kubectl installed\"\n\ncat \u003e /etc/docker/daemon.json \u003c\u003cEOF\n{\n  \"storage-driver\": \"overlay2\"\n}\nEOF\n\necho \"checkpoint-onepanel docker storage-driver set to overlay2\"\nsystemctl restart docker\n\n\necho \"checkpoint-onepanel docker service restarted\"\n\nfor f in kubelet kubeadm kubectl; do\n  gsutil cp gs://kubernetes-release/release/v${k8s_version_override}/bin/linux/amd64/$f /usr/bin/$f\n  chmod +x /usr/bin/$f\ndone\n\necho \"KUBELET_EXTRA_ARGS= --cloud-provider=gce\" \u003e /etc/default/kubelet\necho \"KUBELET_EXTRA_ARGS= --cloud-provider=gce --node-labels=${add_labels}\" \u003e /etc/default/kubelet\necho \"checkpoint-onepanel node labels added\"\n\nsystemctl daemon-reload\n",
                            "vars.%": "13",
                            "vars.add_labels": "kubernetes.io/role=node,onepanel.io/machine-type=gpu",
                            "vars.cni_version": "0.6.0",
                            "vars.dns_ip": "10.96.0.10",
                            "vars.docker_version": "17.03.2*",
                            "vars.gce_conf_add": "",
                            "vars.instance_prefix": "k8s-nkv21-gcp-worker-gpu",
                            "vars.k8s_version": "1.11.8",
                            "vars.k8s_version_override": "1.11.8",
                            "vars.network_name": "default",
                            "vars.pod_network_type": "calico",
                            "vars.project_id": "searce-playground",
                            "vars.subnetwork_name": "default",
                            "vars.tags": "k8s-nkv21-gcp-worker-gpu"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.template"
                },
                "data.template_file.iptables": {
                    "type": "template_file",
                    "depends_on": [],
                    "primary": {
                        "id": "894d56565d8f7c2a53235e01facc371d82eedb1c259e80ec8245dc987e3e7f11",
                        "attributes": {
                            "id": "894d56565d8f7c2a53235e01facc371d82eedb1c259e80ec8245dc987e3e7f11",
                            "rendered": "#!/bin/bash\n\n# Docker 1.13+ defaults FORWRD to DROP. Allow the cbr0 interface.\niptables -A FORWARD -i cbr0 -j ACCEPT\niptables -A FORWARD -o cbr0 -j ACCEPT",
                            "template": "#!/bin/bash\n\n# Docker 1.13+ defaults FORWRD to DROP. Allow the cbr0 interface.\niptables -A FORWARD -i cbr0 -j ACCEPT\niptables -A FORWARD -o cbr0 -j ACCEPT"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.template"
                },
                "data.template_file.node-bootstrap": {
                    "type": "template_file",
                    "depends_on": [],
                    "primary": {
                        "id": "76c278a60f88c5368c030e082b5dfa714981300d9657d00821cfec2d94335c5b",
                        "attributes": {
                            "id": "76c278a60f88c5368c030e082b5dfa714981300d9657d00821cfec2d94335c5b",
                            "rendered": "#!/bin/bash -xe\nkubeadm join --token=6988a8.2c4e5307264ad8c1 --discovery-token-unsafe-skip-ca-verification 10.138.0.2:6443\n",
                            "template": "#!/bin/bash -xe\nkubeadm join --token=${token} --discovery-token-unsafe-skip-ca-verification ${master_ip}:6443\n",
                            "vars.%": "2",
                            "vars.master_ip": "10.138.0.2",
                            "vars.token": "6988a8.2c4e5307264ad8c1"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.template"
                },
                "data.template_file.shutdown-script": {
                    "type": "template_file",
                    "depends_on": [],
                    "primary": {
                        "id": "e302d1fd69b57060010e19b15d95e9db8c3065cd584ec4d7a5e8b3954a4c6516",
                        "attributes": {
                            "id": "e302d1fd69b57060010e19b15d95e9db8c3065cd584ec4d7a5e8b3954a4c6516",
                            "rendered": "#!/bin/bash\n# Shutdown script to remove node from the cluster.\n\nnode=$(hostname)\ncfg=\"--kubeconfig /etc/kubernetes/kubelet.conf\"\n\n# Drain and delete the node.\nkubectl $cfg drain $node --delete-local-data --force --ignore-daemonsets\nkubectl $cfg delete node $node\n\nkubeadm reset",
                            "template": "#!/bin/bash\n# Shutdown script to remove node from the cluster.\n\nnode=$(hostname)\ncfg=\"--kubeconfig /etc/kubernetes/kubelet.conf\"\n\n# Drain and delete the node.\nkubectl $cfg drain $node --delete-local-data --force --ignore-daemonsets\nkubectl $cfg delete node $node\n\nkubeadm reset"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.template"
                }
            },
            "depends_on": []
        },
        {
            "path": [
                "root",
                "kubernetes_dashboard"
            ],
            "outputs": {},
            "resources": {
                "k8s_manifest.dashboard_admin_crb": {
                    "type": "k8s_manifest",
                    "depends_on": [
                        "k8s_manifest.dashboard_admin_sa"
                    ],
                    "primary": {
                        "id": "ClusterRoleBinding/kube-system/admin-user",
                        "attributes": {
                            "content": "apiVersion: rbac.authorization.k8s.io/v1\nkind: ClusterRoleBinding\nmetadata:\n  name: admin-user\nroleRef:\n  apiGroup: rbac.authorization.k8s.io\n  kind: ClusterRole\n  name: cluster-admin\nsubjects:\n- kind: ServiceAccount\n  name: admin-user\n  namespace: kube-system\n",
                            "id": "ClusterRoleBinding/kube-system/admin-user",
                            "kind": "ClusterRoleBinding",
                            "name": "admin-user",
                            "namespace": "kube-system",
                            "status": "/home/nikhilk/Onepanel/terraform-k8s-gce/generated/kubeconfig"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.k8s"
                },
                "k8s_manifest.dashboard_admin_sa": {
                    "type": "k8s_manifest",
                    "depends_on": [],
                    "primary": {
                        "id": "ServiceAccount/kube-system/admin-user",
                        "attributes": {
                            "content": "apiVersion: v1\nkind: ServiceAccount\nmetadata:\n  name: admin-user\n  namespace: kube-system\n",
                            "id": "ServiceAccount/kube-system/admin-user",
                            "kind": "ServiceAccount",
                            "name": "admin-user",
                            "namespace": "kube-system",
                            "status": "/home/nikhilk/Onepanel/terraform-k8s-gce/generated/kubeconfig"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.k8s"
                },
                "k8s_manifest.kubernetes_dashboard_deploy": {
                    "type": "k8s_manifest",
                    "depends_on": [
                        "k8s_manifest.kubernetes_dashboard_service"
                    ],
                    "primary": {
                        "id": "Deployment/kube-system/kubernetes-dashboard",
                        "attributes": {
                            "content": "apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  labels:\n    k8s-app: kubernetes-dashboard\n  name: kubernetes-dashboard\n  namespace: kube-system\nspec:\n  replicas: 1\n  revisionHistoryLimit: 10\n  selector:\n    matchLabels:\n      k8s-app: kubernetes-dashboard\n  template:\n    metadata:\n      labels:\n        k8s-app: kubernetes-dashboard\n    spec:\n      containers:\n      - name: kubernetes-dashboard\n        image: k8s.gcr.io/kubernetes-dashboard-amd64:v1.10.1\n        ports:\n        - containerPort: 8443\n          protocol: TCP\n        args:\n          - --auto-generate-certificates\n          # Uncomment the following line to manually specify Kubernetes API server Host\n          # If not specified, Dashboard will attempt to auto discover the API server and connect\n          # to it. Uncomment only if the default does not work.\n          # - --apiserver-host=http://my-address:port\n        volumeMounts:\n        - name: kubernetes-dashboard-certs\n          mountPath: /certs\n          # Create on-disk volume to store exec logs\n        - mountPath: /tmp\n          name: tmp-volume\n        livenessProbe:\n          httpGet:\n            scheme: HTTPS\n            path: /\n            port: 8443\n          initialDelaySeconds: 30\n          timeoutSeconds: 30\n      volumes:\n      - name: kubernetes-dashboard-certs\n        secret:\n          secretName: kubernetes-dashboard-certs\n      - name: tmp-volume\n        emptyDir: {}\n      serviceAccountName: kubernetes-dashboard\n      # Comment the following tolerations if Dashboard must not be deployed on master\n      tolerations:\n      - key: node-role.kubernetes.io/master\n        effect: NoSchedule\n",
                            "id": "Deployment/kube-system/kubernetes-dashboard",
                            "kind": "Deployment",
                            "name": "kubernetes-dashboard",
                            "namespace": "kube-system",
                            "status": "/home/nikhilk/Onepanel/terraform-k8s-gce/generated/kubeconfig"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.k8s"
                },
                "k8s_manifest.kubernetes_dashboard_rb": {
                    "type": "k8s_manifest",
                    "depends_on": [
                        "k8s_manifest.kubernetes_dashboard_sa"
                    ],
                    "primary": {
                        "id": "RoleBinding/kube-system/kubernetes-dashboard-minimal",
                        "attributes": {
                            "content": "apiVersion: rbac.authorization.k8s.io/v1\nkind: RoleBinding\nmetadata:\n  name: kubernetes-dashboard-minimal\n  namespace: kube-system\nroleRef:\n  apiGroup: rbac.authorization.k8s.io\n  kind: Role\n  name: kubernetes-dashboard-minimal\nsubjects:\n- kind: ServiceAccount\n  name: kubernetes-dashboard\n  namespace: kube-system\n",
                            "id": "RoleBinding/kube-system/kubernetes-dashboard-minimal",
                            "kind": "RoleBinding",
                            "name": "kubernetes-dashboard-minimal",
                            "namespace": "kube-system",
                            "status": "/home/nikhilk/Onepanel/terraform-k8s-gce/generated/kubeconfig"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.k8s"
                },
                "k8s_manifest.kubernetes_dashboard_role": {
                    "type": "k8s_manifest",
                    "depends_on": [
                        "k8s_manifest.kubernetes_dashboard_secret"
                    ],
                    "primary": {
                        "id": "Role/kube-system/kubernetes-dashboard-minimal",
                        "attributes": {
                            "content": "kind: Role\napiVersion: rbac.authorization.k8s.io/v1\nmetadata:\n  name: kubernetes-dashboard-minimal\n  namespace: kube-system\nrules:\n  # Allow Dashboard to create 'kubernetes-dashboard-key-holder' secret.\n- apiGroups: [\"\"]\n  resources: [\"secrets\"]\n  verbs: [\"create\"]\n  # Allow Dashboard to create 'kubernetes-dashboard-settings' config map.\n- apiGroups: [\"\"]\n  resources: [\"configmaps\"]\n  verbs: [\"create\"]\n  # Allow Dashboard to get, update and delete Dashboard exclusive secrets.\n- apiGroups: [\"\"]\n  resources: [\"secrets\"]\n  resourceNames: [\"kubernetes-dashboard-key-holder\", \"kubernetes-dashboard-certs\"]\n  verbs: [\"get\", \"update\", \"delete\"]\n  # Allow Dashboard to get and update 'kubernetes-dashboard-settings' config map.\n- apiGroups: [\"\"]\n  resources: [\"configmaps\"]\n  resourceNames: [\"kubernetes-dashboard-settings\"]\n  verbs: [\"get\", \"update\"]\n  # Allow Dashboard to get metrics from heapster.\n- apiGroups: [\"\"]\n  resources: [\"services\"]\n  resourceNames: [\"heapster\"]\n  verbs: [\"proxy\"]\n- apiGroups: [\"\"]\n  resources: [\"services/proxy\"]\n  resourceNames: [\"heapster\", \"http:heapster:\", \"https:heapster:\"]\n  verbs: [\"get\"]\n",
                            "id": "Role/kube-system/kubernetes-dashboard-minimal",
                            "kind": "Role",
                            "name": "kubernetes-dashboard-minimal",
                            "namespace": "kube-system",
                            "status": "/home/nikhilk/Onepanel/terraform-k8s-gce/generated/kubeconfig"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.k8s"
                },
                "k8s_manifest.kubernetes_dashboard_sa": {
                    "type": "k8s_manifest",
                    "depends_on": [
                        "k8s_manifest.kubernetes_dashboard_role"
                    ],
                    "primary": {
                        "id": "ServiceAccount/kube-system/kubernetes-dashboard",
                        "attributes": {
                            "content": "apiVersion: v1\nkind: ServiceAccount\nmetadata:\n  labels:\n    k8s-app: kubernetes-dashboard\n  name: kubernetes-dashboard\n  namespace: kube-system\n",
                            "id": "ServiceAccount/kube-system/kubernetes-dashboard",
                            "kind": "ServiceAccount",
                            "name": "kubernetes-dashboard",
                            "namespace": "kube-system",
                            "status": "/home/nikhilk/Onepanel/terraform-k8s-gce/generated/kubeconfig"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.k8s"
                },
                "k8s_manifest.kubernetes_dashboard_secret": {
                    "type": "k8s_manifest",
                    "depends_on": [],
                    "primary": {
                        "id": "Secret/kube-system/kubernetes-dashboard-certs",
                        "attributes": {
                            "content": "apiVersion: v1\nkind: Secret\nmetadata:\n  labels:\n    k8s-app: kubernetes-dashboard\n  name: kubernetes-dashboard-certs\n  namespace: kube-system\ntype: Opaque\n",
                            "id": "Secret/kube-system/kubernetes-dashboard-certs",
                            "kind": "Secret",
                            "name": "kubernetes-dashboard-certs",
                            "namespace": "kube-system",
                            "status": "/home/nikhilk/Onepanel/terraform-k8s-gce/generated/kubeconfig"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.k8s"
                },
                "k8s_manifest.kubernetes_dashboard_service": {
                    "type": "k8s_manifest",
                    "depends_on": [
                        "k8s_manifest.kubernetes_dashboard_rb"
                    ],
                    "primary": {
                        "id": "Service/kube-system/kubernetes-dashboard",
                        "attributes": {
                            "content": "kind: Service\napiVersion: v1\nmetadata:\n  labels:\n    k8s-app: kubernetes-dashboard\n  name: kubernetes-dashboard\n  namespace: kube-system\nspec:\n  type: LoadBalancer\n  ports:\n    - port: 443\n      targetPort: 8443\n  selector:\n    k8s-app: kubernetes-dashboard\n",
                            "id": "Service/kube-system/kubernetes-dashboard",
                            "kind": "Service",
                            "name": "kubernetes-dashboard",
                            "namespace": "kube-system",
                            "status": "/home/nikhilk/Onepanel/terraform-k8s-gce/generated/kubeconfig"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.k8s"
                }
            },
            "depends_on": []
        },
        {
            "path": [
                "root",
                "master-1"
            ],
            "outputs": {
                "depends_id": {
                    "sensitive": false,
                    "type": "string",
                    "value": "8649587466520705924"
                },
                "master_ip": {
                    "sensitive": false,
                    "type": "string",
                    "value": "10.138.0.2"
                },
                "pem_path": {
                    "sensitive": false,
                    "type": "string",
                    "value": "/home/nikhilk/Onepanel/terraform-k8s-gce/.terraform/modules/aedfbee6f53078b3d82331958046eff6/keys/master-pkey-k8s-master-1-59c742cd.pem"
                },
                "subnet_ip_cidr": {
                    "sensitive": false,
                    "type": "string",
                    "value": "10.138.0.0/20"
                },
                "subnetwork": {
                    "sensitive": false,
                    "type": "string",
                    "value": "default"
                },
                "tls-private-key-private_key_pem": {
                    "sensitive": true,
                    "type": "string",
                    "value": "-----BEGIN RSA PRIVATE KEY-----\nMIIEpAIBAAKCAQEArvTXx2E04qCrpnh7l1zDi9UINLsg0XbS2W3g614/zvl1D8ja\nYB3IL7UA2xHnnp74K7tqZKiqo6d6JAoGJMy3sFeSxtlK5MTYEJiRwEZihznrk0Dj\naXsEI/H1hg/Ercuz8rvoHHQPakC5AOGRdNzDkV7PpR8sG3rnBG8jysohg0xwfVu4\ngPY3rCPl42GFfBEq0I7eQpMWDDJ1XE2GZXkrs53fdDI0epQzcaal1tKdb4jav+jV\ndIYihYsvbXzpPHW7XVITKdVMi1Sdn4O6wTtH+bYy/B22gIYs3za/zvlvxIuZW1xc\nL7b5N/W8eUKaI2n7wmgZXPg49POQHvVwtVpVAwIDAQABAoIBAQCs9Eh3xmW0f+cQ\nW1y6Zi69hixljHPF/jQ0U4Ycx4BGyJ5rq0AN8oMaflHJPyr8yORGvzBPL9n4jLCW\n/f3S1TnlrrzfrKF4BAwgY+L589qlGaIDYQsvFDgknKX+EIp60LwkgpPTxPwUKsV4\n1ISpxS/j/plA/87nn5jO7luwth9pHj4vjd9rRFAKaxRG0Fxodih4LcT/jR4w3Bnp\ntgbiLXWX/kWbT21YY/Bxtc7xhepHFacAR5l7sV7kzw9UQDbzjkAvtzKfJr/ciZFy\n9cb0FxWxgyAjCXTPBRGWRYFWujh0kz60ArsGIOBPacXDrhhEPfFMCF0ihbF8Lu67\n1asMZxQBAoGBAM7SAPWZUe2kh45JnmVoMbEuUs0pIpr011Xy7H8FGjXGdUfO3eZO\ncqYd8nMSAwLVEsy+VTb+Y/+E5BdFA0cxFDtN84cIpU4h5igTTfAVmpToKcj0WbKO\n9M3G1C2UIwNBpruXEM5LAE2ZT8HtQJmbyvIr/b+FPmmbnum4W6XOog4BAoGBANiP\nJzEMwyoOVOLXQWdRfCwqPcDbWLHBUBZaD0SRMnj+LYV3j1xMpWY/uHqjwgoduStI\nTPDpEY7pMH4ELeVAPfVUgnPXx9myunr7lWuLcX8uIz2qznGb8v4bRvDHO6Fv8rwQ\nbuI5lxnQxIjEqefVBksnRYHg+gxJv6SFVU6lGisDAoGBAKozXoC/PRIRfVDWOtj/\nJy3FjnSx7n2REojz0jYxz8EDYk7G6gv28RjNulGCOCIjkUYXOG96aHbGOSMBM1Jq\nDFlFrCyrK8ah1ROT12bFkKIMcR6kIBD23nVdtA0SRMIQTBNCnZz3UfeKPH2+LpR7\nBkfHdhofoB4u6Fc01Y8c/nYBAoGAcad3vyNejgTlggPMvIekbp1guYWk3+1/tatg\nVfEKFzv28hQUdjF3oNkSXbLyFFMTKmcQkmMPpvw1Sf2xhJ6ZpdbLfDakGVnWytKc\n0ctmLoQtVKD/JdrdxYTVT2qQniJdt1u8hhgJeC/75XepYBWJ7wlWTlqfgLF31cVw\nRw0ZVbcCgYAvE4eFklgfaxIG9sHfVTpGNhNueePxTpAjSrvGW4gy7t4+AP3BKYDJ\nFC5GqaQP017/5s87enRojTosuo6L6S2qxHBPZeVYf+NIu1HyWTHMfVn+1fw6/NrG\nT6IfVYAqv8OibTkgciEfs1PpJELze6tLYaILLg28UYZswGbgKD9wqQ==\n-----END RSA PRIVATE KEY-----\n"
                }
            },
            "resources": {
                "data.google_client_config.current": {
                    "type": "google_client_config",
                    "depends_on": [],
                    "primary": {
                        "id": "2019-05-21 13:35:33.363722321 +0000 UTC",
                        "attributes": {
                            "access_token": "ya29.GlsQB6kcQEHQQ41NBcBZzVtEwQJrF_YoVF5815X-OyFMbFAUxP2-LQSGRrzW9rBd8WsGADn0jdf4l_UFRqLdcoLcbr1QRcOrAEJ5qAsgd5d1LfFNmntib_h_VAkk",
                            "id": "2019-05-21 13:35:33.363722321 +0000 UTC",
                            "project": "searce-playground",
                            "region": "us-west1"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.google-beta"
                },
                "data.google_compute_subnetwork.subnet": {
                    "type": "google_compute_subnetwork",
                    "depends_on": [],
                    "primary": {
                        "id": "us-west1/default",
                        "attributes": {
                            "description": "",
                            "gateway_address": "10.138.0.1",
                            "id": "us-west1/default",
                            "ip_cidr_range": "10.138.0.0/20",
                            "name": "default",
                            "network": "https://www.googleapis.com/compute/v1/projects/searce-playground/global/networks/default",
                            "private_ip_google_access": "false",
                            "project": "searce-playground",
                            "region": "us-west1",
                            "secondary_ip_range.#": "0",
                            "self_link": "https://www.googleapis.com/compute/v1/projects/searce-playground/regions/us-west1/subnetworks/default"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.google"
                },
                "data.template_cloudinit_config.master": {
                    "type": "template_cloudinit_config",
                    "depends_on": [
                        "data.template_file.core-init",
                        "data.template_file.iptables",
                        "data.template_file.master-bootstrap"
                    ],
                    "primary": {
                        "id": "3311033284",
                        "attributes": {
                            "base64_encode": "true",
                            "gzip": "true",
                            "id": "3311033284",
                            "part.#": "3",
                            "part.0.content": "#!/bin/bash -xe\n\ncurl --retry 5 -fsSL https://download.docker.com/linux/ubuntu/gpg | apt-key add -\ncurl -fsSL https://packages.cloud.google.com/apt/doc/apt-key.gpg | apt-key add -\n\ncat \u003c\u003cEOF \u003e /etc/apt/sources.list.d/kubernetes.list\ndeb http://apt.kubernetes.io/ kubernetes-xenial main\nEOF\n\nsudo add-apt-repository \\\n   \"deb [arch=amd64] https://download.docker.com/linux/ubuntu \\\n   $(lsb_release -cs) \\\n   stable\"\n\necho \"checkpoint-onepanel repository added\"\n\nsudo apt-get remove sshguard -y\nsudo apt-get remove --auto-remove sshguard -y\n\necho \"checkpoint-onepanel ssh-guard uninstalled\"\n\nsudo apt-get update\n\necho \"checkpoint-onepanel apt-get updated\"\n\nnetwork_plugin=kubenet\nif [ \"calico\" == \"calico\" ]; then\n  network_plugin=cni\nfi\n\necho \"checkpoint-onepanel network plugin set to cni\"\n\n# Drop in config for kubenet and cloud provider\nmkdir -p /etc/systemd/system/kubelet.service.d\ncat \u003e /etc/systemd/system/kubelet.service.d/20-gcenet.conf \u003c\u003cEOF\n[Service]\nEnvironment=\"KUBELET_NETWORK_ARGS=--network-plugin=${network_plugin} --cni-conf-dir=/etc/cni/net.d --cni-bin-dir=/opt/cni/bin\"\nEnvironment=\"KUBELET_DNS_ARGS=--cluster-dns=10.96.0.10 --cluster-domain=cluster.local\"\nEnvironment=\"KUBELET_EXTRA_ARGS=--cloud-provider=gce\"\nEOF\n\necho \"checkpoint-onepanel 20-gcenet.cong edited\"\n\nmkdir -p /etc/kubernetes\ncat \u003c\u003c'EOF' \u003e /etc/kubernetes/gce.conf\n[global]\nmultizone = true\nnode-tags = k8s-nkv21-master-1\nnode-instance-prefix = k8s-nkv21-master-1\nnetwork-project-id = searce-playground\nnetwork-name = default\nsubnetwork-name = default\n\nEOF\ncp /etc/kubernetes/gce.conf /etc/gce.conf\n\necho \"checkpoint-onepanel gce conf configured\"\n\n# kubeadm 1.8 workaround for https://github.com/kubernetes/release/issues/406\nmkdir -p /etc/kubernetes/pki\ncp /etc/kubernetes/gce.conf /etc/kubernetes/pki/gce.conf\n\n# for GLBC\ntouch /var/log/glbc.log\n\nsudo apt-get install -y \\\n  jq \\\n  nginx \\\n  docker-ce=17.03.2** \\\n  kubernetes-cni=0.6.0* \\\n  kubelet=1.11.8* \\\n  kubeadm=1.11.8* \\\n  kubectl=1.11.8* \\\n\necho \"checkpoint-onepanel docker kubelet kubeadm kubectl installed\"\n\ncat \u003e /etc/docker/daemon.json \u003c\u003cEOF\n{\n  \"storage-driver\": \"overlay2\"\n}\nEOF\n\necho \"checkpoint-onepanel docker storage-driver set to overlay2\"\nsystemctl restart docker\n\n\necho \"checkpoint-onepanel docker service restarted\"\n\nfor f in kubelet kubeadm kubectl; do\n  gsutil cp gs://kubernetes-release/release/v1.11.8/bin/linux/amd64/$f /usr/bin/$f\n  chmod +x /usr/bin/$f\ndone\n\necho \"KUBELET_EXTRA_ARGS= --cloud-provider=gce\" \u003e /etc/default/kubelet\necho \"KUBELET_EXTRA_ARGS= --cloud-provider=gce --node-labels=kubernetes.io/role=master\" \u003e /etc/default/kubelet\necho \"checkpoint-onepanel node labels added\"\n\nsystemctl daemon-reload\n",
                            "part.0.content_type": "text/x-shellscript",
                            "part.0.filename": "scripts/per-instance/10-k8s-core.sh",
                            "part.0.merge_type": "",
                            "part.1.content": "#!/bin/bash -xe\n\ncat \u003c\u003cEOF \u003e /etc/kubernetes/kubeadm.conf\napiVersion: kubeadm.k8s.io/v1alpha1\nkind: MasterConfiguration\nkubernetesVersion: v1.11.8\ncloudProvider: gce\ntoken: 6988a8.2c4e5307264ad8c1\ntokenTTL: \"0\"\nnetworking:\n  serviceSubnet: 10.96.0.0/12\n  podSubnet: 192.168.0.0/16\nauthorizationModes:\n- Node\n- RBAC\napiServerCertSANs:\n- 127.0.0.1\ncontrollerManagerExtraArgs:\n  cluster-name: k8s-nkv21-master-1\n  allocate-node-cidrs: \"true\"\n  cidr-allocator-type: \"RangeAllocator\"\n  configure-cloud-routes: \"false\"\n  cloud-config: /etc/kubernetes/pki/gce.conf\n  cluster-cidr: 192.168.0.0/16\n  service-cluster-ip-range: 10.96.0.0/12\n  feature-gates: DevicePlugins=true,AllAlpha=true,RotateKubeletServerCertificate=false,RotateKubeletClientCertificate=false,ExperimentalCriticalPodAnnotation=true\nschedulerExtraArgs:\n  feature-gates: DevicePlugins=true,AllAlpha=true,RotateKubeletServerCertificate=false,RotateKubeletClientCertificate=false,ExperimentalCriticalPodAnnotation=true\napiServerExtraArgs:\n  feature-gates: DevicePlugins=true,AllAlpha=true,RotateKubeletServerCertificate=false,RotateKubeletClientCertificate=false,ExperimentalCriticalPodAnnotation=true\nEOF\nchmod 0600 /etc/kubernetes/kubeadm.conf\n\necho \"checkpoint-onepanel kubeadm created\"\n\nkubeadm init --config /etc/kubernetes/kubeadm.conf\n\necho \"checkpoint-onepanel kubeadm configured\"\n\nexport KUBECONFIG=/etc/kubernetes/admin.conf\n\necho \"KUBELET_EXTRA_ARGS= --cloud-provider=gce\" \u003e /etc/default/kubelet\n\necho \"checkpoint-onepanel kubconfig set\"\n\nif [ \"calico\" == \"calico\" ]; then\n  manifest_version=\n  [[ 3.5 =~ ^2.4 ]] \u0026\u0026 manifest_version=1.6\n  [[ 3.5 =~ ^3.5 ]] \u0026\u0026 manifest_version=1.7\n  [[ -z ${manifest_version} ]] \u0026\u0026 echo \"ERROR: Unsupported calico version: 3.5\" \u0026\u0026 exit 1\n\n  kubectl apply -f https://docs.projectcalico.org/v3.3/getting-started/kubernetes/installation/hosted/rbac-kdd.yaml\n  kubectl apply -f https://docs.projectcalico.org/v3.5/getting-started/kubernetes/installation/hosted/kubernetes-datastore/calico-networking/1.7/calico.yaml\nfi\n\necho \"checkpoint-onepanel calico installed\"\n\n# ClusterRoleBiding for persistent volume provisioner.\nkubectl create clusterrolebinding system:controller:persistent-volume-provisioner \\\n  --clusterrole=system:persistent-volume-provisioner \\\n  --user system:serviceaccount:kube-system:pvc-protection-controller\n\necho \"checkpoint-onepanel cluster role binding created\"\n\n# kubeadm manages the manifests directory, so add configmap after the init returns.\nkubectl create -f - \u003c\u003c'EOF'\napiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: ingress-uid\n  namespace: kube-system\ndata:\n  provider-uid: 9f9af46eeb4def00\n  uid: 9f9af46eeb4def00\nEOF\n\necho \"checkpoint-onepanel config map created\"\n\nkubectl label ns kube-system role=master\n\necho \"checkpoint-onepanel label kube-system applied\"\n",
                            "part.1.content_type": "text/x-shellscript",
                            "part.1.filename": "scripts/per-instance/20-master.sh",
                            "part.1.merge_type": "",
                            "part.2.content": "#!/bin/bash\n\n# Docker 1.13+ defaults FORWRD to DROP. Allow the cbr0 interface.\niptables -A FORWARD -i cbr0 -j ACCEPT\niptables -A FORWARD -o cbr0 -j ACCEPT",
                            "part.2.content_type": "text/x-shellscript",
                            "part.2.filename": "scripts/per-boot/10-iptables.sh",
                            "part.2.merge_type": "",
                            "rendered": "H4sIAAAAAAAA/9RYbXMbt/F/jxl/h/2fPcm/SXBHSrIs07nM0BKdycSyPLTStOOqHhBYHmGCwBXAMVRS97N3ANzxQQ+007SZ9pVE7O4Pi93Fbxd3arRH7enldY0DWDTKy5pZXyzkCsUzmJhGC2avy+z8u/PR84sfXp0Nx3/OSPhF/4jWSaMH0M97D8gDQum20gPSYZ9JVxsnfdRl3jM+W6D2z2AqFWq2wDJz3Mrau6JGS6V2nmmORb9H5yeOcmMxd7NsA3hpmXZTtHSkuRFSVwN4MpF+SyGexuPKFyvqZqhU2uABOZcLvOX4w/8rJlIXE+ZmQFdICG+sAkotensNj4FO3ZuXMPO+doOiEOYnrQwTuTB8jjbnZlEoqZtV0Uwa7Zuiqiv4O7Da0zleAxMCaIu4g1MzPmcVupwr04i8MqZSGNFY7QtheNFC5HcBEs48fP316OIFfAMF+qhdONNYji5X0vlcFPNmglajb1eIwEncflAE7XxLLE0Bm590hVoyBQsmNRldvCDENcKEnWnwwmLMp7HX8BcCAFnAfcssn5VsIY6Prj45Vsn+0f8rN3lnUSFzCJS7P6R159lEYUYI8pmBjM+Qz2sjtadGY800KthyhQmBIutcrT2t0IPFhVkiODerGmYF0Os75ZSyxht6h/aevZ2b0aTX6Fi0St12oKkF87gPZlczAGj0Pxk7f1erppK6DHnR6ImcwlvIOFOSmwzKcvP/1TPwM9QE4IYp15JM5b7dWwNIBuDQgzfAtcwIeQhn1tQgNXCjp7KCqbHQegNMC4iVC7U1SynQksVcSAu0TvXorp3HhWj/xlpU6HOHdik55iJW8Defplsc9GjFw755cCUVPnn7JsmvyEgvpTU60EqZff/D89HL0eW7V6PLHy/G378bjr99U1LanpS2oXn0y26sPgClXEsa8KmQtoyOcS2LsKtopROpk9DUPgonUmd3b3/26k23NVeN82ip0K7s9/Knx3kv7/dgS2DCVSvbn7kynKl7YEd/uhwPN8CmEbRLQFlxzNJ9vT/hO5GsAIVMRbebvA0XtETz+ejixeddujbSouIYU0LeVspMmLoisYn8bDRCCd42SLQRSD2rHJQQCF3Plwd9umDx5P0k7kif1hancnWPZpdBa94j91QKKMEhs8FOsevKhna1VgutBUoQOGWN8sQ1k3skMWT81snXZ0uC9Un3BLfiGO9Ke2EaG0P7MF4aJhbQz08geMCip/E+dVRZST9rJpEht1xoSbGQzjXoiqPe8b2JKuq5/PgpdvW3DvUwevPty+enxJuGz6BYMlsoUxWVmvBcmeoGs7WUBzR1gfd/i390JfUq/pcon3Is+0/y3mF+8MUXcX2rzXAty15+nPc2EoW+7Of9fn6yWWNicWuNe7W1ticlyY0Oe52JFgO2iXuLkJJVIRgujM7fO6NbzvmFAGTOG8sqpMLKJdpsAJlZolXs+iAjHz52AVuHdjE64t3gJCoMLlp0nlnfGpJPwU682FnGw4XsTgOX3xOJZyAMAahc46UCXkMVqnIrWV0pdn+XKfxxdEo9PTb/4tEUisbZuP5oSgD4bGEEfLnaWRZGr7viHdQGd3LbOjvp4nZ94lfCAKWRcxSboHLl7hRkjcIyMc5HtruzmxqBkHA388g6kamaQiANE/+Bgfmg13Ll7z0u3xxFt0imrbJEMqyWa7BOMD+JcV/2mapnrE/mUosBnMdznLYsykIoyAZ1DdLWIIlJft3meBBomHgzRz2A46cnJ+wkP+BH+Piw9+Tg+IiJE95P4svLlwPIelnXMkJsCHTX501sGAPoOnav6B8QgNqIteTpQd4/PkmyY8IaPzNW/hzdPTcC3YBQeGUEEgrj58PTEIAws6A9RevfDF9Fhf7Bk4CQ9wk32lujFNpzplmFdrTylg1t5YJb3bAQKmBwV38EYCqMDh5TgXMprBtAFrpwFgCksLRVMZb6mPZszHSFw2416nXNq7081jQeA9CUKZeQ4nrSG+xvLBu/w/a3YraO9noWkjW1waVbgZ8i88GpikVvzjCYvY7DmyvDGb8aKjUMVZR+jY1nHr9Pl3YTdjmVIURlPMyu0qmSqP1tpdGqRivDHWTq1EovOVOvjRhqHayl0XFD4vgMRaNupO2/3u11Uf5vuR2Htthaese93n7i2UPZXRvkFtvnV7citfShgaS3z2/G354IcVUb6yF0rNOLVy+++7a8Cc/EQuod8N/cJfc72R7Toc/IJz01F0zLKTr/bpnYuCQAb9/CYf4Yyn/AXw/yI7i6gs8+u63Yz493dcPfe3WfJF36Mzz65ab4Q2uWTjYajy/GA/hBu6YO8UUByW1Ydg3jMH+cRYOV9NAnm2ESWF2ra6DTrW8X3OXtUyPB5MZWxfIwPywq9F7qirbj1Xbi2oEyFmoxMy6I7YRxOhciv2YL9a/t+fjX7rk1uQnmWRg3sUiYdNPuin7+pF1Nzu3/WtCGc3tofginibjHRuFzGeaL+JKoQ8hdmC9gaVSzwPSdIKQBbU66EKRr1/WIMH1NpI4gaW4abHriYANJEyTdgowvg/WLOo5xLcKnmDUujM1Jv21IjHPTaD8IntIOasmDsUceQk03vu0NWnIJgk/QnW5DN5vX4SI2fRcu2PoiOBDSIvfGXn8FLn6Da6lkwWpg0wAc9CNZWfSN1e5WdOkUaPeG3xnClt28lSatc1aTBXoWCib0gDRpSF1ZdI42UrRrrmYc0wjXRoZ0Jh0TBe0BPJ0+ZdOjY8TJkcBpr0cA7l7/yJupJadw5F2eDoeM8zZot+0PbM3x+4CT7bZhuJMy4P/b5vOJMb7o96is4/dM97tN5/ELXnoR9vP+4ZfdBw8HLy7GP47PwoPzbHzxOocw/v0U64hPbA+k9minjGNOOqeBDqPVcHwGVCY1+h6Gp6ej15d3a5kbWjcDSukD8s8AAAD//wHTZTqAGAAA"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.template"
                },
                "data.template_file.core-init": {
                    "type": "template_file",
                    "depends_on": [
                        "data.google_client_config.current",
                        "local.name"
                    ],
                    "primary": {
                        "id": "05c620336a084bd84d6c67b0fb14fc803bbb3ca50575a0787f3394979d85cbd5",
                        "attributes": {
                            "id": "05c620336a084bd84d6c67b0fb14fc803bbb3ca50575a0787f3394979d85cbd5",
                            "rendered": "#!/bin/bash -xe\n\ncurl --retry 5 -fsSL https://download.docker.com/linux/ubuntu/gpg | apt-key add -\ncurl -fsSL https://packages.cloud.google.com/apt/doc/apt-key.gpg | apt-key add -\n\ncat \u003c\u003cEOF \u003e /etc/apt/sources.list.d/kubernetes.list\ndeb http://apt.kubernetes.io/ kubernetes-xenial main\nEOF\n\nsudo add-apt-repository \\\n   \"deb [arch=amd64] https://download.docker.com/linux/ubuntu \\\n   $(lsb_release -cs) \\\n   stable\"\n\necho \"checkpoint-onepanel repository added\"\n\nsudo apt-get remove sshguard -y\nsudo apt-get remove --auto-remove sshguard -y\n\necho \"checkpoint-onepanel ssh-guard uninstalled\"\n\nsudo apt-get update\n\necho \"checkpoint-onepanel apt-get updated\"\n\nnetwork_plugin=kubenet\nif [ \"calico\" == \"calico\" ]; then\n  network_plugin=cni\nfi\n\necho \"checkpoint-onepanel network plugin set to cni\"\n\n# Drop in config for kubenet and cloud provider\nmkdir -p /etc/systemd/system/kubelet.service.d\ncat \u003e /etc/systemd/system/kubelet.service.d/20-gcenet.conf \u003c\u003cEOF\n[Service]\nEnvironment=\"KUBELET_NETWORK_ARGS=--network-plugin=${network_plugin} --cni-conf-dir=/etc/cni/net.d --cni-bin-dir=/opt/cni/bin\"\nEnvironment=\"KUBELET_DNS_ARGS=--cluster-dns=10.96.0.10 --cluster-domain=cluster.local\"\nEnvironment=\"KUBELET_EXTRA_ARGS=--cloud-provider=gce\"\nEOF\n\necho \"checkpoint-onepanel 20-gcenet.cong edited\"\n\nmkdir -p /etc/kubernetes\ncat \u003c\u003c'EOF' \u003e /etc/kubernetes/gce.conf\n[global]\nmultizone = true\nnode-tags = k8s-nkv21-master-1\nnode-instance-prefix = k8s-nkv21-master-1\nnetwork-project-id = searce-playground\nnetwork-name = default\nsubnetwork-name = default\n\nEOF\ncp /etc/kubernetes/gce.conf /etc/gce.conf\n\necho \"checkpoint-onepanel gce conf configured\"\n\n# kubeadm 1.8 workaround for https://github.com/kubernetes/release/issues/406\nmkdir -p /etc/kubernetes/pki\ncp /etc/kubernetes/gce.conf /etc/kubernetes/pki/gce.conf\n\n# for GLBC\ntouch /var/log/glbc.log\n\nsudo apt-get install -y \\\n  jq \\\n  nginx \\\n  docker-ce=17.03.2** \\\n  kubernetes-cni=0.6.0* \\\n  kubelet=1.11.8* \\\n  kubeadm=1.11.8* \\\n  kubectl=1.11.8* \\\n\necho \"checkpoint-onepanel docker kubelet kubeadm kubectl installed\"\n\ncat \u003e /etc/docker/daemon.json \u003c\u003cEOF\n{\n  \"storage-driver\": \"overlay2\"\n}\nEOF\n\necho \"checkpoint-onepanel docker storage-driver set to overlay2\"\nsystemctl restart docker\n\n\necho \"checkpoint-onepanel docker service restarted\"\n\nfor f in kubelet kubeadm kubectl; do\n  gsutil cp gs://kubernetes-release/release/v1.11.8/bin/linux/amd64/$f /usr/bin/$f\n  chmod +x /usr/bin/$f\ndone\n\necho \"KUBELET_EXTRA_ARGS= --cloud-provider=gce\" \u003e /etc/default/kubelet\necho \"KUBELET_EXTRA_ARGS= --cloud-provider=gce --node-labels=kubernetes.io/role=master\" \u003e /etc/default/kubelet\necho \"checkpoint-onepanel node labels added\"\n\nsystemctl daemon-reload\n",
                            "template": "#!/bin/bash -xe\n\ncurl --retry 5 -fsSL https://download.docker.com/linux/ubuntu/gpg | apt-key add -\ncurl -fsSL https://packages.cloud.google.com/apt/doc/apt-key.gpg | apt-key add -\n\ncat \u003c\u003cEOF \u003e /etc/apt/sources.list.d/kubernetes.list\ndeb http://apt.kubernetes.io/ kubernetes-xenial main\nEOF\n\nsudo add-apt-repository \\\n   \"deb [arch=amd64] https://download.docker.com/linux/ubuntu \\\n   $(lsb_release -cs) \\\n   stable\"\n\necho \"checkpoint-onepanel repository added\"\n\nsudo apt-get remove sshguard -y\nsudo apt-get remove --auto-remove sshguard -y\n\necho \"checkpoint-onepanel ssh-guard uninstalled\"\n\nsudo apt-get update\n\necho \"checkpoint-onepanel apt-get updated\"\n\nnetwork_plugin=kubenet\nif [ \"${pod_network_type}\" == \"calico\" ]; then\n  network_plugin=cni\nfi\n\necho \"checkpoint-onepanel network plugin set to cni\"\n\n# Drop in config for kubenet and cloud provider\nmkdir -p /etc/systemd/system/kubelet.service.d\ncat \u003e /etc/systemd/system/kubelet.service.d/20-gcenet.conf \u003c\u003cEOF\n[Service]\nEnvironment=\"KUBELET_NETWORK_ARGS=--network-plugin=$${network_plugin} --cni-conf-dir=/etc/cni/net.d --cni-bin-dir=/opt/cni/bin\"\nEnvironment=\"KUBELET_DNS_ARGS=--cluster-dns=${dns_ip} --cluster-domain=cluster.local\"\nEnvironment=\"KUBELET_EXTRA_ARGS=--cloud-provider=gce\"\nEOF\n\necho \"checkpoint-onepanel 20-gcenet.cong edited\"\n\nmkdir -p /etc/kubernetes\ncat \u003c\u003c'EOF' \u003e /etc/kubernetes/gce.conf\n[global]\nmultizone = true\nnode-tags = ${tags}\nnode-instance-prefix = ${instance_prefix}\nnetwork-project-id = ${project_id}\nnetwork-name = ${network_name}\nsubnetwork-name = ${subnetwork_name}\n${gce_conf_add}\nEOF\ncp /etc/kubernetes/gce.conf /etc/gce.conf\n\necho \"checkpoint-onepanel gce conf configured\"\n\n# kubeadm 1.8 workaround for https://github.com/kubernetes/release/issues/406\nmkdir -p /etc/kubernetes/pki\ncp /etc/kubernetes/gce.conf /etc/kubernetes/pki/gce.conf\n\n# for GLBC\ntouch /var/log/glbc.log\n\nsudo apt-get install -y \\\n  jq \\\n  nginx \\\n  docker-ce=${docker_version}* \\\n  kubernetes-cni=${cni_version}* \\\n  kubelet=${k8s_version}* \\\n  kubeadm=${k8s_version}* \\\n  kubectl=${k8s_version}* \\\n\necho \"checkpoint-onepanel docker kubelet kubeadm kubectl installed\"\n\ncat \u003e /etc/docker/daemon.json \u003c\u003cEOF\n{\n  \"storage-driver\": \"overlay2\"\n}\nEOF\n\necho \"checkpoint-onepanel docker storage-driver set to overlay2\"\nsystemctl restart docker\n\n\necho \"checkpoint-onepanel docker service restarted\"\n\nfor f in kubelet kubeadm kubectl; do\n  gsutil cp gs://kubernetes-release/release/v${k8s_version_override}/bin/linux/amd64/$f /usr/bin/$f\n  chmod +x /usr/bin/$f\ndone\n\necho \"KUBELET_EXTRA_ARGS= --cloud-provider=gce\" \u003e /etc/default/kubelet\necho \"KUBELET_EXTRA_ARGS= --cloud-provider=gce --node-labels=${add_labels}\" \u003e /etc/default/kubelet\necho \"checkpoint-onepanel node labels added\"\n\nsystemctl daemon-reload\n",
                            "vars.%": "13",
                            "vars.add_labels": "kubernetes.io/role=master",
                            "vars.cni_version": "0.6.0",
                            "vars.dns_ip": "10.96.0.10",
                            "vars.docker_version": "17.03.2*",
                            "vars.gce_conf_add": "",
                            "vars.instance_prefix": "k8s-nkv21-master-1",
                            "vars.k8s_version": "1.11.8",
                            "vars.k8s_version_override": "1.11.8",
                            "vars.network_name": "default",
                            "vars.pod_network_type": "calico",
                            "vars.project_id": "searce-playground",
                            "vars.subnetwork_name": "default",
                            "vars.tags": "k8s-nkv21-master-1"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.template"
                },
                "data.template_file.iptables": {
                    "type": "template_file",
                    "depends_on": [],
                    "primary": {
                        "id": "894d56565d8f7c2a53235e01facc371d82eedb1c259e80ec8245dc987e3e7f11",
                        "attributes": {
                            "id": "894d56565d8f7c2a53235e01facc371d82eedb1c259e80ec8245dc987e3e7f11",
                            "rendered": "#!/bin/bash\n\n# Docker 1.13+ defaults FORWRD to DROP. Allow the cbr0 interface.\niptables -A FORWARD -i cbr0 -j ACCEPT\niptables -A FORWARD -o cbr0 -j ACCEPT",
                            "template": "#!/bin/bash\n\n# Docker 1.13+ defaults FORWRD to DROP. Allow the cbr0 interface.\niptables -A FORWARD -i cbr0 -j ACCEPT\niptables -A FORWARD -o cbr0 -j ACCEPT"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.template"
                },
                "data.template_file.master-bootstrap": {
                    "type": "template_file",
                    "depends_on": [
                        "local.name"
                    ],
                    "primary": {
                        "id": "4980d6adc92f08e446123c5cbf6220a0223cba2ea9c307b0241a98894b66c268",
                        "attributes": {
                            "id": "4980d6adc92f08e446123c5cbf6220a0223cba2ea9c307b0241a98894b66c268",
                            "rendered": "#!/bin/bash -xe\n\ncat \u003c\u003cEOF \u003e /etc/kubernetes/kubeadm.conf\napiVersion: kubeadm.k8s.io/v1alpha1\nkind: MasterConfiguration\nkubernetesVersion: v1.11.8\ncloudProvider: gce\ntoken: 6988a8.2c4e5307264ad8c1\ntokenTTL: \"0\"\nnetworking:\n  serviceSubnet: 10.96.0.0/12\n  podSubnet: 192.168.0.0/16\nauthorizationModes:\n- Node\n- RBAC\napiServerCertSANs:\n- 127.0.0.1\ncontrollerManagerExtraArgs:\n  cluster-name: k8s-nkv21-master-1\n  allocate-node-cidrs: \"true\"\n  cidr-allocator-type: \"RangeAllocator\"\n  configure-cloud-routes: \"false\"\n  cloud-config: /etc/kubernetes/pki/gce.conf\n  cluster-cidr: 192.168.0.0/16\n  service-cluster-ip-range: 10.96.0.0/12\n  feature-gates: DevicePlugins=true,AllAlpha=true,RotateKubeletServerCertificate=false,RotateKubeletClientCertificate=false,ExperimentalCriticalPodAnnotation=true\nschedulerExtraArgs:\n  feature-gates: DevicePlugins=true,AllAlpha=true,RotateKubeletServerCertificate=false,RotateKubeletClientCertificate=false,ExperimentalCriticalPodAnnotation=true\napiServerExtraArgs:\n  feature-gates: DevicePlugins=true,AllAlpha=true,RotateKubeletServerCertificate=false,RotateKubeletClientCertificate=false,ExperimentalCriticalPodAnnotation=true\nEOF\nchmod 0600 /etc/kubernetes/kubeadm.conf\n\necho \"checkpoint-onepanel kubeadm created\"\n\nkubeadm init --config /etc/kubernetes/kubeadm.conf\n\necho \"checkpoint-onepanel kubeadm configured\"\n\nexport KUBECONFIG=/etc/kubernetes/admin.conf\n\necho \"KUBELET_EXTRA_ARGS= --cloud-provider=gce\" \u003e /etc/default/kubelet\n\necho \"checkpoint-onepanel kubconfig set\"\n\nif [ \"calico\" == \"calico\" ]; then\n  manifest_version=\n  [[ 3.5 =~ ^2.4 ]] \u0026\u0026 manifest_version=1.6\n  [[ 3.5 =~ ^3.5 ]] \u0026\u0026 manifest_version=1.7\n  [[ -z ${manifest_version} ]] \u0026\u0026 echo \"ERROR: Unsupported calico version: 3.5\" \u0026\u0026 exit 1\n\n  kubectl apply -f https://docs.projectcalico.org/v3.3/getting-started/kubernetes/installation/hosted/rbac-kdd.yaml\n  kubectl apply -f https://docs.projectcalico.org/v3.5/getting-started/kubernetes/installation/hosted/kubernetes-datastore/calico-networking/1.7/calico.yaml\nfi\n\necho \"checkpoint-onepanel calico installed\"\n\n# ClusterRoleBiding for persistent volume provisioner.\nkubectl create clusterrolebinding system:controller:persistent-volume-provisioner \\\n  --clusterrole=system:persistent-volume-provisioner \\\n  --user system:serviceaccount:kube-system:pvc-protection-controller\n\necho \"checkpoint-onepanel cluster role binding created\"\n\n# kubeadm manages the manifests directory, so add configmap after the init returns.\nkubectl create -f - \u003c\u003c'EOF'\napiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: ingress-uid\n  namespace: kube-system\ndata:\n  provider-uid: 9f9af46eeb4def00\n  uid: 9f9af46eeb4def00\nEOF\n\necho \"checkpoint-onepanel config map created\"\n\nkubectl label ns kube-system role=master\n\necho \"checkpoint-onepanel label kube-system applied\"\n",
                            "template": "#!/bin/bash -xe\n\ncat \u003c\u003cEOF \u003e /etc/kubernetes/kubeadm.conf\napiVersion: kubeadm.k8s.io/v1alpha1\nkind: MasterConfiguration\nkubernetesVersion: v${k8s_version}\ncloudProvider: gce\ntoken: ${token}\ntokenTTL: \"0\"\nnetworking:\n  serviceSubnet: ${service_cidr}\n  podSubnet: ${pod_cidr}\nauthorizationModes:\n- Node\n- RBAC\napiServerCertSANs:\n- 127.0.0.1\ncontrollerManagerExtraArgs:\n  cluster-name: ${instance_prefix}\n  allocate-node-cidrs: \"true\"\n  cidr-allocator-type: \"RangeAllocator\"\n  configure-cloud-routes: \"false\"\n  cloud-config: /etc/kubernetes/pki/gce.conf\n  cluster-cidr: ${pod_cidr}\n  service-cluster-ip-range: ${service_cidr}\n  feature-gates: ${feature_gates}\nschedulerExtraArgs:\n  feature-gates: ${feature_gates}\napiServerExtraArgs:\n  feature-gates: ${feature_gates}\nEOF\nchmod 0600 /etc/kubernetes/kubeadm.conf\n\necho \"checkpoint-onepanel kubeadm created\"\n\nkubeadm init --config /etc/kubernetes/kubeadm.conf\n\necho \"checkpoint-onepanel kubeadm configured\"\n\nexport KUBECONFIG=/etc/kubernetes/admin.conf\n\necho \"KUBELET_EXTRA_ARGS= --cloud-provider=gce\" \u003e /etc/default/kubelet\n\necho \"checkpoint-onepanel kubconfig set\"\n\nif [ \"${pod_network_type}\" == \"calico\" ]; then\n  manifest_version=\n  [[ ${calico_version} =~ ^2.4 ]] \u0026\u0026 manifest_version=1.6\n  [[ ${calico_version} =~ ^3.5 ]] \u0026\u0026 manifest_version=1.7\n  [[ -z $${manifest_version} ]] \u0026\u0026 echo \"ERROR: Unsupported calico version: ${calico_version}\" \u0026\u0026 exit 1\n\n  kubectl apply -f https://docs.projectcalico.org/v3.3/getting-started/kubernetes/installation/hosted/rbac-kdd.yaml\n  kubectl apply -f https://docs.projectcalico.org/v3.5/getting-started/kubernetes/installation/hosted/kubernetes-datastore/calico-networking/1.7/calico.yaml\nfi\n\necho \"checkpoint-onepanel calico installed\"\n\n# ClusterRoleBiding for persistent volume provisioner.\nkubectl create clusterrolebinding system:controller:persistent-volume-provisioner \\\n  --clusterrole=system:persistent-volume-provisioner \\\n  --user system:serviceaccount:kube-system:pvc-protection-controller\n\necho \"checkpoint-onepanel cluster role binding created\"\n\n# kubeadm manages the manifests directory, so add configmap after the init returns.\nkubectl create -f - \u003c\u003c'EOF'\napiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: ingress-uid\n  namespace: kube-system\ndata:\n  provider-uid: ${cluster_uid}\n  uid: ${cluster_uid}\nEOF\n\necho \"checkpoint-onepanel config map created\"\n\nkubectl label ns kube-system role=master\n\necho \"checkpoint-onepanel label kube-system applied\"\n",
                            "vars.%": "10",
                            "vars.calico_version": "3.5",
                            "vars.cluster_uid": "9f9af46eeb4def00",
                            "vars.dashboard_version": "v1.10.1",
                            "vars.feature_gates": "DevicePlugins=true,AllAlpha=true,RotateKubeletServerCertificate=false,RotateKubeletClientCertificate=false,ExperimentalCriticalPodAnnotation=true",
                            "vars.instance_prefix": "k8s-nkv21-master-1",
                            "vars.k8s_version": "1.11.8",
                            "vars.pod_cidr": "192.168.0.0/16",
                            "vars.pod_network_type": "calico",
                            "vars.service_cidr": "10.96.0.0/12",
                            "vars.token": "6988a8.2c4e5307264ad8c1"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.template"
                },
                "data.template_file.shutdown-script": {
                    "type": "template_file",
                    "depends_on": [],
                    "primary": {
                        "id": "e302d1fd69b57060010e19b15d95e9db8c3065cd584ec4d7a5e8b3954a4c6516",
                        "attributes": {
                            "id": "e302d1fd69b57060010e19b15d95e9db8c3065cd584ec4d7a5e8b3954a4c6516",
                            "rendered": "#!/bin/bash\n# Shutdown script to remove node from the cluster.\n\nnode=$(hostname)\ncfg=\"--kubeconfig /etc/kubernetes/kubelet.conf\"\n\n# Drain and delete the node.\nkubectl $cfg drain $node --delete-local-data --force --ignore-daemonsets\nkubectl $cfg delete node $node\n\nkubeadm reset",
                            "template": "#!/bin/bash\n# Shutdown script to remove node from the cluster.\n\nnode=$(hostname)\ncfg=\"--kubeconfig /etc/kubernetes/kubelet.conf\"\n\n# Drain and delete the node.\nkubectl $cfg drain $node --delete-local-data --force --ignore-daemonsets\nkubectl $cfg delete node $node\n\nkubeadm reset"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.template"
                },
                "google_compute_firewall.k8s-all": {
                    "type": "google_compute_firewall",
                    "depends_on": [
                        "local.name"
                    ],
                    "primary": {
                        "id": "k8s-nkv21-master-1-all",
                        "attributes": {
                            "allow.#": "6",
                            "allow.1367131964.ports.#": "0",
                            "allow.1367131964.protocol": "icmp",
                            "allow.1486604749.ports.#": "0",
                            "allow.1486604749.protocol": "udp",
                            "allow.1588577759.ports.#": "0",
                            "allow.1588577759.protocol": "ah",
                            "allow.1759236320.ports.#": "0",
                            "allow.1759236320.protocol": "sctp",
                            "allow.300624807.ports.#": "0",
                            "allow.300624807.protocol": "esp",
                            "allow.3848845357.ports.#": "0",
                            "allow.3848845357.protocol": "tcp",
                            "creation_timestamp": "2019-05-21T06:35:39.978-07:00",
                            "deny.#": "0",
                            "description": "",
                            "destination_ranges.#": "0",
                            "direction": "INGRESS",
                            "disabled": "false",
                            "id": "k8s-nkv21-master-1-all",
                            "name": "k8s-nkv21-master-1-all",
                            "network": "https://www.googleapis.com/compute/v1/projects/searce-playground/global/networks/default",
                            "priority": "1000",
                            "project": "searce-playground",
                            "self_link": "https://www.googleapis.com/compute/v1/projects/searce-playground/global/firewalls/k8s-nkv21-master-1-all",
                            "source_ranges.#": "1",
                            "source_ranges.3901788224": "192.168.0.0/16",
                            "source_service_accounts.#": "0",
                            "source_tags.#": "0",
                            "target_service_accounts.#": "0",
                            "target_tags.#": "0"
                        },
                        "meta": {
                            "e2bfb730-ecaa-11e6-8f88-34363bc7c4c0": {
                                "create": 240000000000,
                                "delete": 240000000000,
                                "update": 240000000000
                            },
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.google"
                },
                "google_compute_firewall.vms": {
                    "type": "google_compute_firewall",
                    "depends_on": [
                        "data.google_compute_subnetwork.subnet",
                        "local.name"
                    ],
                    "primary": {
                        "id": "k8s-nkv21-master-1-vms",
                        "attributes": {
                            "allow.#": "3",
                            "allow.1367131964.ports.#": "0",
                            "allow.1367131964.protocol": "icmp",
                            "allow.1486604749.ports.#": "0",
                            "allow.1486604749.protocol": "udp",
                            "allow.3848845357.ports.#": "0",
                            "allow.3848845357.protocol": "tcp",
                            "creation_timestamp": "2019-05-21T06:35:40.009-07:00",
                            "deny.#": "0",
                            "description": "",
                            "destination_ranges.#": "0",
                            "direction": "INGRESS",
                            "disabled": "false",
                            "id": "k8s-nkv21-master-1-vms",
                            "name": "k8s-nkv21-master-1-vms",
                            "network": "https://www.googleapis.com/compute/v1/projects/searce-playground/global/networks/default",
                            "priority": "1000",
                            "project": "searce-playground",
                            "self_link": "https://www.googleapis.com/compute/v1/projects/searce-playground/global/firewalls/k8s-nkv21-master-1-vms",
                            "source_ranges.#": "1",
                            "source_ranges.1569849063": "10.128.0.0/9",
                            "source_service_accounts.#": "0",
                            "source_tags.#": "0",
                            "target_service_accounts.#": "0",
                            "target_tags.#": "0"
                        },
                        "meta": {
                            "e2bfb730-ecaa-11e6-8f88-34363bc7c4c0": {
                                "create": 240000000000,
                                "delete": 240000000000,
                                "update": 240000000000
                            },
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.google"
                },
                "local_file.master-key": {
                    "type": "local_file",
                    "depends_on": [
                        "random_id.instance-prefix",
                        "tls_private_key.key"
                    ],
                    "primary": {
                        "id": "15e92ff0f2d4accefe1104573b35f7308b975707",
                        "attributes": {
                            "content": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCu9NfHYTTioKumeHuXXMOL1Qg0uyDRdtLZbeDrXj/O+XUPyNpgHcgvtQDbEeeenvgru2pkqKqjp3okCgYkzLewV5LG2UrkxNgQmJHARmKHOeuTQONpewQj8fWGD8Sty7Pyu+gcdA9qQLkA4ZF03MORXs+lHywbeucEbyPKyiGDTHB9W7iA9jesI+XjYYV8ESrQjt5CkxYMMnVcTYZleSuznd90MjR6lDNxpqXW0p1viNq/6NV0hiKFiy9tfOk8dbtdUhMp1UyLVJ2fg7rBO0f5tjL8HbaAhizfNr/O+W/Ei5lbXFwvtvk39bx5QpojafvCaBlc+Dj085Ae9XC1WlUD\n",
                            "filename": "/home/nikhilk/Onepanel/terraform-k8s-gce/.terraform/modules/aedfbee6f53078b3d82331958046eff6/keys/master-key-k8s-master-1-59c742cd.pub",
                            "id": "15e92ff0f2d4accefe1104573b35f7308b975707"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.local"
                },
                "local_file.master-pkey": {
                    "type": "local_file",
                    "depends_on": [
                        "random_id.instance-prefix",
                        "tls_private_key.key"
                    ],
                    "primary": {
                        "id": "f74f93d5b3b80ea3bbb2fd2876bede7bb47ebd21",
                        "attributes": {
                            "content": "-----BEGIN RSA PRIVATE KEY-----\nMIIEpAIBAAKCAQEArvTXx2E04qCrpnh7l1zDi9UINLsg0XbS2W3g614/zvl1D8ja\nYB3IL7UA2xHnnp74K7tqZKiqo6d6JAoGJMy3sFeSxtlK5MTYEJiRwEZihznrk0Dj\naXsEI/H1hg/Ercuz8rvoHHQPakC5AOGRdNzDkV7PpR8sG3rnBG8jysohg0xwfVu4\ngPY3rCPl42GFfBEq0I7eQpMWDDJ1XE2GZXkrs53fdDI0epQzcaal1tKdb4jav+jV\ndIYihYsvbXzpPHW7XVITKdVMi1Sdn4O6wTtH+bYy/B22gIYs3za/zvlvxIuZW1xc\nL7b5N/W8eUKaI2n7wmgZXPg49POQHvVwtVpVAwIDAQABAoIBAQCs9Eh3xmW0f+cQ\nW1y6Zi69hixljHPF/jQ0U4Ycx4BGyJ5rq0AN8oMaflHJPyr8yORGvzBPL9n4jLCW\n/f3S1TnlrrzfrKF4BAwgY+L589qlGaIDYQsvFDgknKX+EIp60LwkgpPTxPwUKsV4\n1ISpxS/j/plA/87nn5jO7luwth9pHj4vjd9rRFAKaxRG0Fxodih4LcT/jR4w3Bnp\ntgbiLXWX/kWbT21YY/Bxtc7xhepHFacAR5l7sV7kzw9UQDbzjkAvtzKfJr/ciZFy\n9cb0FxWxgyAjCXTPBRGWRYFWujh0kz60ArsGIOBPacXDrhhEPfFMCF0ihbF8Lu67\n1asMZxQBAoGBAM7SAPWZUe2kh45JnmVoMbEuUs0pIpr011Xy7H8FGjXGdUfO3eZO\ncqYd8nMSAwLVEsy+VTb+Y/+E5BdFA0cxFDtN84cIpU4h5igTTfAVmpToKcj0WbKO\n9M3G1C2UIwNBpruXEM5LAE2ZT8HtQJmbyvIr/b+FPmmbnum4W6XOog4BAoGBANiP\nJzEMwyoOVOLXQWdRfCwqPcDbWLHBUBZaD0SRMnj+LYV3j1xMpWY/uHqjwgoduStI\nTPDpEY7pMH4ELeVAPfVUgnPXx9myunr7lWuLcX8uIz2qznGb8v4bRvDHO6Fv8rwQ\nbuI5lxnQxIjEqefVBksnRYHg+gxJv6SFVU6lGisDAoGBAKozXoC/PRIRfVDWOtj/\nJy3FjnSx7n2REojz0jYxz8EDYk7G6gv28RjNulGCOCIjkUYXOG96aHbGOSMBM1Jq\nDFlFrCyrK8ah1ROT12bFkKIMcR6kIBD23nVdtA0SRMIQTBNCnZz3UfeKPH2+LpR7\nBkfHdhofoB4u6Fc01Y8c/nYBAoGAcad3vyNejgTlggPMvIekbp1guYWk3+1/tatg\nVfEKFzv28hQUdjF3oNkSXbLyFFMTKmcQkmMPpvw1Sf2xhJ6ZpdbLfDakGVnWytKc\n0ctmLoQtVKD/JdrdxYTVT2qQniJdt1u8hhgJeC/75XepYBWJ7wlWTlqfgLF31cVw\nRw0ZVbcCgYAvE4eFklgfaxIG9sHfVTpGNhNueePxTpAjSrvGW4gy7t4+AP3BKYDJ\nFC5GqaQP017/5s87enRojTosuo6L6S2qxHBPZeVYf+NIu1HyWTHMfVn+1fw6/NrG\nT6IfVYAqv8OibTkgciEfs1PpJELze6tLYaILLg28UYZswGbgKD9wqQ==\n-----END RSA PRIVATE KEY-----\n",
                            "filename": "/home/nikhilk/Onepanel/terraform-k8s-gce/.terraform/modules/aedfbee6f53078b3d82331958046eff6/keys/master-pkey-k8s-master-1-59c742cd.pem",
                            "id": "f74f93d5b3b80ea3bbb2fd2876bede7bb47ebd21"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.local"
                },
                "random_id.instance-prefix": {
                    "type": "random_id",
                    "depends_on": [],
                    "primary": {
                        "id": "WcdCzQ",
                        "attributes": {
                            "b64": "k8s-master-1-WcdCzQ",
                            "b64_std": "k8s-master-1-WcdCzQ==",
                            "b64_url": "k8s-master-1-WcdCzQ",
                            "byte_length": "4",
                            "dec": "k8s-master-1-1506230989",
                            "hex": "k8s-master-1-59c742cd",
                            "id": "WcdCzQ",
                            "prefix": "k8s-master-1-"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.random"
                },
                "tls_private_key.key": {
                    "type": "tls_private_key",
                    "depends_on": [],
                    "primary": {
                        "id": "fe65e2d3b9ece24f58f7341633633c16710ffb80",
                        "attributes": {
                            "algorithm": "RSA",
                            "ecdsa_curve": "P224",
                            "id": "fe65e2d3b9ece24f58f7341633633c16710ffb80",
                            "private_key_pem": "-----BEGIN RSA PRIVATE KEY-----\nMIIEpAIBAAKCAQEArvTXx2E04qCrpnh7l1zDi9UINLsg0XbS2W3g614/zvl1D8ja\nYB3IL7UA2xHnnp74K7tqZKiqo6d6JAoGJMy3sFeSxtlK5MTYEJiRwEZihznrk0Dj\naXsEI/H1hg/Ercuz8rvoHHQPakC5AOGRdNzDkV7PpR8sG3rnBG8jysohg0xwfVu4\ngPY3rCPl42GFfBEq0I7eQpMWDDJ1XE2GZXkrs53fdDI0epQzcaal1tKdb4jav+jV\ndIYihYsvbXzpPHW7XVITKdVMi1Sdn4O6wTtH+bYy/B22gIYs3za/zvlvxIuZW1xc\nL7b5N/W8eUKaI2n7wmgZXPg49POQHvVwtVpVAwIDAQABAoIBAQCs9Eh3xmW0f+cQ\nW1y6Zi69hixljHPF/jQ0U4Ycx4BGyJ5rq0AN8oMaflHJPyr8yORGvzBPL9n4jLCW\n/f3S1TnlrrzfrKF4BAwgY+L589qlGaIDYQsvFDgknKX+EIp60LwkgpPTxPwUKsV4\n1ISpxS/j/plA/87nn5jO7luwth9pHj4vjd9rRFAKaxRG0Fxodih4LcT/jR4w3Bnp\ntgbiLXWX/kWbT21YY/Bxtc7xhepHFacAR5l7sV7kzw9UQDbzjkAvtzKfJr/ciZFy\n9cb0FxWxgyAjCXTPBRGWRYFWujh0kz60ArsGIOBPacXDrhhEPfFMCF0ihbF8Lu67\n1asMZxQBAoGBAM7SAPWZUe2kh45JnmVoMbEuUs0pIpr011Xy7H8FGjXGdUfO3eZO\ncqYd8nMSAwLVEsy+VTb+Y/+E5BdFA0cxFDtN84cIpU4h5igTTfAVmpToKcj0WbKO\n9M3G1C2UIwNBpruXEM5LAE2ZT8HtQJmbyvIr/b+FPmmbnum4W6XOog4BAoGBANiP\nJzEMwyoOVOLXQWdRfCwqPcDbWLHBUBZaD0SRMnj+LYV3j1xMpWY/uHqjwgoduStI\nTPDpEY7pMH4ELeVAPfVUgnPXx9myunr7lWuLcX8uIz2qznGb8v4bRvDHO6Fv8rwQ\nbuI5lxnQxIjEqefVBksnRYHg+gxJv6SFVU6lGisDAoGBAKozXoC/PRIRfVDWOtj/\nJy3FjnSx7n2REojz0jYxz8EDYk7G6gv28RjNulGCOCIjkUYXOG96aHbGOSMBM1Jq\nDFlFrCyrK8ah1ROT12bFkKIMcR6kIBD23nVdtA0SRMIQTBNCnZz3UfeKPH2+LpR7\nBkfHdhofoB4u6Fc01Y8c/nYBAoGAcad3vyNejgTlggPMvIekbp1guYWk3+1/tatg\nVfEKFzv28hQUdjF3oNkSXbLyFFMTKmcQkmMPpvw1Sf2xhJ6ZpdbLfDakGVnWytKc\n0ctmLoQtVKD/JdrdxYTVT2qQniJdt1u8hhgJeC/75XepYBWJ7wlWTlqfgLF31cVw\nRw0ZVbcCgYAvE4eFklgfaxIG9sHfVTpGNhNueePxTpAjSrvGW4gy7t4+AP3BKYDJ\nFC5GqaQP017/5s87enRojTosuo6L6S2qxHBPZeVYf+NIu1HyWTHMfVn+1fw6/NrG\nT6IfVYAqv8OibTkgciEfs1PpJELze6tLYaILLg28UYZswGbgKD9wqQ==\n-----END RSA PRIVATE KEY-----\n",
                            "public_key_fingerprint_md5": "e7:f7:53:df:e6:59:20:a3:33:81:70:16:ab:7c:b1:6d",
                            "public_key_openssh": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCu9NfHYTTioKumeHuXXMOL1Qg0uyDRdtLZbeDrXj/O+XUPyNpgHcgvtQDbEeeenvgru2pkqKqjp3okCgYkzLewV5LG2UrkxNgQmJHARmKHOeuTQONpewQj8fWGD8Sty7Pyu+gcdA9qQLkA4ZF03MORXs+lHywbeucEbyPKyiGDTHB9W7iA9jesI+XjYYV8ESrQjt5CkxYMMnVcTYZleSuznd90MjR6lDNxpqXW0p1viNq/6NV0hiKFiy9tfOk8dbtdUhMp1UyLVJ2fg7rBO0f5tjL8HbaAhizfNr/O+W/Ei5lbXFwvtvk39bx5QpojafvCaBlc+Dj085Ae9XC1WlUD\n",
                            "public_key_pem": "-----BEGIN PUBLIC KEY-----\nMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEArvTXx2E04qCrpnh7l1zD\ni9UINLsg0XbS2W3g614/zvl1D8jaYB3IL7UA2xHnnp74K7tqZKiqo6d6JAoGJMy3\nsFeSxtlK5MTYEJiRwEZihznrk0DjaXsEI/H1hg/Ercuz8rvoHHQPakC5AOGRdNzD\nkV7PpR8sG3rnBG8jysohg0xwfVu4gPY3rCPl42GFfBEq0I7eQpMWDDJ1XE2GZXkr\ns53fdDI0epQzcaal1tKdb4jav+jVdIYihYsvbXzpPHW7XVITKdVMi1Sdn4O6wTtH\n+bYy/B22gIYs3za/zvlvxIuZW1xcL7b5N/W8eUKaI2n7wmgZXPg49POQHvVwtVpV\nAwIDAQAB\n-----END PUBLIC KEY-----\n",
                            "rsa_bits": "2048"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.tls"
                }
            },
            "depends_on": []
        },
        {
            "path": [
                "root",
                "metric_server"
            ],
            "outputs": {},
            "resources": {
                "k8s_manifest.aggregated_metrics_reader_crole": {
                    "type": "k8s_manifest",
                    "depends_on": [],
                    "primary": {
                        "id": "ClusterRole/kube-system/system:aggregated-metrics-reader",
                        "attributes": {
                            "content": "kind: ClusterRole\napiVersion: rbac.authorization.k8s.io/v1\nmetadata:\n  name: system:aggregated-metrics-reader\n  labels:\n    rbac.authorization.k8s.io/aggregate-to-view: \"true\"\n    rbac.authorization.k8s.io/aggregate-to-edit: \"true\"\n    rbac.authorization.k8s.io/aggregate-to-admin: \"true\"\nrules:\n- apiGroups: [\"metrics.k8s.io\"]\n  resources: [\"pods\"]\n  verbs: [\"get\", \"list\", \"watch\"]\n",
                            "id": "ClusterRole/kube-system/system:aggregated-metrics-reader",
                            "kind": "ClusterRole",
                            "name": "system:aggregated-metrics-reader",
                            "namespace": "kube-system",
                            "status": "/home/nikhilk/Onepanel/terraform-k8s-gce/generated/kubeconfig"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.k8s"
                },
                "k8s_manifest.auth-delegator_crb": {
                    "type": "k8s_manifest",
                    "depends_on": [
                        "k8s_manifest.metrics_server_sa"
                    ],
                    "primary": {
                        "id": "ClusterRoleBinding/kube-system/metrics-server:system:auth-delegator",
                        "attributes": {
                            "content": "apiVersion: rbac.authorization.k8s.io/v1beta1\nkind: ClusterRoleBinding\nmetadata:\n  name: metrics-server:system:auth-delegator\nroleRef:\n  apiGroup: rbac.authorization.k8s.io\n  kind: ClusterRole\n  name: system:auth-delegator\nsubjects:\n- kind: ServiceAccount\n  name: metrics-server\n  namespace: kube-system\n",
                            "id": "ClusterRoleBinding/kube-system/metrics-server:system:auth-delegator",
                            "kind": "ClusterRoleBinding",
                            "name": "metrics-server:system:auth-delegator",
                            "namespace": "kube-system",
                            "status": "/home/nikhilk/Onepanel/terraform-k8s-gce/generated/kubeconfig"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.k8s"
                },
                "k8s_manifest.auth_reader_rb": {
                    "type": "k8s_manifest",
                    "depends_on": [
                        "k8s_manifest.metrics_server_sa"
                    ],
                    "primary": {
                        "id": "RoleBinding/kube-system/metrics-server-auth-reader",
                        "attributes": {
                            "content": "apiVersion: rbac.authorization.k8s.io/v1beta1\nkind: RoleBinding\nmetadata:\n  name: metrics-server-auth-reader\n  namespace: kube-system\nroleRef:\n  apiGroup: rbac.authorization.k8s.io\n  kind: Role\n  name: extension-apiserver-authentication-reader\nsubjects:\n- kind: ServiceAccount\n  name: metrics-server\n  namespace: kube-system\n",
                            "id": "RoleBinding/kube-system/metrics-server-auth-reader",
                            "kind": "RoleBinding",
                            "name": "metrics-server-auth-reader",
                            "namespace": "kube-system",
                            "status": "/home/nikhilk/Onepanel/terraform-k8s-gce/generated/kubeconfig"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.k8s"
                },
                "k8s_manifest.cluster_autoscaler_deploy": {
                    "type": "k8s_manifest",
                    "depends_on": [
                        "k8s_manifest.metrics_server_service"
                    ],
                    "primary": {
                        "id": "Deployment/kube-system/metrics-server",
                        "attributes": {
                            "content": "apiVersion: extensions/v1beta1\nkind: Deployment\nmetadata:\n  name: metrics-server\n  namespace: kube-system\n  labels:\n    k8s-app: metrics-server\nspec:\n  selector:\n    matchLabels:\n      k8s-app: metrics-server\n  template:\n    metadata:\n      name: metrics-server\n      labels:\n        k8s-app: metrics-server\n    spec:\n      serviceAccountName: metrics-server\n      volumes:\n      # mount in tmp so we can safely use from-scratch images and/or read-only containers\n      - name: tmp-dir\n        emptyDir: {}\n      containers:\n      - name: metrics-server\n        image: k8s.gcr.io/metrics-server-amd64:v0.3.1\n        imagePullPolicy: Always\n        command:\n        - /metrics-server\n        - --kubelet-insecure-tls=true\n        - --kubelet-preferred-address-types=InternalIP\n        volumeMounts:\n        - name: tmp-dir\n          mountPath: /tmp",
                            "id": "Deployment/kube-system/metrics-server",
                            "kind": "Deployment",
                            "name": "metrics-server",
                            "namespace": "kube-system",
                            "status": "/home/nikhilk/Onepanel/terraform-k8s-gce/generated/kubeconfig"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.k8s"
                },
                "k8s_manifest.metrics_server_apiservice": {
                    "type": "k8s_manifest",
                    "depends_on": [
                        "k8s_manifest.metrics_server_service"
                    ],
                    "primary": {
                        "id": "APIService/kube-system/v1beta1.metrics.k8s.io",
                        "attributes": {
                            "content": "apiVersion: apiregistration.k8s.io/v1beta1\nkind: APIService\nmetadata:\n  name: v1beta1.metrics.k8s.io\nspec:\n  service:\n    name: metrics-server\n    namespace: kube-system\n  group: metrics.k8s.io\n  version: v1beta1\n  insecureSkipTLSVerify: true\n  groupPriorityMinimum: 100\n  versionPriority: 100\n",
                            "id": "APIService/kube-system/v1beta1.metrics.k8s.io",
                            "kind": "APIService",
                            "name": "v1beta1.metrics.k8s.io",
                            "namespace": "kube-system",
                            "status": "/home/nikhilk/Onepanel/terraform-k8s-gce/generated/kubeconfig"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.k8s"
                },
                "k8s_manifest.metrics_server_crb": {
                    "type": "k8s_manifest",
                    "depends_on": [
                        "k8s_manifest.metrics_server_sa"
                    ],
                    "primary": {
                        "id": "ClusterRoleBinding/kube-system/system:metrics-server",
                        "attributes": {
                            "content": "apiVersion: rbac.authorization.k8s.io/v1\nkind: ClusterRoleBinding\nmetadata:\n  name: system:metrics-server\nroleRef:\n  apiGroup: rbac.authorization.k8s.io\n  kind: ClusterRole\n  name: system:metrics-server\nsubjects:\n- kind: ServiceAccount\n  name: metrics-server\n  namespace: kube-system\n",
                            "id": "ClusterRoleBinding/kube-system/system:metrics-server",
                            "kind": "ClusterRoleBinding",
                            "name": "system:metrics-server",
                            "namespace": "kube-system",
                            "status": "/home/nikhilk/Onepanel/terraform-k8s-gce/generated/kubeconfig"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.k8s"
                },
                "k8s_manifest.metrics_server_crole": {
                    "type": "k8s_manifest",
                    "depends_on": [],
                    "primary": {
                        "id": "ClusterRole/kube-system/system:metrics-server",
                        "attributes": {
                            "content": "apiVersion: rbac.authorization.k8s.io/v1\nkind: ClusterRole\nmetadata:\n  name: system:metrics-server\nrules:\n- apiGroups:\n  - \"\"\n  resources:\n  - pods\n  - nodes\n  - nodes/stats\n  verbs:\n  - get\n  - list\n  - watch",
                            "id": "ClusterRole/kube-system/system:metrics-server",
                            "kind": "ClusterRole",
                            "name": "system:metrics-server",
                            "namespace": "kube-system",
                            "status": "/home/nikhilk/Onepanel/terraform-k8s-gce/generated/kubeconfig"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.k8s"
                },
                "k8s_manifest.metrics_server_sa": {
                    "type": "k8s_manifest",
                    "depends_on": [],
                    "primary": {
                        "id": "ServiceAccount/kube-system/metrics-server",
                        "attributes": {
                            "content": "apiVersion: v1\nkind: ServiceAccount\nmetadata:\n  name: metrics-server\n  namespace: kube-system",
                            "id": "ServiceAccount/kube-system/metrics-server",
                            "kind": "ServiceAccount",
                            "name": "metrics-server",
                            "namespace": "kube-system",
                            "status": "/home/nikhilk/Onepanel/terraform-k8s-gce/generated/kubeconfig"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.k8s"
                },
                "k8s_manifest.metrics_server_service": {
                    "type": "k8s_manifest",
                    "depends_on": [
                        "k8s_manifest.metrics_server_crb"
                    ],
                    "primary": {
                        "id": "Service/kube-system/metrics-server",
                        "attributes": {
                            "content": "apiVersion: v1\nkind: Service\nmetadata:\n  name: metrics-server\n  namespace: kube-system\n  labels:\n    kubernetes.io/name: \"Metrics-server\"\nspec:\n  selector:\n    k8s-app: metrics-server\n  ports:\n  - port: 443\n    protocol: TCP\n    targetPort: 443\n",
                            "id": "Service/kube-system/metrics-server",
                            "kind": "Service",
                            "name": "metrics-server",
                            "namespace": "kube-system",
                            "status": "/home/nikhilk/Onepanel/terraform-k8s-gce/generated/kubeconfig"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.k8s"
                }
            },
            "depends_on": []
        },
        {
            "path": [
                "root",
                "nat"
            ],
            "outputs": {
                "depends_id": {
                    "sensitive": false,
                    "type": "string",
                    "value": "8229196474861293000"
                },
                "external_ip": {
                    "sensitive": false,
                    "type": "string",
                    "value": "34.83.19.181"
                },
                "gateway_ip": {
                    "sensitive": false,
                    "type": "string",
                    "value": ""
                },
                "instance": {
                    "sensitive": false,
                    "type": "list",
                    "value": [
                        "https://www.googleapis.com/compute/v1/projects/searce-playground/zones/us-west1-b/instances/k8s-nkv21-nat-g4hn"
                    ]
                },
                "routing_tag_regional": {
                    "sensitive": false,
                    "type": "string",
                    "value": "nat-us-west1"
                },
                "routing_tag_zonal": {
                    "sensitive": false,
                    "type": "string",
                    "value": "nat-nkv21-us-west1-b"
                }
            },
            "resources": {
                "data.google_compute_network.network": {
                    "type": "google_compute_network",
                    "depends_on": [],
                    "primary": {
                        "id": "default",
                        "attributes": {
                            "description": "Default network for the project",
                            "gateway_ipv4": "",
                            "id": "default",
                            "name": "default",
                            "self_link": "https://www.googleapis.com/compute/v1/projects/searce-playground/global/networks/default",
                            "subnetworks_self_links.#": "20",
                            "subnetworks_self_links.0": "https://www.googleapis.com/compute/v1/projects/searce-playground/regions/australia-southeast1/subnetworks/default",
                            "subnetworks_self_links.1": "https://www.googleapis.com/compute/v1/projects/searce-playground/regions/europe-west3/subnetworks/default",
                            "subnetworks_self_links.10": "https://www.googleapis.com/compute/v1/projects/searce-playground/regions/us-central1/subnetworks/default",
                            "subnetworks_self_links.11": "https://www.googleapis.com/compute/v1/projects/searce-playground/regions/asia-east2/subnetworks/default",
                            "subnetworks_self_links.12": "https://www.googleapis.com/compute/v1/projects/searce-playground/regions/asia-south1/subnetworks/default",
                            "subnetworks_self_links.13": "https://www.googleapis.com/compute/v1/projects/searce-playground/regions/northamerica-northeast1/subnetworks/default",
                            "subnetworks_self_links.14": "https://www.googleapis.com/compute/v1/projects/searce-playground/regions/us-east4/subnetworks/default",
                            "subnetworks_self_links.15": "https://www.googleapis.com/compute/v1/projects/searce-playground/regions/europe-west1/subnetworks/default",
                            "subnetworks_self_links.16": "https://www.googleapis.com/compute/v1/projects/searce-playground/regions/europe-north1/subnetworks/default",
                            "subnetworks_self_links.17": "https://www.googleapis.com/compute/v1/projects/searce-playground/regions/us-east1/subnetworks/default",
                            "subnetworks_self_links.18": "https://www.googleapis.com/compute/v1/projects/searce-playground/regions/europe-west6/subnetworks/default",
                            "subnetworks_self_links.19": "https://www.googleapis.com/compute/v1/projects/searce-playground/regions/europe-west2/subnetworks/default",
                            "subnetworks_self_links.2": "https://www.googleapis.com/compute/v1/projects/searce-playground/regions/us-west1/subnetworks/default",
                            "subnetworks_self_links.3": "https://www.googleapis.com/compute/v1/projects/searce-playground/regions/southamerica-east1/subnetworks/default",
                            "subnetworks_self_links.4": "https://www.googleapis.com/compute/v1/projects/searce-playground/regions/europe-west4/subnetworks/default",
                            "subnetworks_self_links.5": "https://www.googleapis.com/compute/v1/projects/searce-playground/regions/asia-northeast1/subnetworks/default",
                            "subnetworks_self_links.6": "https://www.googleapis.com/compute/v1/projects/searce-playground/regions/us-west2/subnetworks/default",
                            "subnetworks_self_links.7": "https://www.googleapis.com/compute/v1/projects/searce-playground/regions/asia-northeast2/subnetworks/default",
                            "subnetworks_self_links.8": "https://www.googleapis.com/compute/v1/projects/searce-playground/regions/asia-east1/subnetworks/default",
                            "subnetworks_self_links.9": "https://www.googleapis.com/compute/v1/projects/searce-playground/regions/asia-southeast1/subnetworks/default"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.google"
                },
                "data.template_file.nat-startup-script": {
                    "type": "template_file",
                    "depends_on": [],
                    "primary": {
                        "id": "c38e82eb1899ef6c0a604f06270fc48386491afc2a27e7edbfd260be403b9aee",
                        "attributes": {
                            "id": "c38e82eb1899ef6c0a604f06270fc48386491afc2a27e7edbfd260be403b9aee",
                            "rendered": "#!/bin/bash -xe\n\n# Enable ip forwarding and nat\nsysctl -w net.ipv4.ip_forward=1\n\necho \"checkpoint-onepanel ip forwarding enabled\"\n\n\n# Make forwarding persistent.\nsed -i= 's/^[# ]*net.ipv4.ip_forward=[[:digit:]]/net.ipv4.ip_forward=1/g' /etc/sysctl.conf\n\niptables -t nat -A POSTROUTING -o eth0 -j MASQUERADE\n\necho \"checkpoint-onepanel ip forwarding made persistent\"\n\n#add kubectl repo\nsudo apt-get update \u0026\u0026 sudo apt-get install -y apt-transport-https\ncurl -s https://packages.cloud.google.com/apt/doc/apt-key.gpg | sudo apt-key add -\necho \"deb https://apt.kubernetes.io/ kubernetes-xenial main\" | sudo tee -a /etc/apt/sources.list.d/kubernetes.list\n\n\necho \"checkpoint-onepanel added kubectl repo\"\n\nsudo apt-get update\n\n\necho \"checkpoint-onepanel apt-get update complete\"\n\n#install kubectl for proxy\nsudo apt-get install -y kubectl\n\necho \"checkpoint-onepanel kubectl installed\"\n\n\n# Install nginx for instance http health check\napt-get install -y nginx\n\n\necho \"checkpoint-onepanel nginx for health check installed\"\n\nENABLE_SQUID=\"false\"\n\nif [[ \"$$ENABLE_SQUID\" == \"true\" ]]; then\n  apt-get install -y squid3\n\n  cat - \u003e /etc/squid/squid.conf \u003c\u003c'EOM'\nshutdown_lifetime 3 seconds\n\nhttp_access allow all\n\nhttp_port 3128\nhttp_port 3129 transparent\n\n# Anonymous proxy settings\nvia off\nforwarded_for off\n\nrequest_header_access Allow allow all \nrequest_header_access Authorization allow all \nrequest_header_access WWW-Authenticate allow all \nrequest_header_access Proxy-Authorization allow all \nrequest_header_access Proxy-Authenticate allow all \nrequest_header_access Cache-Control allow all \nrequest_header_access Content-Encoding allow all \nrequest_header_access Content-Length allow all \nrequest_header_access Content-Type allow all \nrequest_header_access Date allow all \nrequest_header_access Expires allow all \nrequest_header_access Host allow all \nrequest_header_access If-Modified-Since allow all \nrequest_header_access Last-Modified allow all \nrequest_header_access Location allow all \nrequest_header_access Pragma allow all \nrequest_header_access Accept allow all \nrequest_header_access Accept-Charset allow all \nrequest_header_access Accept-Encoding allow all \nrequest_header_access Accept-Language allow all \nrequest_header_access Content-Language allow all \nrequest_header_access Mime-Version allow all \nrequest_header_access Retry-After allow all \nrequest_header_access Title allow all \nrequest_header_access Connection allow all \nrequest_header_access Proxy-Connection allow all \nrequest_header_access User-Agent allow all \nrequest_header_access Cookie allow all \nrequest_header_access All deny all\nEOM\n\n  systemctl reload squid\nfi\n\n#transfer master pem filename\ntouch ~/master.pem\ncat - \u003e ~/master.pem \u003c\u003c'EOM'\n-----BEGIN RSA PRIVATE KEY-----\nMIIEpAIBAAKCAQEArvTXx2E04qCrpnh7l1zDi9UINLsg0XbS2W3g614/zvl1D8ja\nYB3IL7UA2xHnnp74K7tqZKiqo6d6JAoGJMy3sFeSxtlK5MTYEJiRwEZihznrk0Dj\naXsEI/H1hg/Ercuz8rvoHHQPakC5AOGRdNzDkV7PpR8sG3rnBG8jysohg0xwfVu4\ngPY3rCPl42GFfBEq0I7eQpMWDDJ1XE2GZXkrs53fdDI0epQzcaal1tKdb4jav+jV\ndIYihYsvbXzpPHW7XVITKdVMi1Sdn4O6wTtH+bYy/B22gIYs3za/zvlvxIuZW1xc\nL7b5N/W8eUKaI2n7wmgZXPg49POQHvVwtVpVAwIDAQABAoIBAQCs9Eh3xmW0f+cQ\nW1y6Zi69hixljHPF/jQ0U4Ycx4BGyJ5rq0AN8oMaflHJPyr8yORGvzBPL9n4jLCW\n/f3S1TnlrrzfrKF4BAwgY+L589qlGaIDYQsvFDgknKX+EIp60LwkgpPTxPwUKsV4\n1ISpxS/j/plA/87nn5jO7luwth9pHj4vjd9rRFAKaxRG0Fxodih4LcT/jR4w3Bnp\ntgbiLXWX/kWbT21YY/Bxtc7xhepHFacAR5l7sV7kzw9UQDbzjkAvtzKfJr/ciZFy\n9cb0FxWxgyAjCXTPBRGWRYFWujh0kz60ArsGIOBPacXDrhhEPfFMCF0ihbF8Lu67\n1asMZxQBAoGBAM7SAPWZUe2kh45JnmVoMbEuUs0pIpr011Xy7H8FGjXGdUfO3eZO\ncqYd8nMSAwLVEsy+VTb+Y/+E5BdFA0cxFDtN84cIpU4h5igTTfAVmpToKcj0WbKO\n9M3G1C2UIwNBpruXEM5LAE2ZT8HtQJmbyvIr/b+FPmmbnum4W6XOog4BAoGBANiP\nJzEMwyoOVOLXQWdRfCwqPcDbWLHBUBZaD0SRMnj+LYV3j1xMpWY/uHqjwgoduStI\nTPDpEY7pMH4ELeVAPfVUgnPXx9myunr7lWuLcX8uIz2qznGb8v4bRvDHO6Fv8rwQ\nbuI5lxnQxIjEqefVBksnRYHg+gxJv6SFVU6lGisDAoGBAKozXoC/PRIRfVDWOtj/\nJy3FjnSx7n2REojz0jYxz8EDYk7G6gv28RjNulGCOCIjkUYXOG96aHbGOSMBM1Jq\nDFlFrCyrK8ah1ROT12bFkKIMcR6kIBD23nVdtA0SRMIQTBNCnZz3UfeKPH2+LpR7\nBkfHdhofoB4u6Fc01Y8c/nYBAoGAcad3vyNejgTlggPMvIekbp1guYWk3+1/tatg\nVfEKFzv28hQUdjF3oNkSXbLyFFMTKmcQkmMPpvw1Sf2xhJ6ZpdbLfDakGVnWytKc\n0ctmLoQtVKD/JdrdxYTVT2qQniJdt1u8hhgJeC/75XepYBWJ7wlWTlqfgLF31cVw\nRw0ZVbcCgYAvE4eFklgfaxIG9sHfVTpGNhNueePxTpAjSrvGW4gy7t4+AP3BKYDJ\nFC5GqaQP017/5s87enRojTosuo6L6S2qxHBPZeVYf+NIu1HyWTHMfVn+1fw6/NrG\nT6IfVYAqv8OibTkgciEfs1PpJELze6tLYaILLg28UYZswGbgKD9wqQ==\n-----END RSA PRIVATE KEY-----\n\nEOM\n\necho \"checkpoint-onepanel master.pem added\"\n\nchmod 400 ~/master.pem\n\nsleep 150\n\nmkdir ~/.ssh\n\nssh-keyscan -H \"10.138.0.2\" \u003e\u003e ~/.ssh/known_hosts\n\n\necho \"checkpoint-onepanel ssh-keyscan in master\"\n\n#wait for master to be ready\nwhile :; do\n    (scp -i ~/master.pem root@\"10.138.0.2\":/etc/kubernetes/admin.conf ~/ \u0026\u003e /dev/null) \u0026\u0026 break\n    sleep 2\ndone\n\necho \"checkpoint-onepanel admin.conf copied to nat\"\n\nexport KUBECONFIG=~/admin.conf\n\n\necho \"checkpoint-onepanel KUBECONFIG Set\"\n\n# setup kube proxy\nkubectl proxy --address='0.0.0.0' --port=8080 --accept-hosts='.*' \u0026\n\necho \"checkpoint-onepanel kube proxy enabled\"\n",
                            "template": "#!/bin/bash -xe\n\n# Enable ip forwarding and nat\nsysctl -w net.ipv4.ip_forward=1\n\necho \"checkpoint-onepanel ip forwarding enabled\"\n\n\n# Make forwarding persistent.\nsed -i= 's/^[# ]*net.ipv4.ip_forward=[[:digit:]]/net.ipv4.ip_forward=1/g' /etc/sysctl.conf\n\niptables -t nat -A POSTROUTING -o eth0 -j MASQUERADE\n\necho \"checkpoint-onepanel ip forwarding made persistent\"\n\n#add kubectl repo\nsudo apt-get update \u0026\u0026 sudo apt-get install -y apt-transport-https\ncurl -s https://packages.cloud.google.com/apt/doc/apt-key.gpg | sudo apt-key add -\necho \"deb https://apt.kubernetes.io/ kubernetes-xenial main\" | sudo tee -a /etc/apt/sources.list.d/kubernetes.list\n\n\necho \"checkpoint-onepanel added kubectl repo\"\n\nsudo apt-get update\n\n\necho \"checkpoint-onepanel apt-get update complete\"\n\n#install kubectl for proxy\nsudo apt-get install -y kubectl\n\necho \"checkpoint-onepanel kubectl installed\"\n\n\n# Install nginx for instance http health check\napt-get install -y nginx\n\n\necho \"checkpoint-onepanel nginx for health check installed\"\n\nENABLE_SQUID=\"${squid_enabled}\"\n\nif [[ \"$$ENABLE_SQUID\" == \"true\" ]]; then\n  apt-get install -y squid3\n\n  cat - \u003e /etc/squid/squid.conf \u003c\u003c'EOM'\n${file(\"${squid_config == \"\" ? \"${format(\"%s/config/squid.conf\", module_path)}\" : squid_config}\")}\nEOM\n\n  systemctl reload squid\nfi\n\n#transfer master pem filename\ntouch ~/master.pem\ncat - \u003e ~/master.pem \u003c\u003c'EOM'\n${file(\"${master_pem_path}\")}\nEOM\n\necho \"checkpoint-onepanel master.pem added\"\n\nchmod 400 ~/master.pem\n\nsleep 150\n\nmkdir ~/.ssh\n\nssh-keyscan -H \"${master_ip}\" \u003e\u003e ~/.ssh/known_hosts\n\n\necho \"checkpoint-onepanel ssh-keyscan in master\"\n\n#wait for master to be ready\nwhile :; do\n    (scp -i ~/master.pem root@\"${master_ip}\":/etc/kubernetes/admin.conf ~/ \u0026\u003e /dev/null) \u0026\u0026 break\n    sleep 2\ndone\n\necho \"checkpoint-onepanel admin.conf copied to nat\"\n\nexport KUBECONFIG=~/admin.conf\n\n\necho \"checkpoint-onepanel KUBECONFIG Set\"\n\n# setup kube proxy\nkubectl proxy --address='0.0.0.0' --port=8080 --accept-hosts='.*' \u0026\n\necho \"checkpoint-onepanel kube proxy enabled\"\n",
                            "vars.%": "5",
                            "vars.master_ip": "10.138.0.2",
                            "vars.master_pem_path": "/home/nikhilk/Onepanel/terraform-k8s-gce/.terraform/modules/aedfbee6f53078b3d82331958046eff6/keys/master-pkey-k8s-master-1-59c742cd.pem",
                            "vars.module_path": "/home/nikhilk/Onepanel/terraform-k8s-gce/.terraform/modules/e340b3648b8f508b1c2fc938da1c7d74",
                            "vars.squid_config": "",
                            "vars.squid_enabled": "false"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.template"
                },
                "google_compute_address.default": {
                    "type": "google_compute_address",
                    "depends_on": [
                        "local.zonal_tag"
                    ],
                    "primary": {
                        "id": "searce-playground/us-west1/nat-nkv21-us-west1-b",
                        "attributes": {
                            "address": "34.83.19.181",
                            "address_type": "EXTERNAL",
                            "creation_timestamp": "2019-05-21T06:35:40.234-07:00",
                            "description": "",
                            "id": "searce-playground/us-west1/nat-nkv21-us-west1-b",
                            "name": "nat-nkv21-us-west1-b",
                            "network_tier": "PREMIUM",
                            "project": "searce-playground",
                            "region": "us-west1",
                            "self_link": "https://www.googleapis.com/compute/v1/projects/searce-playground/regions/us-west1/addresses/nat-nkv21-us-west1-b",
                            "subnetwork": "",
                            "users.#": "0"
                        },
                        "meta": {
                            "e2bfb730-ecaa-11e6-8f88-34363bc7c4c0": {
                                "create": 240000000000,
                                "delete": 240000000000
                            }
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.google"
                },
                "google_compute_firewall.nat-gateway": {
                    "type": "google_compute_firewall",
                    "depends_on": [
                        "local.instance_tags",
                        "local.regional_tag",
                        "local.zonal_tag"
                    ],
                    "primary": {
                        "id": "nat-nkv21-us-west1-b",
                        "attributes": {
                            "allow.#": "1",
                            "allow.1870923232.ports.#": "0",
                            "allow.1870923232.protocol": "all",
                            "creation_timestamp": "2019-05-21T06:35:40.282-07:00",
                            "deny.#": "0",
                            "description": "",
                            "destination_ranges.#": "0",
                            "direction": "INGRESS",
                            "disabled": "false",
                            "id": "nat-nkv21-us-west1-b",
                            "name": "nat-nkv21-us-west1-b",
                            "network": "https://www.googleapis.com/compute/v1/projects/searce-playground/global/networks/default",
                            "priority": "1000",
                            "project": "searce-playground",
                            "self_link": "https://www.googleapis.com/compute/v1/projects/searce-playground/global/firewalls/nat-nkv21-us-west1-b",
                            "source_ranges.#": "0",
                            "source_service_accounts.#": "0",
                            "source_tags.#": "2",
                            "source_tags.2135205575": "nat-nkv21-us-west1-b",
                            "source_tags.784491026": "nat-us-west1",
                            "target_service_accounts.#": "0",
                            "target_tags.#": "2",
                            "target_tags.1505879663": "inst-nat-nkv21-us-west1-b",
                            "target_tags.2279103039": "inst-nat-us-west1"
                        },
                        "meta": {
                            "e2bfb730-ecaa-11e6-8f88-34363bc7c4c0": {
                                "create": 240000000000,
                                "delete": 240000000000,
                                "update": 240000000000
                            },
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.google"
                },
                "google_compute_route.nat-gateway": {
                    "type": "google_compute_route",
                    "depends_on": [
                        "data.google_compute_network.network",
                        "local.zonal_tag",
                        "local.zone",
                        "module.nat-gateway"
                    ],
                    "primary": {
                        "id": "nat-nkv21-us-west1-b",
                        "attributes": {
                            "description": "",
                            "dest_range": "0.0.0.0/0",
                            "id": "nat-nkv21-us-west1-b",
                            "name": "nat-nkv21-us-west1-b",
                            "network": "https://www.googleapis.com/compute/v1/projects/searce-playground/global/networks/default",
                            "next_hop_gateway": "",
                            "next_hop_instance": "projects/searce-playground/zones/us-west1-b/instances/k8s-nkv21-nat-g4hn",
                            "next_hop_instance_zone": "us-west1-b",
                            "next_hop_ip": "",
                            "next_hop_network": "",
                            "next_hop_vpn_tunnel": "",
                            "priority": "800",
                            "project": "searce-playground",
                            "self_link": "https://www.googleapis.com/compute/v1/projects/searce-playground/global/routes/nat-nkv21-us-west1-b",
                            "tags.#": "1",
                            "tags.2135205575": "nat-nkv21-us-west1-b"
                        },
                        "meta": {
                            "e2bfb730-ecaa-11e6-8f88-34363bc7c4c0": {
                                "create": 240000000000,
                                "delete": 240000000000
                            }
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.google"
                },
                "local_file.nat-key": {
                    "type": "local_file",
                    "depends_on": [
                        "local.name",
                        "tls_private_key.key"
                    ],
                    "primary": {
                        "id": "4ec8b30446dab597e9e5345e6e7a09b6335a8d40",
                        "attributes": {
                            "content": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCskNSqm/iPxqxm0q4S89Yy5qho5lZUwhhtlbAgVXglb5OzO8jQ2xQoF/Kg3+gpIU/0l1EFkzdGW+I9GSQ5PJG38d2MpPY+5l4njaqXH96UW4bk4HJ61XXDtlT1NCLANPIcH9ri7V4U35YPQarus9JEx3WWyoLKBwJ6GJDScqFQ/FkXl20qUh7RcaYvjiynXi6SSst3WwQJZ2Pb5VtqCDVCXRy4DZ0PkvRL9YGjuDFwOGYJl8PhM+gOHr9Zvc8CNmSIzMJ0mIeMgvwIgaexUX0kg0RjKAu2eJ3SLMNMApyqxaQUaYD6WnLqMP/whrQ72d7OI4plBrRuFrmNsyB8QDXj\n",
                            "filename": "/home/nikhilk/Onepanel/terraform-k8s-gce/.terraform/modules/e340b3648b8f508b1c2fc938da1c7d74/keys/nat-key-k8s-nkv21-nat.pub",
                            "id": "4ec8b30446dab597e9e5345e6e7a09b6335a8d40"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.local"
                },
                "local_file.nat-pkey": {
                    "type": "local_file",
                    "depends_on": [
                        "local.name",
                        "tls_private_key.key"
                    ],
                    "primary": {
                        "id": "c8d92fb9813f51d76680b5c5ed74545e689c715b",
                        "attributes": {
                            "content": "-----BEGIN RSA PRIVATE KEY-----\nMIIEpAIBAAKCAQEArJDUqpv4j8asZtKuEvPWMuaoaOZWVMIYbZWwIFV4JW+TszvI\n0NsUKBfyoN/oKSFP9JdRBZM3RlviPRkkOTyRt/HdjKT2PuZeJ42qlx/elFuG5OBy\netV1w7ZU9TQiwDTyHB/a4u1eFN+WD0Gq7rPSRMd1lsqCygcCehiQ0nKhUPxZF5dt\nKlIe0XGmL44sp14ukkrLd1sECWdj2+Vbagg1Ql0cuA2dD5L0S/WBo7gxcDhmCZfD\n4TPoDh6/Wb3PAjZkiMzCdJiHjIL8CIGnsVF9JINEYygLtnid0izDTAKcqsWkFGmA\n+lpy6jD/8Ia0O9neziOKZQa0bha5jbMgfEA14wIDAQABAoIBAQCSaJK2aXxa57HP\nz0G3fL+oEgCid4KZiM/W8eArnrg/8sl6kOeRI76XQbIuAapkcwn2OAea1ktYW464\nTcNo+FWdngxdTnxJ44PQxSYN8BEVCA6L003tn3u539F29JPjRUiAyhoY3FEtHoGf\nUhSnT1O/3QaMOCb9JzNXyc3dbzokjYBZGn7rfQTXmcmWAJj4eiYM1mLcTHie3VJH\n/wA/iT44O1ZpRvEzJob+NDhooEhcwfQY0WBSrHV7cprJO/lR6iBMFxpFRvOOLSoQ\n7dng7Rt465060xUkKt0TLMgdyTKYUoczvdxmxBbO/YFDokHP0DPtu4xhxUTDsnxv\nmmsMs+PRAoGBAMqi85BZ5L3W1H5Y+B3UEsYOTcDyPk6wYQP1klkis1xhlMqfd0GW\n21TXEPvOVTwd4wZbvjkgHi38tTezqChvARDD4/xrf3c4L/q1Jyj8mrLrAuu8Sn0E\nz4w7GU/+wkkPnzBNoWKTt1NiaV8fXg0lu6xDcyHl9ce+69JyVjxHAdxZAoGBANoC\nnKJRznQ+f3tGLJMA0tpYvF5/50YhXdi8ksF1yMKkkDZp3tr553HWDSRDzFKLavoJ\nQI2DCEEt7xx52+dmnHr7JLLOpMU4/uuC1xmvOd2tOpNXq2C4oYawmNQzctmRd5/J\nGOaszQpiL6a96CNv9jBzqXXKm056uw9kXsfcNKybAoGAAj6n4BN+2zOECxpFNV9i\nDduetOJ6GjkN+hNAWchuoDlcgpodohZfu6LeR0vT2eSi3TEq/EsEypGgGEvfMwN3\nyY3B+sveD54JugdDtcqGlDDSSXY+hQAGpJELCL3TvSd1Jf3WKddlEoFmlW0th4vB\ndnkQz3FStbHBvwURO3214ZECgYEA0HJK3ZCme9L+BRo1qGDTOl45zYkx0oY4uvCi\nyUMbL7A1CzHzGSB0wQ1PB2ujwxD2uhd6l1O/4sJOq8WAEyKzX4sdrbGTLdevNfOm\nQzKde20UYqkifZpLJwNXPR3sJEbIQAkBPB3g9pqmwSE3AhsdI3qTfsK3+DO1A6SO\nUz4jRx0CgYBj3tMDXO6+oZfGiLmRwHnNS05EKRD+qo/D5UZ8oVXCcZW6N3IbjDg1\nhQb3zg/S9ikgFoSyj/OtUx0ZgBtt/kJpN9+k4CmaScVdRypeD0KtbIYokI8S6nmC\nPvnY/J4O7E4LQiWhr/6BLItcjavMV7gzbj4UhBKGU8gUAEGMoVNcBQ==\n-----END RSA PRIVATE KEY-----\n",
                            "filename": "/home/nikhilk/Onepanel/terraform-k8s-gce/.terraform/modules/e340b3648b8f508b1c2fc938da1c7d74/keys/nat-pkey-k8s-nkv21-nat.pem",
                            "id": "c8d92fb9813f51d76680b5c5ed74545e689c715b"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.local"
                },
                "tls_private_key.key": {
                    "type": "tls_private_key",
                    "depends_on": [],
                    "primary": {
                        "id": "c93d5a3f0f5b2f4a674f32bae51367861ce0743e",
                        "attributes": {
                            "algorithm": "RSA",
                            "ecdsa_curve": "P224",
                            "id": "c93d5a3f0f5b2f4a674f32bae51367861ce0743e",
                            "private_key_pem": "-----BEGIN RSA PRIVATE KEY-----\nMIIEpAIBAAKCAQEArJDUqpv4j8asZtKuEvPWMuaoaOZWVMIYbZWwIFV4JW+TszvI\n0NsUKBfyoN/oKSFP9JdRBZM3RlviPRkkOTyRt/HdjKT2PuZeJ42qlx/elFuG5OBy\netV1w7ZU9TQiwDTyHB/a4u1eFN+WD0Gq7rPSRMd1lsqCygcCehiQ0nKhUPxZF5dt\nKlIe0XGmL44sp14ukkrLd1sECWdj2+Vbagg1Ql0cuA2dD5L0S/WBo7gxcDhmCZfD\n4TPoDh6/Wb3PAjZkiMzCdJiHjIL8CIGnsVF9JINEYygLtnid0izDTAKcqsWkFGmA\n+lpy6jD/8Ia0O9neziOKZQa0bha5jbMgfEA14wIDAQABAoIBAQCSaJK2aXxa57HP\nz0G3fL+oEgCid4KZiM/W8eArnrg/8sl6kOeRI76XQbIuAapkcwn2OAea1ktYW464\nTcNo+FWdngxdTnxJ44PQxSYN8BEVCA6L003tn3u539F29JPjRUiAyhoY3FEtHoGf\nUhSnT1O/3QaMOCb9JzNXyc3dbzokjYBZGn7rfQTXmcmWAJj4eiYM1mLcTHie3VJH\n/wA/iT44O1ZpRvEzJob+NDhooEhcwfQY0WBSrHV7cprJO/lR6iBMFxpFRvOOLSoQ\n7dng7Rt465060xUkKt0TLMgdyTKYUoczvdxmxBbO/YFDokHP0DPtu4xhxUTDsnxv\nmmsMs+PRAoGBAMqi85BZ5L3W1H5Y+B3UEsYOTcDyPk6wYQP1klkis1xhlMqfd0GW\n21TXEPvOVTwd4wZbvjkgHi38tTezqChvARDD4/xrf3c4L/q1Jyj8mrLrAuu8Sn0E\nz4w7GU/+wkkPnzBNoWKTt1NiaV8fXg0lu6xDcyHl9ce+69JyVjxHAdxZAoGBANoC\nnKJRznQ+f3tGLJMA0tpYvF5/50YhXdi8ksF1yMKkkDZp3tr553HWDSRDzFKLavoJ\nQI2DCEEt7xx52+dmnHr7JLLOpMU4/uuC1xmvOd2tOpNXq2C4oYawmNQzctmRd5/J\nGOaszQpiL6a96CNv9jBzqXXKm056uw9kXsfcNKybAoGAAj6n4BN+2zOECxpFNV9i\nDduetOJ6GjkN+hNAWchuoDlcgpodohZfu6LeR0vT2eSi3TEq/EsEypGgGEvfMwN3\nyY3B+sveD54JugdDtcqGlDDSSXY+hQAGpJELCL3TvSd1Jf3WKddlEoFmlW0th4vB\ndnkQz3FStbHBvwURO3214ZECgYEA0HJK3ZCme9L+BRo1qGDTOl45zYkx0oY4uvCi\nyUMbL7A1CzHzGSB0wQ1PB2ujwxD2uhd6l1O/4sJOq8WAEyKzX4sdrbGTLdevNfOm\nQzKde20UYqkifZpLJwNXPR3sJEbIQAkBPB3g9pqmwSE3AhsdI3qTfsK3+DO1A6SO\nUz4jRx0CgYBj3tMDXO6+oZfGiLmRwHnNS05EKRD+qo/D5UZ8oVXCcZW6N3IbjDg1\nhQb3zg/S9ikgFoSyj/OtUx0ZgBtt/kJpN9+k4CmaScVdRypeD0KtbIYokI8S6nmC\nPvnY/J4O7E4LQiWhr/6BLItcjavMV7gzbj4UhBKGU8gUAEGMoVNcBQ==\n-----END RSA PRIVATE KEY-----\n",
                            "public_key_fingerprint_md5": "50:4b:39:b5:7c:5a:b1:8c:ed:d4:b5:fc:45:e2:9b:3d",
                            "public_key_openssh": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCskNSqm/iPxqxm0q4S89Yy5qho5lZUwhhtlbAgVXglb5OzO8jQ2xQoF/Kg3+gpIU/0l1EFkzdGW+I9GSQ5PJG38d2MpPY+5l4njaqXH96UW4bk4HJ61XXDtlT1NCLANPIcH9ri7V4U35YPQarus9JEx3WWyoLKBwJ6GJDScqFQ/FkXl20qUh7RcaYvjiynXi6SSst3WwQJZ2Pb5VtqCDVCXRy4DZ0PkvRL9YGjuDFwOGYJl8PhM+gOHr9Zvc8CNmSIzMJ0mIeMgvwIgaexUX0kg0RjKAu2eJ3SLMNMApyqxaQUaYD6WnLqMP/whrQ72d7OI4plBrRuFrmNsyB8QDXj\n",
                            "public_key_pem": "-----BEGIN PUBLIC KEY-----\nMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEArJDUqpv4j8asZtKuEvPW\nMuaoaOZWVMIYbZWwIFV4JW+TszvI0NsUKBfyoN/oKSFP9JdRBZM3RlviPRkkOTyR\nt/HdjKT2PuZeJ42qlx/elFuG5OByetV1w7ZU9TQiwDTyHB/a4u1eFN+WD0Gq7rPS\nRMd1lsqCygcCehiQ0nKhUPxZF5dtKlIe0XGmL44sp14ukkrLd1sECWdj2+Vbagg1\nQl0cuA2dD5L0S/WBo7gxcDhmCZfD4TPoDh6/Wb3PAjZkiMzCdJiHjIL8CIGnsVF9\nJINEYygLtnid0izDTAKcqsWkFGmA+lpy6jD/8Ia0O9neziOKZQa0bha5jbMgfEA1\n4wIDAQAB\n-----END PUBLIC KEY-----\n",
                            "rsa_bits": "2048"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.tls"
                }
            },
            "depends_on": []
        },
        {
            "path": [
                "root",
                "prometheus"
            ],
            "outputs": {},
            "resources": {
                "k8s_manifest.monitoring_namespace": {
                    "type": "k8s_manifest",
                    "depends_on": [],
                    "primary": {
                        "id": "Namespace//monitoring",
                        "attributes": {
                            "content": "apiVersion: v1\nkind: Namespace\nmetadata:\n  name: monitoring\n",
                            "id": "Namespace//monitoring",
                            "kind": "Namespace",
                            "name": "monitoring",
                            "status": "/home/nikhilk/Onepanel/terraform-k8s-gce/generated/kubeconfig"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.k8s"
                },
                "k8s_manifest.prometheus_ConfigMap": {
                    "type": "k8s_manifest",
                    "depends_on": [
                        "k8s_manifest.monitoring_namespace",
                        "k8s_manifest.prometheus_crb"
                    ],
                    "primary": {
                        "id": "ConfigMap/monitoring/prometheus-server-conf",
                        "attributes": {
                            "content": "apiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: prometheus-server-conf\n  labels:\n    name: prometheus-server-conf\n  namespace: monitoring\ndata:\n  prometheus.yml: |-\n    global:\n      scrape_interval: 5s\n      evaluation_interval: 5s\n\n    scrape_configs:\n      - job_name: 'kubernetes-apiservers'\n        kubernetes_sd_configs:\n        - role: endpoints\n        scheme: https\n        tls_config:\n          ca_file: /var/run/secrets/kubernetes.io/serviceaccount/ca.crt\n        bearer_token_file: /var/run/secrets/kubernetes.io/serviceaccount/token\n        relabel_configs:\n        - source_labels: [__meta_kubernetes_namespace, __meta_kubernetes_service_name, __meta_kubernetes_endpoint_port_name]\n          action: keep\n          regex: default;kubernetes;https\n\n      - job_name: 'kubernetes-nodes'\n        scheme: https\n        tls_config:\n          ca_file: /var/run/secrets/kubernetes.io/serviceaccount/ca.crt\n        bearer_token_file: /var/run/secrets/kubernetes.io/serviceaccount/token\n        kubernetes_sd_configs:\n        - role: node\n        relabel_configs:\n        - action: labelmap\n          regex: __meta_kubernetes_node_label_(.+)\n        - target_label: __address__\n          replacement: kubernetes.default.svc:443\n        - source_labels: [__meta_kubernetes_node_name]\n          regex: (.+)\n          target_label: __metrics_path__\n          replacement: /api/v1/nodes/${1}/proxy/metrics\n\n      - job_name: 'kubernetes-pods'\n        kubernetes_sd_configs:\n        - role: pod\n        relabel_configs:\n        - source_labels: [__meta_kubernetes_pod_annotation_prometheus_io_scrape]\n          action: keep\n          regex: true\n        - source_labels: [__meta_kubernetes_pod_annotation_prometheus_io_path]\n          action: replace\n          target_label: __metrics_path__\n          regex: (.+)\n        - source_labels: [__address__, __meta_kubernetes_pod_annotation_prometheus_io_port]\n          action: replace\n          regex: ([^:]+)(?::\\d+)?;(\\d+)\n          replacement: $1:$2\n          target_label: __address__\n        - action: labelmap\n          regex: __meta_kubernetes_pod_label_(.+)\n        - source_labels: [__meta_kubernetes_namespace]\n          action: replace\n          target_label: kubernetes_namespace\n        - source_labels: [__meta_kubernetes_pod_name]\n          action: replace\n          target_label: kubernetes_pod_name\n\n      - job_name: 'kubernetes-cadvisor'\n        scheme: https\n        tls_config:\n          ca_file: /var/run/secrets/kubernetes.io/serviceaccount/ca.crt\n        bearer_token_file: /var/run/secrets/kubernetes.io/serviceaccount/token\n        kubernetes_sd_configs:\n        - role: node\n        relabel_configs:\n        - action: labelmap\n          regex: __meta_kubernetes_node_label_(.+)\n        - target_label: __address__\n          replacement: kubernetes.default.svc:443\n        - source_labels: [__meta_kubernetes_node_name]\n          regex: (.+)\n          target_label: __metrics_path__\n          replacement: /api/v1/nodes/${1}/proxy/metrics/cadvisor\n\n      - job_name: 'kubernetes-service-endpoints'\n        kubernetes_sd_configs:\n        - role: endpoints\n        relabel_configs:\n        - source_labels: [__meta_kubernetes_service_annotation_prometheus_io_scrape]\n          action: keep\n          regex: true\n        - source_labels: [__meta_kubernetes_service_annotation_prometheus_io_scheme]\n          action: replace\n          target_label: __scheme__\n          regex: (https?)\n        - source_labels: [__meta_kubernetes_service_annotation_prometheus_io_path]\n          action: replace\n          target_label: __metrics_path__\n          regex: (.+)\n        - source_labels: [__address__, __meta_kubernetes_service_annotation_prometheus_io_port]\n          action: replace\n          target_label: __address__\n          regex: ([^:]+)(?::\\d+)?;(\\d+)\n          replacement: $1:$2\n        - action: labelmap\n          regex: __meta_kubernetes_service_label_(.+)\n        - source_labels: [__meta_kubernetes_namespace]\n          action: replace\n          target_label: kubernetes_namespace\n        - source_labels: [__meta_kubernetes_service_name]\n          action: replace\n          target_label: kubernetes_name\n\n      \n\n      \n",
                            "id": "ConfigMap/monitoring/prometheus-server-conf",
                            "kind": "ConfigMap",
                            "name": "prometheus-server-conf",
                            "namespace": "monitoring",
                            "status": "/home/nikhilk/Onepanel/terraform-k8s-gce/generated/kubeconfig"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.k8s"
                },
                "k8s_manifest.prometheus_crb": {
                    "type": "k8s_manifest",
                    "depends_on": [
                        "k8s_manifest.monitoring_namespace",
                        "k8s_manifest.prometheus_crole"
                    ],
                    "primary": {
                        "id": "ClusterRoleBinding/monitoring/prometheus",
                        "attributes": {
                            "content": "apiVersion: rbac.authorization.k8s.io/v1beta1\nkind: ClusterRoleBinding\nmetadata:\n  name: prometheus\nroleRef:\n  apiGroup: rbac.authorization.k8s.io\n  kind: ClusterRole\n  name: prometheus\nsubjects:\n- kind: ServiceAccount\n  name: default\n  namespace: monitoring\n",
                            "id": "ClusterRoleBinding/monitoring/prometheus",
                            "kind": "ClusterRoleBinding",
                            "name": "prometheus",
                            "namespace": "monitoring",
                            "status": "/home/nikhilk/Onepanel/terraform-k8s-gce/generated/kubeconfig"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.k8s"
                },
                "k8s_manifest.prometheus_crole": {
                    "type": "k8s_manifest",
                    "depends_on": [
                        "k8s_manifest.monitoring_namespace"
                    ],
                    "primary": {
                        "id": "ClusterRole/monitoring/prometheus",
                        "attributes": {
                            "content": "apiVersion: rbac.authorization.k8s.io/v1beta1\nkind: ClusterRole\nmetadata:\n  name: prometheus\nrules:\n- apiGroups: [\"\"]\n  resources:\n  - nodes\n  - nodes/proxy\n  - services\n  - endpoints\n  - pods\n  verbs: [\"get\", \"list\", \"watch\"]\n- apiGroups:\n  - extensions\n  resources:\n  - ingresses\n  verbs: [\"get\", \"list\", \"watch\"]\n- nonResourceURLs: [\"/metrics\"]\n  verbs: [\"get\"]\n\n",
                            "id": "ClusterRole/monitoring/prometheus",
                            "kind": "ClusterRole",
                            "name": "prometheus",
                            "namespace": "monitoring",
                            "status": "/home/nikhilk/Onepanel/terraform-k8s-gce/generated/kubeconfig"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.k8s"
                },
                "k8s_manifest.prometheus_deploy": {
                    "type": "k8s_manifest",
                    "depends_on": [
                        "k8s_manifest.monitoring_namespace",
                        "k8s_manifest.prometheus_ConfigMap"
                    ],
                    "primary": {
                        "id": "Deployment/monitoring/prometheus-deployment",
                        "attributes": {
                            "content": "apiVersion: extensions/v1beta1\nkind: Deployment\nmetadata:\n  name: prometheus-deployment\n  namespace: monitoring\nspec:\n  replicas: 1\n  template:\n    metadata:\n      labels:\n        app: prometheus-server\n    spec:\n      containers:\n        - name: prometheus\n          image: prom/prometheus:v2.2.1\n          args:\n            - \"--config.file=/etc/prometheus/prometheus.yml\"\n            - \"--storage.tsdb.path=/prometheus/\"\n          ports:\n            - containerPort: 9090\n          volumeMounts:\n            - name: prometheus-config-volume\n              mountPath: /etc/prometheus/\n            - name: prometheus-storage-volume\n              mountPath: /prometheus/\n      volumes:\n        - name: prometheus-config-volume\n          configMap:\n            defaultMode: 420\n            name: prometheus-server-conf\n\n        - name: prometheus-storage-volume\n          emptyDir: {}\n\n",
                            "id": "Deployment/monitoring/prometheus-deployment",
                            "kind": "Deployment",
                            "name": "prometheus-deployment",
                            "namespace": "monitoring",
                            "status": "/home/nikhilk/Onepanel/terraform-k8s-gce/generated/kubeconfig"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.k8s"
                },
                "k8s_manifest.prometheus_svc": {
                    "type": "k8s_manifest",
                    "depends_on": [
                        "k8s_manifest.monitoring_namespace",
                        "k8s_manifest.prometheus_deploy"
                    ],
                    "primary": {
                        "id": "Service/monitoring/prometheus-service",
                        "attributes": {
                            "content": "apiVersion: v1\nkind: Service\nmetadata:\n  name: prometheus-service\n  namespace: monitoring\n  annotations:\n      prometheus.io/scrape: 'true'\n      prometheus.io/port:   '9090'\n\nspec:\n  selector:\n    app: prometheus-server\n  type: LoadBalancer\n  ports:\n    - port: 8080\n      targetPort: 9090\n      nodePort: 30000\n",
                            "id": "Service/monitoring/prometheus-service",
                            "kind": "Service",
                            "name": "prometheus-service",
                            "namespace": "monitoring",
                            "status": "/home/nikhilk/Onepanel/terraform-k8s-gce/generated/kubeconfig"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.k8s"
                }
            },
            "depends_on": []
        },
        {
            "path": [
                "root",
                "gcp-worker-core",
                "worker-mig"
            ],
            "outputs": {
                "depends_id": {
                    "sensitive": false,
                    "type": "string",
                    "value": "6879974492843759195"
                },
                "health_check": {
                    "sensitive": false,
                    "type": "string",
                    "value": ""
                },
                "instance_group": {
                    "sensitive": false,
                    "type": "string",
                    "value": "https://www.googleapis.com/compute/v1/projects/searce-playground/zones/us-west1-b/instanceGroups/k8s-nkv21-gcp-worker-core"
                },
                "instance_template": {
                    "sensitive": false,
                    "type": "list",
                    "value": [
                        "https://www.googleapis.com/compute/beta/projects/searce-playground/global/instanceTemplates/nkv21-gcp-worker-core-20190521133729884900000003"
                    ]
                },
                "instances": {
                    "sensitive": false,
                    "type": "list",
                    "value": [
                        []
                    ]
                },
                "name": {
                    "sensitive": false,
                    "type": "string",
                    "value": "k8s-nkv21-gcp-worker-core"
                },
                "network_ip": {
                    "sensitive": false,
                    "type": "string",
                    "value": ""
                },
                "region_depends_id": {
                    "sensitive": false,
                    "type": "string",
                    "value": ""
                },
                "region_instance_group": {
                    "sensitive": false,
                    "type": "string",
                    "value": ""
                },
                "service_port": {
                    "sensitive": false,
                    "type": "string",
                    "value": "80"
                },
                "service_port_name": {
                    "sensitive": false,
                    "type": "string",
                    "value": "http"
                },
                "target_tags": {
                    "sensitive": false,
                    "type": "list",
                    "value": [
                        "k8s-nkv21-gcp-worker-core",
                        "nat-nkv21-us-west1-b"
                    ]
                }
            },
            "resources": {
                "data.google_compute_instance_group.zonal": {
                    "type": "google_compute_instance_group",
                    "depends_on": [
                        "google_compute_instance_group_manager.default.*",
                        "local.dependency_id"
                    ],
                    "primary": {
                        "id": "us-west1-b/k8s-nkv21-gcp-worker-core",
                        "attributes": {
                            "description": "This instance group is controlled by Instance Group Manager 'k8s-nkv21-gcp-worker-core'. To modify instances in this group, use the Instance Group Manager API: https://cloud.google.com/compute/docs/reference/latest/instanceGroupManagers",
                            "id": "us-west1-b/k8s-nkv21-gcp-worker-core",
                            "instances.#": "0",
                            "name": "k8s-nkv21-gcp-worker-core",
                            "named_port.#": "1",
                            "named_port.0.name": "http",
                            "named_port.0.port": "80",
                            "network": "https://www.googleapis.com/compute/v1/projects/searce-playground/global/networks/default",
                            "project": "searce-playground",
                            "self_link": "https://www.googleapis.com/compute/v1/projects/searce-playground/zones/us-west1-b/instanceGroups/k8s-nkv21-gcp-worker-core",
                            "size": "0",
                            "zone": "us-west1-b"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.google-beta"
                },
                "data.google_compute_zones.available": {
                    "type": "google_compute_zones",
                    "depends_on": [],
                    "primary": {
                        "id": "2019-05-21 13:35:37.072944239 +0000 UTC",
                        "attributes": {
                            "id": "2019-05-21 13:35:37.072944239 +0000 UTC",
                            "names.#": "3",
                            "names.0": "us-west1-a",
                            "names.1": "us-west1-b",
                            "names.2": "us-west1-c",
                            "project": "searce-playground",
                            "region": "us-west1"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.google"
                },
                "google_compute_firewall.default-ssh": {
                    "type": "google_compute_firewall",
                    "depends_on": [],
                    "primary": {
                        "id": "k8s-nkv21-gcp-worker-core-vm-ssh",
                        "attributes": {
                            "allow.#": "1",
                            "allow.2196066154.ports.#": "2",
                            "allow.2196066154.ports.0": "22",
                            "allow.2196066154.ports.1": "8080",
                            "allow.2196066154.protocol": "tcp",
                            "creation_timestamp": "2019-05-21T06:35:39.970-07:00",
                            "deny.#": "0",
                            "description": "",
                            "destination_ranges.#": "0",
                            "direction": "INGRESS",
                            "disabled": "false",
                            "id": "k8s-nkv21-gcp-worker-core-vm-ssh",
                            "name": "k8s-nkv21-gcp-worker-core-vm-ssh",
                            "network": "https://www.googleapis.com/compute/v1/projects/searce-playground/global/networks/default",
                            "priority": "1000",
                            "project": "searce-playground",
                            "self_link": "https://www.googleapis.com/compute/v1/projects/searce-playground/global/firewalls/k8s-nkv21-gcp-worker-core-vm-ssh",
                            "source_ranges.#": "4",
                            "source_ranges.29690369": "173.194.0.0/16",
                            "source_ranges.309538859": "108.177.8.0/21",
                            "source_ranges.3551848266": "74.125.0.0/16",
                            "source_ranges.636545647": "72.14.192.0/18",
                            "source_service_accounts.#": "0",
                            "source_tags.#": "0",
                            "target_service_accounts.#": "0",
                            "target_tags.#": "1",
                            "target_tags.2542268873": "allow-ssh"
                        },
                        "meta": {
                            "e2bfb730-ecaa-11e6-8f88-34363bc7c4c0": {
                                "create": 240000000000,
                                "delete": 240000000000,
                                "update": 240000000000
                            },
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.google"
                },
                "google_compute_instance_group_manager.default": {
                    "type": "google_compute_instance_group_manager",
                    "depends_on": [
                        "google_compute_instance_template.default"
                    ],
                    "primary": {
                        "id": "searce-playground/us-west1-b/k8s-nkv21-gcp-worker-core",
                        "attributes": {
                            "auto_healing_policies.#": "0",
                            "base_instance_name": "k8s-nkv21-gcp-worker-core",
                            "description": "compute VM Instance Group",
                            "fingerprint": "Qp8EZnmJw3A=",
                            "id": "searce-playground/us-west1-b/k8s-nkv21-gcp-worker-core",
                            "instance_group": "https://www.googleapis.com/compute/v1/projects/searce-playground/zones/us-west1-b/instanceGroups/k8s-nkv21-gcp-worker-core",
                            "name": "k8s-nkv21-gcp-worker-core",
                            "named_port.#": "1",
                            "named_port.1915903613.name": "http",
                            "named_port.1915903613.port": "80",
                            "project": "searce-playground",
                            "self_link": "https://www.googleapis.com/compute/v1/projects/searce-playground/zones/us-west1-b/instanceGroupManagers/k8s-nkv21-gcp-worker-core",
                            "target_pools.#": "0",
                            "target_size": "1",
                            "update_policy.#": "1",
                            "update_policy.0.max_surge_fixed": "0",
                            "update_policy.0.max_surge_percent": "20",
                            "update_policy.0.max_unavailable_fixed": "2",
                            "update_policy.0.max_unavailable_percent": "0",
                            "update_policy.0.min_ready_sec": "50",
                            "update_policy.0.minimal_action": "REPLACE",
                            "update_policy.0.type": "OPPORTUNISTIC",
                            "version.#": "1",
                            "version.0.instance_template": "https://www.googleapis.com/compute/v1/projects/searce-playground/global/instanceTemplates/nkv21-gcp-worker-core-20190521133729884900000003",
                            "version.0.name": "test",
                            "version.0.target_size.#": "0",
                            "wait_for_instances": "false",
                            "zone": "us-west1-b"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.google-beta"
                },
                "google_compute_instance_template.default": {
                    "type": "google_compute_instance_template",
                    "depends_on": [],
                    "primary": {
                        "id": "nkv21-gcp-worker-core-20190521133729884900000003",
                        "attributes": {
                            "can_ip_forward": "true",
                            "description": "",
                            "disk.#": "1",
                            "disk.0.auto_delete": "true",
                            "disk.0.boot": "true",
                            "disk.0.device_name": "persistent-disk-0",
                            "disk.0.disk_encryption_key.#": "0",
                            "disk.0.disk_name": "",
                            "disk.0.disk_size_gb": "30",
                            "disk.0.disk_type": "pd-ssd",
                            "disk.0.interface": "SCSI",
                            "disk.0.mode": "READ_WRITE",
                            "disk.0.source": "",
                            "disk.0.source_image": "projects/ubuntu-os-cloud/global/images/ubuntu-1604-xenial-v20190112",
                            "disk.0.type": "PERSISTENT",
                            "guest_accelerator.#": "1",
                            "guest_accelerator.0.count": "0",
                            "guest_accelerator.0.type": "",
                            "id": "nkv21-gcp-worker-core-20190521133729884900000003",
                            "instance_description": "",
                            "labels.%": "1",
                            "labels.ig": "k8s-nkv21-gcp-worker-core-worker",
                            "machine_type": "n1-standard-4",
                            "metadata.%": "6",
                            "metadata.kube-env": "NODE_LABELS: kubernetes.io/role=core,onepanel.io/machine-type=cpu",
                            "metadata.shutdown-script": "#!/bin/bash\n# Shutdown script to remove node from the cluster.\n\nnode=$(hostname)\ncfg=\"--kubeconfig /etc/kubernetes/kubelet.conf\"\n\n# Drain and delete the node.\nkubectl $cfg drain $node --delete-local-data --force --ignore-daemonsets\nkubectl $cfg delete node $node\n\nkubeadm reset",
                            "metadata.startup-script": "",
                            "metadata.tf_depends_id": "8649587466520705924,4399118748694105281,132221667398456715",
                            "metadata.user-data": "H4sIAAAAAAAA/7xX4W4jtxH+T8DvMN07IG1SciXZ8Sm+bADfWQ6K3J0D2WlauIbBJUcrWlxyS3J1UtO8e7HcXUuyZd8VaO+XvJyZb4Yzw2/Gb60JaAK9Wld4AmWtg6q4C2mpVihfQ25rI7lbZ8n7v7yfvLn45cPZ6fTvCWm+6F/ReWXNCQzZ4IAcEEq3lQ5Ij32mfGW9ClGXh8DFvEQTXsNMaTS8xCzxwqkq+LRCR5XxgRuB6XBAF2NPhXXI/DzZAF45bvwMHZ0YYaUyxQm8ylXYUoi3CbgK6Yr6OWrdOjgg71WJjwJ/8Yc0VybNuZ8DXSEhonYaKHUY3Bq+BTrzl+9gHkLlT9JU2o9GWy6ZtGKBjglbplqZepXWeW1CnRZVAf8GXgW6wDVwKYF2iDs4FRcLXqBnQttassLaQmNE41VIpRVpB8H2ARLBA3z//eTiHH6AFEPUTr2tnUDPtPKByXRR5+gMhu6ESMyj+5O00WZbYmVT2HzSFRrFNZRcGTK5OCfE19I2nmkThcNYT+vW8A8CAEmDe82dmGe8lMdHN5+dq9b+5R+1z28dauQegQr/p/bcB55rTAhBMbeQiDmKRWWVCdQarLhBDVuhcClRJn2oVaAFBnBY2iWC9/Oi5k4CXe+VU8rrYOke7Wd8ez+nrV5tYtNq/TiAupI84HMwu5oNgMHw0brFbaXrQpmsqYvBQNQMriERXCthE8iyzd83ryHM0RCAB6bCKDJTz3nvDKA1AI8BggVhVELICzhztgJlQFgzUwXMrIMuGuBGQuxcqJxdKomOlAupHNCq7Ue/9gFL2f3GXtQYmEe3VAKZjB38w+fppqMBLUTjlzWhtI1Pri9b+Q2ZmKVy1jS0kiU//fJm8m5ydfthcvXrxfSn29Ppj5cZpd1NaZeal7/t5up3oFQYRRt8KpXLYmDCqLTxKjtprkwrtFWIwlyZZL/7sw+XvWuhax/QUWl8Nhyw747ZgA0HsCWwzVPLuk+mreD6CdjJ366mpxtgW0vaFyArBCbte3264DuZLAClaptut3gbLuiI5qvJxflXfbk20rQQGEtCrgttc65vSBwi/7IGIYPgaiTGSqSBFx4yaAjdLJajIS1ERZv0o4sM32r13E8rhzO1et6gr6ezdygCVRIy8MhdY675unDN8LpXawYNZCBxxmsdiK/zJyQxgeJRHu5v2gru7/1MqguB8eV0z6d2MdEv4hPisoQhG0MTAY+RxtfVE2ehwrzOI19uhdBRZKq8r9GnR4PjJ8uWVgv16Vvs6m9d6kWM5sd3b96SYGsxh3TJXaptkRY6F0zb4gHPdQQItJ0Jd/+MP6ZQZhX/agcAFZgNX7HBIRt9/XU83xo6wqhswI7ZYCPRGLIhGw7ZeHPGZfnoTAS9dfZMSdoweuz7SnQYsE3jW/TUWqWSY2kNu/PWdAz0GwFIfLCOF0ilU0t0yQkkdolO8/UoIb9/6jl2Ae1i9DS8wWmJsQnRoQ/chc6QfA52y5K9ZbxcU91Zw+xPZOI1SEsACl8HpUFUUDRduVWsvhX732Wb/rhItRM+rgLpyxmktXfx/OWMAIh5aSV8s9o5ltbcz8g9RAd7me6+Ou3D7afGfwkDlEbq0TxH7bPdnchZjVnDNn/uk9qcllzMlUEa1hVmoqo/EcnesWslQutys7jc17httCbHlsv/w2Y9GsQ7f9mtuu+wO6sMUBrsAk12/N14zMdsJI7w28PBq9HxEZdjMQRKpfKi6f91q0lr4/kMqV+oigpOl+jUTAne3B2GAzY8HLMBG50cHx0d/u8yllsbmv9DVBVXUf/FMhaXr/b5Dtnw8Jt+Onk4v5j+Oj1r2OFsevEzg1Ot7cdm/QORuwEoE9DNuEBG+qCBnkar0+kZUNWq0Ts4fft28vPVfi37QOthQik9IP8JAAD//39wCj07DgAA",
                            "metadata.user-data-encoding": "base64",
                            "metadata_fingerprint": "eOy-3ZOb11E=",
                            "min_cpu_platform": "",
                            "name": "nkv21-gcp-worker-core-20190521133729884900000003",
                            "name_prefix": "nkv21-gcp-worker-core-",
                            "network_interface.#": "1",
                            "network_interface.0.access_config.#": "0",
                            "network_interface.0.address": "",
                            "network_interface.0.alias_ip_range.#": "0",
                            "network_interface.0.network": "https://www.googleapis.com/compute/v1/projects/searce-playground/global/networks/default",
                            "network_interface.0.network_ip": "",
                            "network_interface.0.subnetwork": "https://www.googleapis.com/compute/v1/projects/searce-playground/regions/us-west1/subnetworks/default",
                            "network_interface.0.subnetwork_project": "searce-playground",
                            "project": "searce-playground",
                            "region": "us-west1",
                            "scheduling.#": "1",
                            "scheduling.0.automatic_restart": "true",
                            "scheduling.0.node_affinities.#": "0",
                            "scheduling.0.on_host_maintenance": "TERMINATE",
                            "scheduling.0.preemptible": "false",
                            "self_link": "https://www.googleapis.com/compute/beta/projects/searce-playground/global/instanceTemplates/nkv21-gcp-worker-core-20190521133729884900000003",
                            "service_account.#": "1",
                            "service_account.0.email": "default",
                            "service_account.0.scopes.#": "4",
                            "service_account.0.scopes.1693978638": "https://www.googleapis.com/auth/devstorage.full_control",
                            "service_account.0.scopes.172152165": "https://www.googleapis.com/auth/logging.write",
                            "service_account.0.scopes.299962681": "https://www.googleapis.com/auth/compute",
                            "service_account.0.scopes.4177124133": "https://www.googleapis.com/auth/monitoring.write",
                            "tags.#": "3",
                            "tags.1641131579": "k8s-nkv21-gcp-worker-core",
                            "tags.2135205575": "nat-nkv21-us-west1-b",
                            "tags.2542268873": "allow-ssh",
                            "tags_fingerprint": ""
                        },
                        "meta": {
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.google"
                },
                "null_resource.dummy_dependency": {
                    "type": "null_resource",
                    "depends_on": [
                        "google_compute_instance_group_manager.default",
                        "google_compute_instance_template.default.*"
                    ],
                    "primary": {
                        "id": "6879974492843759195",
                        "attributes": {
                            "id": "6879974492843759195",
                            "triggers.%": "1",
                            "triggers.instance_template": "https://www.googleapis.com/compute/beta/projects/searce-playground/global/instanceTemplates/nkv21-gcp-worker-core-20190521133729884900000003"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.null"
                }
            },
            "depends_on": []
        },
        {
            "path": [
                "root",
                "gcp-worker-gpu",
                "worker-mig"
            ],
            "outputs": {
                "depends_id": {
                    "sensitive": false,
                    "type": "string",
                    "value": "1720950951437337390"
                },
                "health_check": {
                    "sensitive": false,
                    "type": "string",
                    "value": ""
                },
                "instance_group": {
                    "sensitive": false,
                    "type": "string",
                    "value": "https://www.googleapis.com/compute/v1/projects/searce-playground/zones/us-west1-b/instanceGroups/k8s-nkv21-gcp-worker-gpu"
                },
                "instance_template": {
                    "sensitive": false,
                    "type": "list",
                    "value": [
                        "https://www.googleapis.com/compute/beta/projects/searce-playground/global/instanceTemplates/nkv21-gcp-worker-gpu-20190521133729884900000002"
                    ]
                },
                "instances": {
                    "sensitive": false,
                    "type": "list",
                    "value": [
                        []
                    ]
                },
                "name": {
                    "sensitive": false,
                    "type": "string",
                    "value": "k8s-nkv21-gcp-worker-gpu"
                },
                "network_ip": {
                    "sensitive": false,
                    "type": "string",
                    "value": ""
                },
                "region_depends_id": {
                    "sensitive": false,
                    "type": "string",
                    "value": ""
                },
                "region_instance_group": {
                    "sensitive": false,
                    "type": "string",
                    "value": ""
                },
                "service_port": {
                    "sensitive": false,
                    "type": "string",
                    "value": "80"
                },
                "service_port_name": {
                    "sensitive": false,
                    "type": "string",
                    "value": "http"
                },
                "target_tags": {
                    "sensitive": false,
                    "type": "list",
                    "value": [
                        "k8s-nkv21-gcp-worker-gpu",
                        "nat-nkv21-us-west1-b"
                    ]
                }
            },
            "resources": {
                "data.google_compute_instance_group.zonal": {
                    "type": "google_compute_instance_group",
                    "depends_on": [
                        "google_compute_instance_group_manager.default.*",
                        "local.dependency_id"
                    ],
                    "primary": {
                        "id": "us-west1-b/k8s-nkv21-gcp-worker-gpu",
                        "attributes": {
                            "description": "This instance group is controlled by Instance Group Manager 'k8s-nkv21-gcp-worker-gpu'. To modify instances in this group, use the Instance Group Manager API: https://cloud.google.com/compute/docs/reference/latest/instanceGroupManagers",
                            "id": "us-west1-b/k8s-nkv21-gcp-worker-gpu",
                            "instances.#": "0",
                            "name": "k8s-nkv21-gcp-worker-gpu",
                            "named_port.#": "1",
                            "named_port.0.name": "http",
                            "named_port.0.port": "80",
                            "network": "https://www.googleapis.com/compute/v1/projects/searce-playground/global/networks/default",
                            "project": "searce-playground",
                            "self_link": "https://www.googleapis.com/compute/v1/projects/searce-playground/zones/us-west1-b/instanceGroups/k8s-nkv21-gcp-worker-gpu",
                            "size": "0",
                            "zone": "us-west1-b"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.google-beta"
                },
                "data.google_compute_zones.available": {
                    "type": "google_compute_zones",
                    "depends_on": [],
                    "primary": {
                        "id": "2019-05-21 13:35:37.043852721 +0000 UTC",
                        "attributes": {
                            "id": "2019-05-21 13:35:37.043852721 +0000 UTC",
                            "names.#": "3",
                            "names.0": "us-west1-a",
                            "names.1": "us-west1-b",
                            "names.2": "us-west1-c",
                            "project": "searce-playground",
                            "region": "us-west1"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.google"
                },
                "google_compute_firewall.default-ssh": {
                    "type": "google_compute_firewall",
                    "depends_on": [],
                    "primary": {
                        "id": "k8s-nkv21-gcp-worker-gpu-vm-ssh",
                        "attributes": {
                            "allow.#": "1",
                            "allow.2196066154.ports.#": "2",
                            "allow.2196066154.ports.0": "22",
                            "allow.2196066154.ports.1": "8080",
                            "allow.2196066154.protocol": "tcp",
                            "creation_timestamp": "2019-05-21T06:35:40.106-07:00",
                            "deny.#": "0",
                            "description": "",
                            "destination_ranges.#": "0",
                            "direction": "INGRESS",
                            "disabled": "false",
                            "id": "k8s-nkv21-gcp-worker-gpu-vm-ssh",
                            "name": "k8s-nkv21-gcp-worker-gpu-vm-ssh",
                            "network": "https://www.googleapis.com/compute/v1/projects/searce-playground/global/networks/default",
                            "priority": "1000",
                            "project": "searce-playground",
                            "self_link": "https://www.googleapis.com/compute/v1/projects/searce-playground/global/firewalls/k8s-nkv21-gcp-worker-gpu-vm-ssh",
                            "source_ranges.#": "4",
                            "source_ranges.29690369": "173.194.0.0/16",
                            "source_ranges.309538859": "108.177.8.0/21",
                            "source_ranges.3551848266": "74.125.0.0/16",
                            "source_ranges.636545647": "72.14.192.0/18",
                            "source_service_accounts.#": "0",
                            "source_tags.#": "0",
                            "target_service_accounts.#": "0",
                            "target_tags.#": "1",
                            "target_tags.2542268873": "allow-ssh"
                        },
                        "meta": {
                            "e2bfb730-ecaa-11e6-8f88-34363bc7c4c0": {
                                "create": 240000000000,
                                "delete": 240000000000,
                                "update": 240000000000
                            },
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.google"
                },
                "google_compute_instance_group_manager.default": {
                    "type": "google_compute_instance_group_manager",
                    "depends_on": [
                        "google_compute_instance_template.default"
                    ],
                    "primary": {
                        "id": "searce-playground/us-west1-b/k8s-nkv21-gcp-worker-gpu",
                        "attributes": {
                            "auto_healing_policies.#": "0",
                            "base_instance_name": "k8s-nkv21-gcp-worker-gpu",
                            "description": "compute VM Instance Group",
                            "fingerprint": "baOvvpXuF40=",
                            "id": "searce-playground/us-west1-b/k8s-nkv21-gcp-worker-gpu",
                            "instance_group": "https://www.googleapis.com/compute/v1/projects/searce-playground/zones/us-west1-b/instanceGroups/k8s-nkv21-gcp-worker-gpu",
                            "name": "k8s-nkv21-gcp-worker-gpu",
                            "named_port.#": "1",
                            "named_port.1915903613.name": "http",
                            "named_port.1915903613.port": "80",
                            "project": "searce-playground",
                            "self_link": "https://www.googleapis.com/compute/v1/projects/searce-playground/zones/us-west1-b/instanceGroupManagers/k8s-nkv21-gcp-worker-gpu",
                            "target_pools.#": "0",
                            "target_size": "0",
                            "update_policy.#": "1",
                            "update_policy.0.max_surge_fixed": "0",
                            "update_policy.0.max_surge_percent": "20",
                            "update_policy.0.max_unavailable_fixed": "2",
                            "update_policy.0.max_unavailable_percent": "0",
                            "update_policy.0.min_ready_sec": "50",
                            "update_policy.0.minimal_action": "REPLACE",
                            "update_policy.0.type": "OPPORTUNISTIC",
                            "version.#": "1",
                            "version.0.instance_template": "https://www.googleapis.com/compute/v1/projects/searce-playground/global/instanceTemplates/nkv21-gcp-worker-gpu-20190521133729884900000002",
                            "version.0.name": "test",
                            "version.0.target_size.#": "0",
                            "wait_for_instances": "false",
                            "zone": "us-west1-b"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.google-beta"
                },
                "google_compute_instance_template.default": {
                    "type": "google_compute_instance_template",
                    "depends_on": [],
                    "primary": {
                        "id": "nkv21-gcp-worker-gpu-20190521133729884900000002",
                        "attributes": {
                            "can_ip_forward": "true",
                            "description": "",
                            "disk.#": "1",
                            "disk.0.auto_delete": "true",
                            "disk.0.boot": "true",
                            "disk.0.device_name": "persistent-disk-0",
                            "disk.0.disk_encryption_key.#": "0",
                            "disk.0.disk_name": "",
                            "disk.0.disk_size_gb": "30",
                            "disk.0.disk_type": "pd-ssd",
                            "disk.0.interface": "SCSI",
                            "disk.0.mode": "READ_WRITE",
                            "disk.0.source": "",
                            "disk.0.source_image": "projects/ubuntu-os-cloud/global/images/ubuntu-1604-xenial-v20190112",
                            "disk.0.type": "PERSISTENT",
                            "guest_accelerator.#": "1",
                            "guest_accelerator.0.count": "1",
                            "guest_accelerator.0.type": "nvidia-tesla-k80",
                            "id": "nkv21-gcp-worker-gpu-20190521133729884900000002",
                            "instance_description": "",
                            "labels.%": "1",
                            "labels.ig": "k8s-nkv21-gcp-worker-gpu-worker",
                            "machine_type": "n1-standard-4",
                            "metadata.%": "6",
                            "metadata.kube-env": "NODE_LABELS: kubernetes.io/role=node,onepanel.io/machine-type=gpu",
                            "metadata.shutdown-script": "#!/bin/bash\n# Shutdown script to remove node from the cluster.\n\nnode=$(hostname)\ncfg=\"--kubeconfig /etc/kubernetes/kubelet.conf\"\n\n# Drain and delete the node.\nkubectl $cfg drain $node --delete-local-data --force --ignore-daemonsets\nkubectl $cfg delete node $node\n\nkubeadm reset",
                            "metadata.startup-script": "",
                            "metadata.tf_depends_id": "8649587466520705924,4399118748694105281,132221667398456715",
                            "metadata.user-data": "H4sIAAAAAAAA/7xXbW8jtxH+TsD/Ybp3QNqk5Eqy41N82QC+sxwUuTsHstO0cA2DS45WtLjkluTqpKb578Vydy3Jln1XoL1P8nKGzwzn5ZnxW2sCmkCv1hWeQFnroCruQlqqFcrXkNvaSO7WWfL+L+8nby5++XB2Ov17Qpov+ld0XllzAkM2OCAHhNJtpQPSY58pX1mvQtTlIXAxL9GE1zBTGg0vMUu8cKoKPq3QUWV84EZgOhzQxdhTYR0yP082gFeOGz9DRydGWKlMcQKvchW2FOJrAq5CuqJ+jlq3Bg7Ie1XiI8df/CHNlUlz7udAV0iIqJ0GSh0Gt4Zvgc785TuYh1D5kzSV9qPRlksmrVigY8KWqVamXqV1XptQp0VVwL+BV4EucA1cSqAd4g5OxcWCF+iZ0LaWrLC20BjReBVSaUXaQbB9gETwAN9/P7k4hx8gxRC1U29rJ9AzrXxgMl3UOTqDoTshEvNo/iRttNmWWNkUNp90hUZxDSVXhkwuzgnxtbSNZdp44TDm07o1/IMAQNLgXnMn5hkv5fHRzWfHqr3/8o/a57cONXKPQIX/U3vuA881JoSgmFtIxBzForLKBGoNVtyghi1XuJQok97VKtACAzgs7RLB+3lRcyeBrvfKKeV1sHSP9jO2vZ/TVq82sWi1fuxAXUke8DmYXc0GwGD4aN3ittJ1oUzW5MVgIGoG15AIrpWwCWTZ5u+b1xDmaAjAg6vCKDJTz1nvLkB7ATwGCBaEUQkhL+DM2QqUAWHNTBUwsw46b4AbCbFyoXJ2qSQ6Ui6kckCrth792gcsZfcba1FjYB7dUglkMlbwD5+nm44GtBCNXda40hY+ub5s5TdkYpbKWdPQSpb89MubybvJ1e2HydWvF9Ofbk+nP15mlHYvpV1oXv62G6vfgVJhFG3wqVQui44Jo9LGquykuTKt0FYhCnNlkv3mzz5c9qaFrn1AR6Xx2XDAvjtmAzYcwJbANq2WdZ9MW8H1E7CTv11NTzfAtpa0T0BWCEzafn064TuRLAClaotuN3kbLuiI5qvJxflXfbo20rQQGFNCrgttc65vSBwi/7IGIYPgaiTGSqSBFx4yaAjdLJajIS1ERZvwo6NFVbdKPfXTyuFMrZ7V77Pp7B2KQJWEDDxy19zWfF24ZnTdqzVjBjKQOOO1DsTX+ROSGD7xKAr372wF969+JtCFwNg3XfPULob5RWwgLksYsjE0HvDoaeytnjYLFeZ1Htlyy4WOIFPlfY0+PRocP5m0tFqoT79iV3/rUS+iNz++e/OWBFuLOaRL7lJti7TQuWDaFg9YrqM/oO1EuPtn/DGFMqv4V0v/VGA2fMUGh2z09dfxfGvkCKOyATtmg41EY8iGbDhk480Zl+WjMxH01tkzKWnd6LHvM9FhwDaJb5FTeyuVHEtr2J23puOf3whA4oN1vEAqnVqiS04gsUt0mq9HCfn9U83YObSL0ZPwBqelxcZFhz5wF7qL5HOwW47sb8bHNdmdNbz+RCReg7QEoPB1UBpEBUVTlVvJ6kux/1224Y9rVDvf4yKQvpxBWnsXz1/OCICYl1bCN6udY2nN/YTcQ3Owl+fus9M2bj8z/ksYoDQyj+Y5ap/tbkTOaswa8Z/7oDanJRdzZZCGdYVZUdWf8GTv0LUSoTW5WVvuc9wWWhNjy+X/Ya8eDeKbv+xO3VfYnVUGKA12gSY7/m485mM2Ekf47eHg1ej4iMuxGAKlUnnR1P+61aS18XyG1C9URQWnS3RqpgRv3g7DARsejtmAjU6Oj44O/3cRy60NzX8hqoqLqP9iEYurV9u+QzY8/KafTh7OL6a/Ts8adjibXvzM4FRr+7FZ/kDkbgDKBHQzLpCR3mmgp/HW6fQMqGrV6B2cvn07+flqv5Z9oPUwoJQekP8EAAD//5zBhaU5DgAA",
                            "metadata.user-data-encoding": "base64",
                            "metadata_fingerprint": "JzkKee23jGU=",
                            "min_cpu_platform": "",
                            "name": "nkv21-gcp-worker-gpu-20190521133729884900000002",
                            "name_prefix": "nkv21-gcp-worker-gpu-",
                            "network_interface.#": "1",
                            "network_interface.0.access_config.#": "0",
                            "network_interface.0.address": "",
                            "network_interface.0.alias_ip_range.#": "0",
                            "network_interface.0.network": "https://www.googleapis.com/compute/v1/projects/searce-playground/global/networks/default",
                            "network_interface.0.network_ip": "",
                            "network_interface.0.subnetwork": "https://www.googleapis.com/compute/v1/projects/searce-playground/regions/us-west1/subnetworks/default",
                            "network_interface.0.subnetwork_project": "searce-playground",
                            "project": "searce-playground",
                            "region": "us-west1",
                            "scheduling.#": "1",
                            "scheduling.0.automatic_restart": "true",
                            "scheduling.0.node_affinities.#": "0",
                            "scheduling.0.on_host_maintenance": "TERMINATE",
                            "scheduling.0.preemptible": "false",
                            "self_link": "https://www.googleapis.com/compute/beta/projects/searce-playground/global/instanceTemplates/nkv21-gcp-worker-gpu-20190521133729884900000002",
                            "service_account.#": "1",
                            "service_account.0.email": "default",
                            "service_account.0.scopes.#": "4",
                            "service_account.0.scopes.1693978638": "https://www.googleapis.com/auth/devstorage.full_control",
                            "service_account.0.scopes.172152165": "https://www.googleapis.com/auth/logging.write",
                            "service_account.0.scopes.299962681": "https://www.googleapis.com/auth/compute",
                            "service_account.0.scopes.4177124133": "https://www.googleapis.com/auth/monitoring.write",
                            "tags.#": "3",
                            "tags.2135205575": "nat-nkv21-us-west1-b",
                            "tags.2542268873": "allow-ssh",
                            "tags.3775703932": "k8s-nkv21-gcp-worker-gpu",
                            "tags_fingerprint": ""
                        },
                        "meta": {
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.google"
                },
                "null_resource.dummy_dependency": {
                    "type": "null_resource",
                    "depends_on": [
                        "google_compute_instance_group_manager.default",
                        "google_compute_instance_template.default.*"
                    ],
                    "primary": {
                        "id": "1720950951437337390",
                        "attributes": {
                            "id": "1720950951437337390",
                            "triggers.%": "1",
                            "triggers.instance_template": "https://www.googleapis.com/compute/beta/projects/searce-playground/global/instanceTemplates/nkv21-gcp-worker-gpu-20190521133729884900000002"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.null"
                }
            },
            "depends_on": []
        },
        {
            "path": [
                "root",
                "master-1",
                "master-instance"
            ],
            "outputs": {
                "depends_id": {
                    "sensitive": false,
                    "type": "string",
                    "value": "8649587466520705924"
                },
                "name": {
                    "sensitive": false,
                    "type": "string",
                    "value": "k8s-nkv21-master-1"
                },
                "network_ip": {
                    "sensitive": false,
                    "type": "string",
                    "value": "10.138.0.2"
                },
                "target_tags": {
                    "sensitive": false,
                    "type": "list",
                    "value": [
                        "k8s-nkv21-master-1",
                        "nat-nkv21-us-west1-b"
                    ]
                }
            },
            "resources": {
                "data.google_compute_zones.available": {
                    "type": "google_compute_zones",
                    "depends_on": [],
                    "primary": {
                        "id": "2019-05-21 13:35:37.082885748 +0000 UTC",
                        "attributes": {
                            "id": "2019-05-21 13:35:37.082885748 +0000 UTC",
                            "names.#": "4",
                            "names.0": "us-central1-a",
                            "names.1": "us-central1-b",
                            "names.2": "us-central1-c",
                            "names.3": "us-central1-f",
                            "project": "searce-playground",
                            "region": "us-central1"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.google"
                },
                "google_compute_firewall.default-ssh": {
                    "type": "google_compute_firewall",
                    "depends_on": [],
                    "primary": {
                        "id": "k8s-nkv21-master-1-vm-ssh",
                        "attributes": {
                            "allow.#": "1",
                            "allow.2196066154.ports.#": "2",
                            "allow.2196066154.ports.0": "22",
                            "allow.2196066154.ports.1": "8080",
                            "allow.2196066154.protocol": "tcp",
                            "creation_timestamp": "2019-05-21T06:35:39.985-07:00",
                            "deny.#": "0",
                            "description": "",
                            "destination_ranges.#": "0",
                            "direction": "INGRESS",
                            "disabled": "false",
                            "id": "k8s-nkv21-master-1-vm-ssh",
                            "name": "k8s-nkv21-master-1-vm-ssh",
                            "network": "https://www.googleapis.com/compute/v1/projects/searce-playground/global/networks/default",
                            "priority": "1000",
                            "project": "searce-playground",
                            "self_link": "https://www.googleapis.com/compute/v1/projects/searce-playground/global/firewalls/k8s-nkv21-master-1-vm-ssh",
                            "source_ranges.#": "4",
                            "source_ranges.29690369": "173.194.0.0/16",
                            "source_ranges.309538859": "108.177.8.0/21",
                            "source_ranges.3551848266": "74.125.0.0/16",
                            "source_ranges.636545647": "72.14.192.0/18",
                            "source_service_accounts.#": "0",
                            "source_tags.#": "0",
                            "target_service_accounts.#": "0",
                            "target_tags.#": "1",
                            "target_tags.2542268873": "allow-ssh"
                        },
                        "meta": {
                            "e2bfb730-ecaa-11e6-8f88-34363bc7c4c0": {
                                "create": 240000000000,
                                "delete": 240000000000,
                                "update": 240000000000
                            },
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.google"
                },
                "google_compute_instance.default": {
                    "type": "google_compute_instance",
                    "depends_on": [],
                    "primary": {
                        "id": "k8s-nkv21-master-1",
                        "attributes": {
                            "allow_stopping_for_update": "true",
                            "attached_disk.#": "0",
                            "boot_disk.#": "1",
                            "boot_disk.0.auto_delete": "true",
                            "boot_disk.0.device_name": "persistent-disk-0",
                            "boot_disk.0.disk_encryption_key_raw": "",
                            "boot_disk.0.disk_encryption_key_sha256": "",
                            "boot_disk.0.initialize_params.#": "1",
                            "boot_disk.0.initialize_params.0.image": "https://www.googleapis.com/compute/v1/projects/ubuntu-os-cloud/global/images/ubuntu-1604-xenial-v20190112",
                            "boot_disk.0.initialize_params.0.size": "10",
                            "boot_disk.0.initialize_params.0.type": "pd-standard",
                            "boot_disk.0.source": "https://www.googleapis.com/compute/v1/projects/searce-playground/zones/us-west1-b/disks/k8s-nkv21-master-1",
                            "can_ip_forward": "false",
                            "cpu_platform": "Intel Broadwell",
                            "deletion_protection": "false",
                            "guest_accelerator.#": "0",
                            "hostname": "",
                            "id": "k8s-nkv21-master-1",
                            "instance_id": "1750338856232567273",
                            "label_fingerprint": "42WmSpB8rSM=",
                            "labels.%": "0",
                            "machine_type": "n1-standard-4",
                            "metadata.%": "4",
                            "metadata.ssh-keys": "root:ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCu9NfHYTTioKumeHuXXMOL1Qg0uyDRdtLZbeDrXj/O+XUPyNpgHcgvtQDbEeeenvgru2pkqKqjp3okCgYkzLewV5LG2UrkxNgQmJHARmKHOeuTQONpewQj8fWGD8Sty7Pyu+gcdA9qQLkA4ZF03MORXs+lHywbeucEbyPKyiGDTHB9W7iA9jesI+XjYYV8ESrQjt5CkxYMMnVcTYZleSuznd90MjR6lDNxpqXW0p1viNq/6NV0hiKFiy9tfOk8dbtdUhMp1UyLVJ2fg7rBO0f5tjL8HbaAhizfNr/O+W/Ei5lbXFwvtvk39bx5QpojafvCaBlc+Dj085Ae9XC1WlUD\n",
                            "metadata.tf_depends_id": "8229196474861293000,4399118748694105281,132221667398456715",
                            "metadata.user-data": "H4sIAAAAAAAA/9RYbXMbt/F/jxl/h/2fPcm/SXBHSrIs07nM0BKdycSyPLTStOOqHhBYHmGCwBXAMVRS97N3ANzxQQ+007SZ9pVE7O4Pi93Fbxd3arRH7enldY0DWDTKy5pZXyzkCsUzmJhGC2avy+z8u/PR84sfXp0Nx3/OSPhF/4jWSaMH0M97D8gDQum20gPSYZ9JVxsnfdRl3jM+W6D2z2AqFWq2wDJz3Mrau6JGS6V2nmmORb9H5yeOcmMxd7NsA3hpmXZTtHSkuRFSVwN4MpF+SyGexuPKFyvqZqhU2uABOZcLvOX4w/8rJlIXE+ZmQFdICG+sAkotensNj4FO3ZuXMPO+doOiEOYnrQwTuTB8jjbnZlEoqZtV0Uwa7Zuiqiv4O7Da0zleAxMCaIu4g1MzPmcVupwr04i8MqZSGNFY7QtheNFC5HcBEs48fP316OIFfAMF+qhdONNYji5X0vlcFPNmglajb1eIwEncflAE7XxLLE0Bm590hVoyBQsmNRldvCDENcKEnWnwwmLMp7HX8BcCAFnAfcssn5VsIY6Prj45Vsn+0f8rN3lnUSFzCJS7P6R159lEYUYI8pmBjM+Qz2sjtadGY800KthyhQmBIutcrT2t0IPFhVkiODerGmYF0Os75ZSyxht6h/aevZ2b0aTX6Fi0St12oKkF87gPZlczAGj0Pxk7f1erppK6DHnR6ImcwlvIOFOSmwzKcvP/1TPwM9QE4IYp15JM5b7dWwNIBuDQgzfAtcwIeQhn1tQgNXCjp7KCqbHQegNMC4iVC7U1SynQksVcSAu0TvXorp3HhWj/xlpU6HOHdik55iJW8Defplsc9GjFw755cCUVPnn7JsmvyEgvpTU60EqZff/D89HL0eW7V6PLHy/G378bjr99U1LanpS2oXn0y26sPgClXEsa8KmQtoyOcS2LsKtopROpk9DUPgonUmd3b3/26k23NVeN82ip0K7s9/Knx3kv7/dgS2DCVSvbn7kynKl7YEd/uhwPN8CmEbRLQFlxzNJ9vT/hO5GsAIVMRbebvA0XtETz+ejixeddujbSouIYU0LeVspMmLoisYn8bDRCCd42SLQRSD2rHJQQCF3Plwd9umDx5P0k7kif1hancnWPZpdBa94j91QKKMEhs8FOsevKhna1VgutBUoQOGWN8sQ1k3skMWT81snXZ0uC9Un3BLfiGO9Ke2EaG0P7MF4aJhbQz08geMCip/E+dVRZST9rJpEht1xoSbGQzjXoiqPe8b2JKuq5/PgpdvW3DvUwevPty+enxJuGz6BYMlsoUxWVmvBcmeoGs7WUBzR1gfd/i390JfUq/pcon3Is+0/y3mF+8MUXcX2rzXAty15+nPc2EoW+7Of9fn6yWWNicWuNe7W1ticlyY0Oe52JFgO2iXuLkJJVIRgujM7fO6NbzvmFAGTOG8sqpMLKJdpsAJlZolXs+iAjHz52AVuHdjE64t3gJCoMLlp0nlnfGpJPwU682FnGw4XsTgOX3xOJZyAMAahc46UCXkMVqnIrWV0pdn+XKfxxdEo9PTb/4tEUisbZuP5oSgD4bGEEfLnaWRZGr7viHdQGd3LbOjvp4nZ94lfCAKWRcxSboHLl7hRkjcIyMc5HtruzmxqBkHA388g6kamaQiANE/+Bgfmg13Ll7z0u3xxFt0imrbJEMqyWa7BOMD+JcV/2mapnrE/mUosBnMdznLYsykIoyAZ1DdLWIIlJft3meBBomHgzRz2A46cnJ+wkP+BH+Piw9+Tg+IiJE95P4svLlwPIelnXMkJsCHTX501sGAPoOnav6B8QgNqIteTpQd4/PkmyY8IaPzNW/hzdPTcC3YBQeGUEEgrj58PTEIAws6A9RevfDF9Fhf7Bk4CQ9wk32lujFNpzplmFdrTylg1t5YJb3bAQKmBwV38EYCqMDh5TgXMprBtAFrpwFgCksLRVMZb6mPZszHSFw2416nXNq7081jQeA9CUKZeQ4nrSG+xvLBu/w/a3YraO9noWkjW1waVbgZ8i88GpikVvzjCYvY7DmyvDGb8aKjUMVZR+jY1nHr9Pl3YTdjmVIURlPMyu0qmSqP1tpdGqRivDHWTq1EovOVOvjRhqHayl0XFD4vgMRaNupO2/3u11Uf5vuR2Htthaese93n7i2UPZXRvkFtvnV7citfShgaS3z2/G354IcVUb6yF0rNOLVy+++7a8Cc/EQuod8N/cJfc72R7Toc/IJz01F0zLKTr/bpnYuCQAb9/CYf4Yyn/AXw/yI7i6gs8+u63Yz493dcPfe3WfJF36Mzz65ab4Q2uWTjYajy/GA/hBu6YO8UUByW1Ydg3jMH+cRYOV9NAnm2ESWF2ra6DTrW8X3OXtUyPB5MZWxfIwPywq9F7qirbj1Xbi2oEyFmoxMy6I7YRxOhciv2YL9a/t+fjX7rk1uQnmWRg3sUiYdNPuin7+pF1Nzu3/WtCGc3tofginibjHRuFzGeaL+JKoQ8hdmC9gaVSzwPSdIKQBbU66EKRr1/WIMH1NpI4gaW4abHriYANJEyTdgowvg/WLOo5xLcKnmDUujM1Jv21IjHPTaD8IntIOasmDsUceQk03vu0NWnIJgk/QnW5DN5vX4SI2fRcu2PoiOBDSIvfGXn8FLn6Da6lkwWpg0wAc9CNZWfSN1e5WdOkUaPeG3xnClt28lSatc1aTBXoWCib0gDRpSF1ZdI42UrRrrmYc0wjXRoZ0Jh0TBe0BPJ0+ZdOjY8TJkcBpr0cA7l7/yJupJadw5F2eDoeM8zZot+0PbM3x+4CT7bZhuJMy4P/b5vOJMb7o96is4/dM97tN5/ELXnoR9vP+4ZfdBw8HLy7GP47PwoPzbHzxOocw/v0U64hPbA+k9minjGNOOqeBDqPVcHwGVCY1+h6Gp6ej15d3a5kbWjcDSukD8s8AAAD//wHTZTqAGAAA",
                            "metadata.user-data-encoding": "base64",
                            "metadata_fingerprint": "6hpukckGiUo=",
                            "metadata_startup_script": "",
                            "min_cpu_platform": "",
                            "name": "k8s-nkv21-master-1",
                            "network_interface.#": "1",
                            "network_interface.0.access_config.#": "1",
                            "network_interface.0.access_config.0.assigned_nat_ip": "",
                            "network_interface.0.access_config.0.nat_ip": "35.185.237.71",
                            "network_interface.0.access_config.0.network_tier": "PREMIUM",
                            "network_interface.0.access_config.0.public_ptr_domain_name": "",
                            "network_interface.0.address": "",
                            "network_interface.0.alias_ip_range.#": "0",
                            "network_interface.0.name": "nic0",
                            "network_interface.0.network": "https://www.googleapis.com/compute/v1/projects/searce-playground/global/networks/default",
                            "network_interface.0.network_ip": "10.138.0.2",
                            "network_interface.0.subnetwork": "https://www.googleapis.com/compute/v1/projects/searce-playground/regions/us-west1/subnetworks/default",
                            "network_interface.0.subnetwork_project": "searce-playground",
                            "project": "searce-playground",
                            "scheduling.#": "1",
                            "scheduling.0.automatic_restart": "true",
                            "scheduling.0.node_affinities.#": "0",
                            "scheduling.0.on_host_maintenance": "TERMINATE",
                            "scheduling.0.preemptible": "false",
                            "scratch_disk.#": "0",
                            "self_link": "https://www.googleapis.com/compute/v1/projects/searce-playground/zones/us-west1-b/instances/k8s-nkv21-master-1",
                            "service_account.#": "1",
                            "service_account.0.email": "531268413988-compute@developer.gserviceaccount.com",
                            "service_account.0.scopes.#": "4",
                            "service_account.0.scopes.1693978638": "https://www.googleapis.com/auth/devstorage.full_control",
                            "service_account.0.scopes.172152165": "https://www.googleapis.com/auth/logging.write",
                            "service_account.0.scopes.299962681": "https://www.googleapis.com/auth/compute",
                            "service_account.0.scopes.4177124133": "https://www.googleapis.com/auth/monitoring.write",
                            "tags.#": "3",
                            "tags.212866301": "k8s-nkv21-master-1",
                            "tags.2135205575": "nat-nkv21-us-west1-b",
                            "tags.2542268873": "allow-ssh",
                            "tags_fingerprint": "bK5JN3zsC5U=",
                            "zone": "us-west1-b"
                        },
                        "meta": {
                            "e2bfb730-ecaa-11e6-8f88-34363bc7c4c0": {
                                "create": 360000000000,
                                "delete": 360000000000,
                                "update": 360000000000
                            },
                            "schema_version": "6"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.google"
                },
                "null_resource.dummy_dependency": {
                    "type": "null_resource",
                    "depends_on": [
                        "google_compute_instance.default"
                    ],
                    "primary": {
                        "id": "8649587466520705924",
                        "attributes": {
                            "id": "8649587466520705924"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.null"
                }
            },
            "depends_on": []
        },
        {
            "path": [
                "root",
                "nat",
                "nat-gateway"
            ],
            "outputs": {
                "depends_id": {
                    "sensitive": false,
                    "type": "string",
                    "value": "8229196474861293000"
                },
                "health_check": {
                    "sensitive": false,
                    "type": "string",
                    "value": ""
                },
                "instance_group": {
                    "sensitive": false,
                    "type": "string",
                    "value": "https://www.googleapis.com/compute/v1/projects/searce-playground/zones/us-west1-b/instanceGroups/k8s-nkv21-nat"
                },
                "instance_template": {
                    "sensitive": false,
                    "type": "list",
                    "value": [
                        "https://www.googleapis.com/compute/beta/projects/searce-playground/global/instanceTemplates/nkv21-nat-20190521133545135700000001"
                    ]
                },
                "instances": {
                    "sensitive": false,
                    "type": "list",
                    "value": [
                        [
                            "https://www.googleapis.com/compute/v1/projects/searce-playground/zones/us-west1-b/instances/k8s-nkv21-nat-g4hn"
                        ]
                    ]
                },
                "name": {
                    "sensitive": false,
                    "type": "string",
                    "value": "k8s-nkv21-nat"
                },
                "network_ip": {
                    "sensitive": false,
                    "type": "string",
                    "value": ""
                },
                "region_depends_id": {
                    "sensitive": false,
                    "type": "string",
                    "value": ""
                },
                "region_instance_group": {
                    "sensitive": false,
                    "type": "string",
                    "value": ""
                },
                "service_port": {
                    "sensitive": false,
                    "type": "string",
                    "value": "80"
                },
                "service_port_name": {
                    "sensitive": false,
                    "type": "string",
                    "value": "http"
                },
                "target_tags": {
                    "sensitive": false,
                    "type": "list",
                    "value": [
                        "inst-nat-nkv21-us-west1-b",
                        "inst-nat-us-west1"
                    ]
                }
            },
            "resources": {
                "data.google_compute_instance_group.zonal": {
                    "type": "google_compute_instance_group",
                    "depends_on": [
                        "google_compute_instance_group_manager.default.*",
                        "local.dependency_id"
                    ],
                    "primary": {
                        "id": "us-west1-b/k8s-nkv21-nat",
                        "attributes": {
                            "description": "This instance group is controlled by Instance Group Manager 'k8s-nkv21-nat'. To modify instances in this group, use the Instance Group Manager API: https://cloud.google.com/compute/docs/reference/latest/instanceGroupManagers",
                            "id": "us-west1-b/k8s-nkv21-nat",
                            "instances.#": "1",
                            "instances.2459555728": "https://www.googleapis.com/compute/v1/projects/searce-playground/zones/us-west1-b/instances/k8s-nkv21-nat-g4hn",
                            "name": "k8s-nkv21-nat",
                            "named_port.#": "1",
                            "named_port.0.name": "http",
                            "named_port.0.port": "80",
                            "network": "https://www.googleapis.com/compute/v1/projects/searce-playground/global/networks/default",
                            "project": "searce-playground",
                            "self_link": "https://www.googleapis.com/compute/v1/projects/searce-playground/zones/us-west1-b/instanceGroups/k8s-nkv21-nat",
                            "size": "1",
                            "zone": "us-west1-b"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.google-beta"
                },
                "data.google_compute_zones.available": {
                    "type": "google_compute_zones",
                    "depends_on": [],
                    "primary": {
                        "id": "2019-05-21 13:35:37.056760281 +0000 UTC",
                        "attributes": {
                            "id": "2019-05-21 13:35:37.056760281 +0000 UTC",
                            "names.#": "3",
                            "names.0": "us-west1-a",
                            "names.1": "us-west1-b",
                            "names.2": "us-west1-c",
                            "project": "searce-playground",
                            "region": "us-west1"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.google"
                },
                "google_compute_firewall.default-ssh": {
                    "type": "google_compute_firewall",
                    "depends_on": [],
                    "primary": {
                        "id": "k8s-nkv21-nat-vm-ssh",
                        "attributes": {
                            "allow.#": "1",
                            "allow.2196066154.ports.#": "2",
                            "allow.2196066154.ports.0": "22",
                            "allow.2196066154.ports.1": "8080",
                            "allow.2196066154.protocol": "tcp",
                            "creation_timestamp": "2019-05-21T06:35:39.975-07:00",
                            "deny.#": "0",
                            "description": "",
                            "destination_ranges.#": "0",
                            "direction": "INGRESS",
                            "disabled": "false",
                            "id": "k8s-nkv21-nat-vm-ssh",
                            "name": "k8s-nkv21-nat-vm-ssh",
                            "network": "https://www.googleapis.com/compute/v1/projects/searce-playground/global/networks/default",
                            "priority": "1000",
                            "project": "searce-playground",
                            "self_link": "https://www.googleapis.com/compute/v1/projects/searce-playground/global/firewalls/k8s-nkv21-nat-vm-ssh",
                            "source_ranges.#": "1",
                            "source_ranges.1080289494": "0.0.0.0/0",
                            "source_service_accounts.#": "0",
                            "source_tags.#": "0",
                            "target_service_accounts.#": "0",
                            "target_tags.#": "1",
                            "target_tags.2542268873": "allow-ssh"
                        },
                        "meta": {
                            "e2bfb730-ecaa-11e6-8f88-34363bc7c4c0": {
                                "create": 240000000000,
                                "delete": 240000000000,
                                "update": 240000000000
                            },
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.google"
                },
                "google_compute_instance_group_manager.default": {
                    "type": "google_compute_instance_group_manager",
                    "depends_on": [
                        "google_compute_instance_template.default"
                    ],
                    "primary": {
                        "id": "searce-playground/us-west1-b/k8s-nkv21-nat",
                        "attributes": {
                            "auto_healing_policies.#": "0",
                            "base_instance_name": "k8s-nkv21-nat",
                            "description": "compute VM Instance Group",
                            "fingerprint": "5adVDkLGnbc=",
                            "id": "searce-playground/us-west1-b/k8s-nkv21-nat",
                            "instance_group": "https://www.googleapis.com/compute/v1/projects/searce-playground/zones/us-west1-b/instanceGroups/k8s-nkv21-nat",
                            "name": "k8s-nkv21-nat",
                            "named_port.#": "1",
                            "named_port.1915903613.name": "http",
                            "named_port.1915903613.port": "80",
                            "project": "searce-playground",
                            "self_link": "https://www.googleapis.com/compute/v1/projects/searce-playground/zones/us-west1-b/instanceGroupManagers/k8s-nkv21-nat",
                            "target_pools.#": "0",
                            "target_size": "1",
                            "update_policy.#": "1",
                            "update_policy.0.max_surge_fixed": "0",
                            "update_policy.0.max_surge_percent": "20",
                            "update_policy.0.max_unavailable_fixed": "2",
                            "update_policy.0.max_unavailable_percent": "0",
                            "update_policy.0.min_ready_sec": "50",
                            "update_policy.0.minimal_action": "REPLACE",
                            "update_policy.0.type": "OPPORTUNISTIC",
                            "version.#": "1",
                            "version.0.instance_template": "https://www.googleapis.com/compute/v1/projects/searce-playground/global/instanceTemplates/nkv21-nat-20190521133545135700000001",
                            "version.0.name": "test",
                            "version.0.target_size.#": "0",
                            "wait_for_instances": "true",
                            "zone": "us-west1-b"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.google-beta"
                },
                "google_compute_instance_template.default": {
                    "type": "google_compute_instance_template",
                    "depends_on": [],
                    "primary": {
                        "id": "nkv21-nat-20190521133545135700000001",
                        "attributes": {
                            "can_ip_forward": "true",
                            "description": "",
                            "disk.#": "1",
                            "disk.0.auto_delete": "true",
                            "disk.0.boot": "true",
                            "disk.0.device_name": "persistent-disk-0",
                            "disk.0.disk_encryption_key.#": "0",
                            "disk.0.disk_name": "",
                            "disk.0.disk_size_gb": "0",
                            "disk.0.disk_type": "pd-ssd",
                            "disk.0.interface": "SCSI",
                            "disk.0.mode": "READ_WRITE",
                            "disk.0.source": "",
                            "disk.0.source_image": "projects/debian-cloud/global/images/family/debian-9",
                            "disk.0.type": "PERSISTENT",
                            "guest_accelerator.#": "1",
                            "guest_accelerator.0.count": "0",
                            "guest_accelerator.0.type": "nvidia-tesla-k80",
                            "id": "nkv21-nat-20190521133545135700000001",
                            "instance_description": "",
                            "machine_type": "n1-standard-1",
                            "metadata.%": "2",
                            "metadata.startup-script": "#!/bin/bash -xe\n\n# Enable ip forwarding and nat\nsysctl -w net.ipv4.ip_forward=1\n\necho \"checkpoint-onepanel ip forwarding enabled\"\n\n\n# Make forwarding persistent.\nsed -i= 's/^[# ]*net.ipv4.ip_forward=[[:digit:]]/net.ipv4.ip_forward=1/g' /etc/sysctl.conf\n\niptables -t nat -A POSTROUTING -o eth0 -j MASQUERADE\n\necho \"checkpoint-onepanel ip forwarding made persistent\"\n\n#add kubectl repo\nsudo apt-get update \u0026\u0026 sudo apt-get install -y apt-transport-https\ncurl -s https://packages.cloud.google.com/apt/doc/apt-key.gpg | sudo apt-key add -\necho \"deb https://apt.kubernetes.io/ kubernetes-xenial main\" | sudo tee -a /etc/apt/sources.list.d/kubernetes.list\n\n\necho \"checkpoint-onepanel added kubectl repo\"\n\nsudo apt-get update\n\n\necho \"checkpoint-onepanel apt-get update complete\"\n\n#install kubectl for proxy\nsudo apt-get install -y kubectl\n\necho \"checkpoint-onepanel kubectl installed\"\n\n\n# Install nginx for instance http health check\napt-get install -y nginx\n\n\necho \"checkpoint-onepanel nginx for health check installed\"\n\nENABLE_SQUID=\"false\"\n\nif [[ \"$$ENABLE_SQUID\" == \"true\" ]]; then\n  apt-get install -y squid3\n\n  cat - \u003e /etc/squid/squid.conf \u003c\u003c'EOM'\nshutdown_lifetime 3 seconds\n\nhttp_access allow all\n\nhttp_port 3128\nhttp_port 3129 transparent\n\n# Anonymous proxy settings\nvia off\nforwarded_for off\n\nrequest_header_access Allow allow all \nrequest_header_access Authorization allow all \nrequest_header_access WWW-Authenticate allow all \nrequest_header_access Proxy-Authorization allow all \nrequest_header_access Proxy-Authenticate allow all \nrequest_header_access Cache-Control allow all \nrequest_header_access Content-Encoding allow all \nrequest_header_access Content-Length allow all \nrequest_header_access Content-Type allow all \nrequest_header_access Date allow all \nrequest_header_access Expires allow all \nrequest_header_access Host allow all \nrequest_header_access If-Modified-Since allow all \nrequest_header_access Last-Modified allow all \nrequest_header_access Location allow all \nrequest_header_access Pragma allow all \nrequest_header_access Accept allow all \nrequest_header_access Accept-Charset allow all \nrequest_header_access Accept-Encoding allow all \nrequest_header_access Accept-Language allow all \nrequest_header_access Content-Language allow all \nrequest_header_access Mime-Version allow all \nrequest_header_access Retry-After allow all \nrequest_header_access Title allow all \nrequest_header_access Connection allow all \nrequest_header_access Proxy-Connection allow all \nrequest_header_access User-Agent allow all \nrequest_header_access Cookie allow all \nrequest_header_access All deny all\nEOM\n\n  systemctl reload squid\nfi\n\n#transfer master pem filename\ntouch ~/master.pem\ncat - \u003e ~/master.pem \u003c\u003c'EOM'\n-----BEGIN RSA PRIVATE KEY-----\nMIIEpAIBAAKCAQEArvTXx2E04qCrpnh7l1zDi9UINLsg0XbS2W3g614/zvl1D8ja\nYB3IL7UA2xHnnp74K7tqZKiqo6d6JAoGJMy3sFeSxtlK5MTYEJiRwEZihznrk0Dj\naXsEI/H1hg/Ercuz8rvoHHQPakC5AOGRdNzDkV7PpR8sG3rnBG8jysohg0xwfVu4\ngPY3rCPl42GFfBEq0I7eQpMWDDJ1XE2GZXkrs53fdDI0epQzcaal1tKdb4jav+jV\ndIYihYsvbXzpPHW7XVITKdVMi1Sdn4O6wTtH+bYy/B22gIYs3za/zvlvxIuZW1xc\nL7b5N/W8eUKaI2n7wmgZXPg49POQHvVwtVpVAwIDAQABAoIBAQCs9Eh3xmW0f+cQ\nW1y6Zi69hixljHPF/jQ0U4Ycx4BGyJ5rq0AN8oMaflHJPyr8yORGvzBPL9n4jLCW\n/f3S1TnlrrzfrKF4BAwgY+L589qlGaIDYQsvFDgknKX+EIp60LwkgpPTxPwUKsV4\n1ISpxS/j/plA/87nn5jO7luwth9pHj4vjd9rRFAKaxRG0Fxodih4LcT/jR4w3Bnp\ntgbiLXWX/kWbT21YY/Bxtc7xhepHFacAR5l7sV7kzw9UQDbzjkAvtzKfJr/ciZFy\n9cb0FxWxgyAjCXTPBRGWRYFWujh0kz60ArsGIOBPacXDrhhEPfFMCF0ihbF8Lu67\n1asMZxQBAoGBAM7SAPWZUe2kh45JnmVoMbEuUs0pIpr011Xy7H8FGjXGdUfO3eZO\ncqYd8nMSAwLVEsy+VTb+Y/+E5BdFA0cxFDtN84cIpU4h5igTTfAVmpToKcj0WbKO\n9M3G1C2UIwNBpruXEM5LAE2ZT8HtQJmbyvIr/b+FPmmbnum4W6XOog4BAoGBANiP\nJzEMwyoOVOLXQWdRfCwqPcDbWLHBUBZaD0SRMnj+LYV3j1xMpWY/uHqjwgoduStI\nTPDpEY7pMH4ELeVAPfVUgnPXx9myunr7lWuLcX8uIz2qznGb8v4bRvDHO6Fv8rwQ\nbuI5lxnQxIjEqefVBksnRYHg+gxJv6SFVU6lGisDAoGBAKozXoC/PRIRfVDWOtj/\nJy3FjnSx7n2REojz0jYxz8EDYk7G6gv28RjNulGCOCIjkUYXOG96aHbGOSMBM1Jq\nDFlFrCyrK8ah1ROT12bFkKIMcR6kIBD23nVdtA0SRMIQTBNCnZz3UfeKPH2+LpR7\nBkfHdhofoB4u6Fc01Y8c/nYBAoGAcad3vyNejgTlggPMvIekbp1guYWk3+1/tatg\nVfEKFzv28hQUdjF3oNkSXbLyFFMTKmcQkmMPpvw1Sf2xhJ6ZpdbLfDakGVnWytKc\n0ctmLoQtVKD/JdrdxYTVT2qQniJdt1u8hhgJeC/75XepYBWJ7wlWTlqfgLF31cVw\nRw0ZVbcCgYAvE4eFklgfaxIG9sHfVTpGNhNueePxTpAjSrvGW4gy7t4+AP3BKYDJ\nFC5GqaQP017/5s87enRojTosuo6L6S2qxHBPZeVYf+NIu1HyWTHMfVn+1fw6/NrG\nT6IfVYAqv8OibTkgciEfs1PpJELze6tLYaILLg28UYZswGbgKD9wqQ==\n-----END RSA PRIVATE KEY-----\n\nEOM\n\necho \"checkpoint-onepanel master.pem added\"\n\nchmod 400 ~/master.pem\n\nsleep 150\n\nmkdir ~/.ssh\n\nssh-keyscan -H \"10.138.0.2\" \u003e\u003e ~/.ssh/known_hosts\n\n\necho \"checkpoint-onepanel ssh-keyscan in master\"\n\n#wait for master to be ready\nwhile :; do\n    (scp -i ~/master.pem root@\"10.138.0.2\":/etc/kubernetes/admin.conf ~/ \u0026\u003e /dev/null) \u0026\u0026 break\n    sleep 2\ndone\n\necho \"checkpoint-onepanel admin.conf copied to nat\"\n\nexport KUBECONFIG=~/admin.conf\n\n\necho \"checkpoint-onepanel KUBECONFIG Set\"\n\n# setup kube proxy\nkubectl proxy --address='0.0.0.0' --port=8080 --accept-hosts='.*' \u0026\n\necho \"checkpoint-onepanel kube proxy enabled\"\n",
                            "metadata.tf_depends_id": "",
                            "metadata_fingerprint": "YwcqxShE6Mc=",
                            "min_cpu_platform": "",
                            "name": "nkv21-nat-20190521133545135700000001",
                            "name_prefix": "nkv21-nat-",
                            "network_interface.#": "1",
                            "network_interface.0.access_config.#": "1",
                            "network_interface.0.access_config.0.assigned_nat_ip": "",
                            "network_interface.0.access_config.0.nat_ip": "34.83.19.181",
                            "network_interface.0.access_config.0.network_tier": "PREMIUM",
                            "network_interface.0.address": "",
                            "network_interface.0.alias_ip_range.#": "0",
                            "network_interface.0.network": "https://www.googleapis.com/compute/v1/projects/searce-playground/global/networks/default",
                            "network_interface.0.network_ip": "",
                            "network_interface.0.subnetwork": "https://www.googleapis.com/compute/v1/projects/searce-playground/regions/us-west1/subnetworks/default",
                            "network_interface.0.subnetwork_project": "searce-playground",
                            "project": "searce-playground",
                            "region": "us-west1",
                            "scheduling.#": "1",
                            "scheduling.0.automatic_restart": "true",
                            "scheduling.0.node_affinities.#": "0",
                            "scheduling.0.on_host_maintenance": "TERMINATE",
                            "scheduling.0.preemptible": "false",
                            "self_link": "https://www.googleapis.com/compute/beta/projects/searce-playground/global/instanceTemplates/nkv21-nat-20190521133545135700000001",
                            "service_account.#": "1",
                            "service_account.0.email": "default",
                            "service_account.0.scopes.#": "4",
                            "service_account.0.scopes.1693978638": "https://www.googleapis.com/auth/devstorage.full_control",
                            "service_account.0.scopes.172152165": "https://www.googleapis.com/auth/logging.write",
                            "service_account.0.scopes.299962681": "https://www.googleapis.com/auth/compute",
                            "service_account.0.scopes.4177124133": "https://www.googleapis.com/auth/monitoring.write",
                            "tags.#": "3",
                            "tags.1505879663": "inst-nat-nkv21-us-west1-b",
                            "tags.2279103039": "inst-nat-us-west1",
                            "tags.2542268873": "allow-ssh",
                            "tags_fingerprint": ""
                        },
                        "meta": {
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.google"
                },
                "null_resource.dummy_dependency": {
                    "type": "null_resource",
                    "depends_on": [
                        "google_compute_instance_group_manager.default",
                        "google_compute_instance_template.default.*"
                    ],
                    "primary": {
                        "id": "8229196474861293000",
                        "attributes": {
                            "id": "8229196474861293000",
                            "triggers.%": "1",
                            "triggers.instance_template": "https://www.googleapis.com/compute/beta/projects/searce-playground/global/instanceTemplates/nkv21-nat-20190521133545135700000001"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.null"
                }
            },
            "depends_on": []
        }
    ]
}
